var qb=Object.defineProperty;var O5=n=>{throw TypeError(n)};var Yb=(n,e,t)=>e in n?qb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var O=(n,e,t)=>Yb(n,typeof e!="symbol"?e+"":e,t),F1=(n,e,t)=>e.has(n)||O5("Cannot "+t);var a=(n,e,t)=>(F1(n,e,"read from private field"),t?t.call(n):e.get(n)),x=(n,e,t)=>e.has(n)?O5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),g=(n,e,t,i)=>(F1(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),b=(n,e,t)=>(F1(n,e,"access private method"),t);var St=(n,e,t,i)=>({set _(r){g(n,e,r,t)},get _(){return a(n,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function Qb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var kC={exports:{}},o1={},TC={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg=Symbol.for("react.element"),Zb=Symbol.for("react.portal"),Jb=Symbol.for("react.fragment"),eA=Symbol.for("react.strict_mode"),tA=Symbol.for("react.profiler"),nA=Symbol.for("react.provider"),iA=Symbol.for("react.context"),rA=Symbol.for("react.forward_ref"),sA=Symbol.for("react.suspense"),oA=Symbol.for("react.memo"),aA=Symbol.for("react.lazy"),j5=Symbol.iterator;function lA(n){return n===null||typeof n!="object"?null:(n=j5&&n[j5]||n["@@iterator"],typeof n=="function"?n:null)}var _C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RC=Object.assign,PC={};function Mu(n,e,t){this.props=n,this.context=e,this.refs=PC,this.updater=t||_C}Mu.prototype.isReactComponent={};Mu.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Mu.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function IC(){}IC.prototype=Mu.prototype;function l3(n,e,t){this.props=n,this.context=e,this.refs=PC,this.updater=t||_C}var c3=l3.prototype=new IC;c3.constructor=l3;RC(c3,Mu.prototype);c3.isPureReactComponent=!0;var z5=Array.isArray,DC=Object.prototype.hasOwnProperty,d3={current:null},MC={key:!0,ref:!0,__self:!0,__source:!0};function NC(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)DC.call(e,i)&&!MC.hasOwnProperty(i)&&(r[i]=e[i]);var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(n&&n.defaultProps)for(i in l=n.defaultProps,l)r[i]===void 0&&(r[i]=l[i]);return{$$typeof:eg,type:n,key:s,ref:o,props:r,_owner:d3.current}}function cA(n,e){return{$$typeof:eg,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function u3(n){return typeof n=="object"&&n!==null&&n.$$typeof===eg}function dA(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var W5=/\/+/g;function O1(n,e){return typeof n=="object"&&n!==null&&n.key!=null?dA(""+n.key):e.toString(36)}function Hg(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case eg:case Zb:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+O1(o,0):i,z5(r)?(t="",n!=null&&(t=n.replace(W5,"$&/")+"/"),Hg(r,e,t,"",function(d){return d})):r!=null&&(u3(r)&&(r=cA(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(W5,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",z5(n))for(var l=0;l<n.length;l++){s=n[l];var c=i+O1(s,l);o+=Hg(s,e,t,c,r)}else if(c=lA(n),typeof c=="function")for(n=c.call(n),l=0;!(s=n.next()).done;)s=s.value,c=i+O1(s,l++),o+=Hg(s,e,t,c,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hg(n,e,t){if(n==null)return n;var i=[],r=0;return Hg(n,i,"","",function(s){return e.call(t,s,r++)}),i}function uA(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var En={current:null},Ug={transition:null},hA={ReactCurrentDispatcher:En,ReactCurrentBatchConfig:Ug,ReactCurrentOwner:d3};function BC(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:hg,forEach:function(n,e,t){hg(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return hg(n,function(){e++}),e},toArray:function(n){return hg(n,function(e){return e})||[]},only:function(n){if(!u3(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};me.Component=Mu;me.Fragment=Jb;me.Profiler=tA;me.PureComponent=l3;me.StrictMode=eA;me.Suspense=sA;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hA;me.act=BC;me.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=RC({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=d3.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(c in e)DC.call(e,c)&&!MC.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=t;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:eg,type:n.type,key:r,ref:s,props:i,_owner:o}};me.createContext=function(n){return n={$$typeof:iA,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:nA,_context:n},n.Consumer=n};me.createElement=NC;me.createFactory=function(n){var e=NC.bind(null,n);return e.type=n,e};me.createRef=function(){return{current:null}};me.forwardRef=function(n){return{$$typeof:rA,render:n}};me.isValidElement=u3;me.lazy=function(n){return{$$typeof:aA,_payload:{_status:-1,_result:n},_init:uA}};me.memo=function(n,e){return{$$typeof:oA,type:n,compare:e===void 0?null:e}};me.startTransition=function(n){var e=Ug.transition;Ug.transition={};try{n()}finally{Ug.transition=e}};me.unstable_act=BC;me.useCallback=function(n,e){return En.current.useCallback(n,e)};me.useContext=function(n){return En.current.useContext(n)};me.useDebugValue=function(){};me.useDeferredValue=function(n){return En.current.useDeferredValue(n)};me.useEffect=function(n,e){return En.current.useEffect(n,e)};me.useId=function(){return En.current.useId()};me.useImperativeHandle=function(n,e,t){return En.current.useImperativeHandle(n,e,t)};me.useInsertionEffect=function(n,e){return En.current.useInsertionEffect(n,e)};me.useLayoutEffect=function(n,e){return En.current.useLayoutEffect(n,e)};me.useMemo=function(n,e){return En.current.useMemo(n,e)};me.useReducer=function(n,e,t){return En.current.useReducer(n,e,t)};me.useRef=function(n){return En.current.useRef(n)};me.useState=function(n){return En.current.useState(n)};me.useSyncExternalStore=function(n,e,t){return En.current.useSyncExternalStore(n,e,t)};me.useTransition=function(){return En.current.useTransition()};me.version="18.3.1";TC.exports=me;var $=TC.exports;const rc=Qb($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pA=$,fA=Symbol.for("react.element"),gA=Symbol.for("react.fragment"),mA=Object.prototype.hasOwnProperty,yA=pA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vA={key:!0,ref:!0,__self:!0,__source:!0};function LC(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)mA.call(e,i)&&!vA.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:fA,type:n,key:s,ref:o,props:r,_owner:yA.current}}o1.Fragment=gA;o1.jsx=LC;o1.jsxs=LC;kC.exports=o1;var f=kC.exports,P2={},FC={exports:{}},Ei={},OC={exports:{}},jC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(R,L){var H=R.length;R.push(L);e:for(;0<H;){var ie=H-1>>>1,G=R[ie];if(0<r(G,L))R[ie]=L,R[H]=G,H=ie;else break e}}function t(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var L=R[0],H=R.pop();if(H!==L){R[0]=H;e:for(var ie=0,G=R.length,ne=G>>>1;ie<ne;){var X=2*(ie+1)-1,te=R[X],Be=X+1,Ve=R[Be];if(0>r(te,H))Be<G&&0>r(Ve,te)?(R[ie]=Ve,R[Be]=H,ie=Be):(R[ie]=te,R[X]=H,ie=X);else if(Be<G&&0>r(Ve,H))R[ie]=Ve,R[Be]=H,ie=Be;else break e}}return L}function r(R,L){var H=R.sortIndex-L.sortIndex;return H!==0?H:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,p=3,m=!1,C=!1,v=!1,A=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var L=t(d);L!==null;){if(L.callback===null)i(d);else if(L.startTime<=R)i(d),L.sortIndex=L.expirationTime,e(c,L);else break;L=t(d)}}function k(R){if(v=!1,w(R),!C)if(t(c)!==null)C=!0,z(E);else{var L=t(d);L!==null&&W(k,L.startTime-R)}}function E(R,L){C=!1,v&&(v=!1,y(P),P=-1),m=!0;var H=p;try{for(w(L),h=t(c);h!==null&&(!(h.expirationTime>L)||R&&!D());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,p=h.priorityLevel;var G=ie(h.expirationTime<=L);L=n.unstable_now(),typeof G=="function"?h.callback=G:h===t(c)&&i(c),w(L)}else i(c);h=t(c)}if(h!==null)var ne=!0;else{var X=t(d);X!==null&&W(k,X.startTime-L),ne=!1}return ne}finally{h=null,p=H,m=!1}}var T=!1,_=null,P=-1,N=5,B=-1;function D(){return!(n.unstable_now()-B<N)}function I(){if(_!==null){var R=n.unstable_now();B=R;var L=!0;try{L=_(!0,R)}finally{L?F():(T=!1,_=null)}}else T=!1}var F;if(typeof S=="function")F=function(){S(I)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,U=M.port2;M.port1.onmessage=I,F=function(){U.postMessage(null)}}else F=function(){A(I,0)};function z(R){_=R,T||(T=!0,F())}function W(R,L){P=A(function(){R(n.unstable_now())},L)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(R){R.callback=null},n.unstable_continueExecution=function(){C||m||(C=!0,z(E))},n.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<R?Math.floor(1e3/R):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(R){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var H=p;p=L;try{return R()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var H=p;p=R;try{return L()}finally{p=H}},n.unstable_scheduleCallback=function(R,L,H){var ie=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ie+H:ie):H=ie,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=H+G,R={id:u++,callback:L,priorityLevel:R,startTime:H,expirationTime:G,sortIndex:-1},H>ie?(R.sortIndex=H,e(d,R),t(c)===null&&R===t(d)&&(v?(y(P),P=-1):v=!0,W(k,H-ie))):(R.sortIndex=G,e(c,R),C||m||(C=!0,z(E))),R},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(R){var L=p;return function(){var H=p;p=L;try{return R.apply(this,arguments)}finally{p=H}}}})(jC);OC.exports=jC;var xA=OC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CA=$,Ai=xA;function j(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zC=new Set,Oh={};function gc(n,e){ku(n,e),ku(n+"Capture",e)}function ku(n,e){for(Oh[n]=e,n=0;n<e.length;n++)zC.add(e[n])}var Ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I2=Object.prototype.hasOwnProperty,wA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$5={},H5={};function SA(n){return I2.call(H5,n)?!0:I2.call($5,n)?!1:wA.test(n)?H5[n]=!0:($5[n]=!0,!1)}function bA(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function AA(n,e,t,i){if(e===null||typeof e>"u"||bA(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kn(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Zt[n]=new kn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Zt[e]=new kn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Zt[n]=new kn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Zt[n]=new kn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Zt[n]=new kn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Zt[n]=new kn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Zt[n]=new kn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Zt[n]=new kn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Zt[n]=new kn(n,5,!1,n.toLowerCase(),null,!1,!1)});var h3=/[\-:]([a-z])/g;function p3(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(h3,p3);Zt[e]=new kn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(h3,p3);Zt[e]=new kn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(h3,p3);Zt[e]=new kn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Zt[n]=new kn(n,1,!1,n.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Zt[n]=new kn(n,1,!1,n.toLowerCase(),null,!0,!0)});function f3(n,e,t,i){var r=Zt.hasOwnProperty(e)?Zt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AA(e,t,r,i)&&(t=null),i||r===null?SA(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var ro=CA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pg=Symbol.for("react.element"),Pc=Symbol.for("react.portal"),Ic=Symbol.for("react.fragment"),g3=Symbol.for("react.strict_mode"),D2=Symbol.for("react.profiler"),WC=Symbol.for("react.provider"),$C=Symbol.for("react.context"),m3=Symbol.for("react.forward_ref"),M2=Symbol.for("react.suspense"),N2=Symbol.for("react.suspense_list"),y3=Symbol.for("react.memo"),co=Symbol.for("react.lazy"),HC=Symbol.for("react.offscreen"),U5=Symbol.iterator;function ju(n){return n===null||typeof n!="object"?null:(n=U5&&n[U5]||n["@@iterator"],typeof n=="function"?n:null)}var ot=Object.assign,j1;function Zu(n){if(j1===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);j1=e&&e[1]||""}return`
`+j1+n}var z1=!1;function W1(n,e){if(!n||z1)return"";z1=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var i=d}Reflect.construct(n,[],e)}else{try{e.call()}catch(d){i=d}n.call(e.prototype)}else{try{throw Error()}catch(d){i=d}n()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,l=s.length-1;1<=o&&0<=l&&r[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==s[l]){var c=`
`+r[o].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=o&&0<=l);break}}}finally{z1=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Zu(n):""}function EA(n){switch(n.tag){case 5:return Zu(n.type);case 16:return Zu("Lazy");case 13:return Zu("Suspense");case 19:return Zu("SuspenseList");case 0:case 2:case 15:return n=W1(n.type,!1),n;case 11:return n=W1(n.type.render,!1),n;case 1:return n=W1(n.type,!0),n;default:return""}}function B2(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ic:return"Fragment";case Pc:return"Portal";case D2:return"Profiler";case g3:return"StrictMode";case M2:return"Suspense";case N2:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case $C:return(n.displayName||"Context")+".Consumer";case WC:return(n._context.displayName||"Context")+".Provider";case m3:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case y3:return e=n.displayName||null,e!==null?e:B2(n.type)||"Memo";case co:e=n._payload,n=n._init;try{return B2(n(e))}catch{}}return null}function kA(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B2(e);case 8:return e===g3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function va(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function UC(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TA(n){var e=UC(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function fg(n){n._valueTracker||(n._valueTracker=TA(n))}function GC(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=UC(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Vm(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function L2(n,e){var t=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function G5(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=va(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VC(n,e){e=e.checked,e!=null&&f3(n,"checked",e,!1)}function F2(n,e){VC(n,e);var t=va(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?O2(n,e.type,t):e.hasOwnProperty("defaultValue")&&O2(n,e.type,va(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function V5(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function O2(n,e,t){(e!=="number"||Vm(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Ju=Array.isArray;function Kc(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+va(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function j2(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function X5(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(j(92));if(Ju(t)){if(1<t.length)throw Error(j(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:va(t)}}function XC(n,e){var t=va(e.value),i=va(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function K5(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function KC(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function z2(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?KC(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var gg,qC=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(gg=gg||document.createElement("div"),gg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gg.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function jh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Th={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_A=["Webkit","ms","Moz","O"];Object.keys(Th).forEach(function(n){_A.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Th[e]=Th[n]})});function YC(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Th.hasOwnProperty(n)&&Th[n]?(""+e).trim():e+"px"}function QC(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=YC(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var RA=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function W2(n,e){if(e){if(RA[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function $2(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var H2=null;function v3(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var U2=null,qc=null,Yc=null;function q5(n){if(n=ig(n)){if(typeof U2!="function")throw Error(j(280));var e=n.stateNode;e&&(e=u1(e),U2(n.stateNode,n.type,e))}}function ZC(n){qc?Yc?Yc.push(n):Yc=[n]:qc=n}function JC(){if(qc){var n=qc,e=Yc;if(Yc=qc=null,q5(n),e)for(n=0;n<e.length;n++)q5(e[n])}}function ew(n,e){return n(e)}function tw(){}var $1=!1;function nw(n,e,t){if($1)return n(e,t);$1=!0;try{return ew(n,e,t)}finally{$1=!1,(qc!==null||Yc!==null)&&(tw(),JC())}}function zh(n,e){var t=n.stateNode;if(t===null)return null;var i=u1(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(j(231,e,typeof t));return t}var G2=!1;if(Ys)try{var zu={};Object.defineProperty(zu,"passive",{get:function(){G2=!0}}),window.addEventListener("test",zu,zu),window.removeEventListener("test",zu,zu)}catch{G2=!1}function PA(n,e,t,i,r,s,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(t,d)}catch(u){this.onError(u)}}var _h=!1,Xm=null,Km=!1,V2=null,IA={onError:function(n){_h=!0,Xm=n}};function DA(n,e,t,i,r,s,o,l,c){_h=!1,Xm=null,PA.apply(IA,arguments)}function MA(n,e,t,i,r,s,o,l,c){if(DA.apply(this,arguments),_h){if(_h){var d=Xm;_h=!1,Xm=null}else throw Error(j(198));Km||(Km=!0,V2=d)}}function mc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function iw(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Y5(n){if(mc(n)!==n)throw Error(j(188))}function NA(n){var e=n.alternate;if(!e){if(e=mc(n),e===null)throw Error(j(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return Y5(r),n;if(s===i)return Y5(r),e;s=s.sibling}throw Error(j(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,l=r.child;l;){if(l===t){o=!0,t=r,i=s;break}if(l===i){o=!0,i=r,t=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===t){o=!0,t=s,i=r;break}if(l===i){o=!0,i=s,t=r;break}l=l.sibling}if(!o)throw Error(j(189))}}if(t.alternate!==i)throw Error(j(190))}if(t.tag!==3)throw Error(j(188));return t.stateNode.current===t?n:e}function rw(n){return n=NA(n),n!==null?sw(n):null}function sw(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=sw(n);if(e!==null)return e;n=n.sibling}return null}var ow=Ai.unstable_scheduleCallback,Q5=Ai.unstable_cancelCallback,BA=Ai.unstable_shouldYield,LA=Ai.unstable_requestPaint,mt=Ai.unstable_now,FA=Ai.unstable_getCurrentPriorityLevel,x3=Ai.unstable_ImmediatePriority,aw=Ai.unstable_UserBlockingPriority,qm=Ai.unstable_NormalPriority,OA=Ai.unstable_LowPriority,lw=Ai.unstable_IdlePriority,a1=null,Qr=null;function jA(n){if(Qr&&typeof Qr.onCommitFiberRoot=="function")try{Qr.onCommitFiberRoot(a1,n,void 0,(n.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:$A,zA=Math.log,WA=Math.LN2;function $A(n){return n>>>=0,n===0?32:31-(zA(n)/WA|0)|0}var mg=64,yg=4194304;function eh(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ym(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var l=o&~r;l!==0?i=eh(l):(s&=o,s!==0&&(i=eh(s)))}else o=t&~r,o!==0?i=eh(o):s!==0&&(i=eh(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-gr(e),r=1<<t,i|=n[t],e&=~r;return i}function HA(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UA(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-gr(s),l=1<<o,c=r[o];c===-1?(!(l&t)||l&i)&&(r[o]=HA(l,e)):c<=e&&(n.expiredLanes|=l),s&=~l}}function X2(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function cw(){var n=mg;return mg<<=1,!(mg&4194240)&&(mg=64),n}function H1(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function tg(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-gr(e),n[e]=t}function GA(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-gr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function C3(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-gr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var _e=0;function dw(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var uw,w3,hw,pw,fw,K2=!1,vg=[],da=null,ua=null,ha=null,Wh=new Map,$h=new Map,ho=[],VA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Z5(n,e){switch(n){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":Wh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$h.delete(e.pointerId)}}function Wu(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=ig(e),e!==null&&w3(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function XA(n,e,t,i,r){switch(e){case"focusin":return da=Wu(da,n,e,t,i,r),!0;case"dragenter":return ua=Wu(ua,n,e,t,i,r),!0;case"mouseover":return ha=Wu(ha,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Wh.set(s,Wu(Wh.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,$h.set(s,Wu($h.get(s)||null,n,e,t,i,r)),!0}return!1}function gw(n){var e=Oa(n.target);if(e!==null){var t=mc(e);if(t!==null){if(e=t.tag,e===13){if(e=iw(t),e!==null){n.blockedOn=e,fw(n.priority,function(){hw(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gg(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=q2(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);H2=i,t.target.dispatchEvent(i),H2=null}else return e=ig(t),e!==null&&w3(e),n.blockedOn=t,!1;e.shift()}return!0}function J5(n,e,t){Gg(n)&&t.delete(e)}function KA(){K2=!1,da!==null&&Gg(da)&&(da=null),ua!==null&&Gg(ua)&&(ua=null),ha!==null&&Gg(ha)&&(ha=null),Wh.forEach(J5),$h.forEach(J5)}function $u(n,e){n.blockedOn===e&&(n.blockedOn=null,K2||(K2=!0,Ai.unstable_scheduleCallback(Ai.unstable_NormalPriority,KA)))}function Hh(n){function e(r){return $u(r,n)}if(0<vg.length){$u(vg[0],n);for(var t=1;t<vg.length;t++){var i=vg[t];i.blockedOn===n&&(i.blockedOn=null)}}for(da!==null&&$u(da,n),ua!==null&&$u(ua,n),ha!==null&&$u(ha,n),Wh.forEach(e),$h.forEach(e),t=0;t<ho.length;t++)i=ho[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<ho.length&&(t=ho[0],t.blockedOn===null);)gw(t),t.blockedOn===null&&ho.shift()}var Qc=ro.ReactCurrentBatchConfig,Qm=!0;function qA(n,e,t,i){var r=_e,s=Qc.transition;Qc.transition=null;try{_e=1,S3(n,e,t,i)}finally{_e=r,Qc.transition=s}}function YA(n,e,t,i){var r=_e,s=Qc.transition;Qc.transition=null;try{_e=4,S3(n,e,t,i)}finally{_e=r,Qc.transition=s}}function S3(n,e,t,i){if(Qm){var r=q2(n,e,t,i);if(r===null)J1(n,e,i,Zm,t),Z5(n,i);else if(XA(r,n,e,t,i))i.stopPropagation();else if(Z5(n,i),e&4&&-1<VA.indexOf(n)){for(;r!==null;){var s=ig(r);if(s!==null&&uw(s),s=q2(n,e,t,i),s===null&&J1(n,e,i,Zm,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else J1(n,e,i,null,t)}}var Zm=null;function q2(n,e,t,i){if(Zm=null,n=v3(i),n=Oa(n),n!==null)if(e=mc(n),e===null)n=null;else if(t=e.tag,t===13){if(n=iw(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Zm=n,null}function mw(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FA()){case x3:return 1;case aw:return 4;case qm:case OA:return 16;case lw:return 536870912;default:return 16}default:return 16}}var oa=null,b3=null,Vg=null;function yw(){if(Vg)return Vg;var n,e=b3,t=e.length,i,r="value"in oa?oa.value:oa.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return Vg=r.slice(n,1<i?1-i:void 0)}function Xg(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function xg(){return!0}function ex(){return!1}function ki(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(t=n[l],this[l]=t?t(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xg:ex,this.isPropagationStopped=ex,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=xg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=xg)},persist:function(){},isPersistent:xg}),e}var Nu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A3=ki(Nu),ng=ot({},Nu,{view:0,detail:0}),QA=ki(ng),U1,G1,Hu,l1=ot({},ng,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:E3,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Hu&&(Hu&&n.type==="mousemove"?(U1=n.screenX-Hu.screenX,G1=n.screenY-Hu.screenY):G1=U1=0,Hu=n),U1)},movementY:function(n){return"movementY"in n?n.movementY:G1}}),tx=ki(l1),ZA=ot({},l1,{dataTransfer:0}),JA=ki(ZA),e7=ot({},ng,{relatedTarget:0}),V1=ki(e7),t7=ot({},Nu,{animationName:0,elapsedTime:0,pseudoElement:0}),n7=ki(t7),i7=ot({},Nu,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),r7=ki(i7),s7=ot({},Nu,{data:0}),nx=ki(s7),o7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function c7(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=l7[n])?!!e[n]:!1}function E3(){return c7}var d7=ot({},ng,{key:function(n){if(n.key){var e=o7[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Xg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?a7[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:E3,charCode:function(n){return n.type==="keypress"?Xg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Xg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),u7=ki(d7),h7=ot({},l1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ix=ki(h7),p7=ot({},ng,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:E3}),f7=ki(p7),g7=ot({},Nu,{propertyName:0,elapsedTime:0,pseudoElement:0}),m7=ki(g7),y7=ot({},l1,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),v7=ki(y7),x7=[9,13,27,32],k3=Ys&&"CompositionEvent"in window,Rh=null;Ys&&"documentMode"in document&&(Rh=document.documentMode);var C7=Ys&&"TextEvent"in window&&!Rh,vw=Ys&&(!k3||Rh&&8<Rh&&11>=Rh),rx=" ",sx=!1;function xw(n,e){switch(n){case"keyup":return x7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cw(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Dc=!1;function w7(n,e){switch(n){case"compositionend":return Cw(e);case"keypress":return e.which!==32?null:(sx=!0,rx);case"textInput":return n=e.data,n===rx&&sx?null:n;default:return null}}function S7(n,e){if(Dc)return n==="compositionend"||!k3&&xw(n,e)?(n=yw(),Vg=b3=oa=null,Dc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vw&&e.locale!=="ko"?null:e.data;default:return null}}var b7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ox(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!b7[n.type]:e==="textarea"}function ww(n,e,t,i){ZC(i),e=Jm(e,"onChange"),0<e.length&&(t=new A3("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Ph=null,Uh=null;function A7(n){Dw(n,0)}function c1(n){var e=Bc(n);if(GC(e))return n}function E7(n,e){if(n==="change")return e}var Sw=!1;if(Ys){var X1;if(Ys){var K1="oninput"in document;if(!K1){var ax=document.createElement("div");ax.setAttribute("oninput","return;"),K1=typeof ax.oninput=="function"}X1=K1}else X1=!1;Sw=X1&&(!document.documentMode||9<document.documentMode)}function lx(){Ph&&(Ph.detachEvent("onpropertychange",bw),Uh=Ph=null)}function bw(n){if(n.propertyName==="value"&&c1(Uh)){var e=[];ww(e,Uh,n,v3(n)),nw(A7,e)}}function k7(n,e,t){n==="focusin"?(lx(),Ph=e,Uh=t,Ph.attachEvent("onpropertychange",bw)):n==="focusout"&&lx()}function T7(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return c1(Uh)}function _7(n,e){if(n==="click")return c1(e)}function R7(n,e){if(n==="input"||n==="change")return c1(e)}function P7(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var yr=typeof Object.is=="function"?Object.is:P7;function Gh(n,e){if(yr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!I2.call(e,r)||!yr(n[r],e[r]))return!1}return!0}function cx(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function dx(n,e){var t=cx(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=cx(t)}}function Aw(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Aw(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Ew(){for(var n=window,e=Vm();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Vm(n.document)}return e}function T3(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function I7(n){var e=Ew(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Aw(t.ownerDocument.documentElement,t)){if(i!==null&&T3(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=dx(t,s);var o=dx(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var D7=Ys&&"documentMode"in document&&11>=document.documentMode,Mc=null,Y2=null,Ih=null,Q2=!1;function ux(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Q2||Mc==null||Mc!==Vm(i)||(i=Mc,"selectionStart"in i&&T3(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ih&&Gh(Ih,i)||(Ih=i,i=Jm(Y2,"onSelect"),0<i.length&&(e=new A3("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Mc)))}function Cg(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Nc={animationend:Cg("Animation","AnimationEnd"),animationiteration:Cg("Animation","AnimationIteration"),animationstart:Cg("Animation","AnimationStart"),transitionend:Cg("Transition","TransitionEnd")},q1={},kw={};Ys&&(kw=document.createElement("div").style,"AnimationEvent"in window||(delete Nc.animationend.animation,delete Nc.animationiteration.animation,delete Nc.animationstart.animation),"TransitionEvent"in window||delete Nc.transitionend.transition);function d1(n){if(q1[n])return q1[n];if(!Nc[n])return n;var e=Nc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in kw)return q1[n]=e[t];return n}var Tw=d1("animationend"),_w=d1("animationiteration"),Rw=d1("animationstart"),Pw=d1("transitionend"),Iw=new Map,hx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ba(n,e){Iw.set(n,e),gc(e,[n])}for(var Y1=0;Y1<hx.length;Y1++){var Q1=hx[Y1],M7=Q1.toLowerCase(),N7=Q1[0].toUpperCase()+Q1.slice(1);ba(M7,"on"+N7)}ba(Tw,"onAnimationEnd");ba(_w,"onAnimationIteration");ba(Rw,"onAnimationStart");ba("dblclick","onDoubleClick");ba("focusin","onFocus");ba("focusout","onBlur");ba(Pw,"onTransitionEnd");ku("onMouseEnter",["mouseout","mouseover"]);ku("onMouseLeave",["mouseout","mouseover"]);ku("onPointerEnter",["pointerout","pointerover"]);ku("onPointerLeave",["pointerout","pointerover"]);gc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gc("onBeforeInput",["compositionend","keypress","textInput","paste"]);gc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B7=new Set("cancel close invalid load scroll toggle".split(" ").concat(th));function px(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,MA(i,e,void 0,n),n.currentTarget=null}function Dw(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var l=i[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==s&&r.isPropagationStopped())break e;px(r,l,d),s=c}else for(o=0;o<i.length;o++){if(l=i[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==s&&r.isPropagationStopped())break e;px(r,l,d),s=c}}}if(Km)throw n=V2,Km=!1,V2=null,n}function Xe(n,e){var t=e[ny];t===void 0&&(t=e[ny]=new Set);var i=n+"__bubble";t.has(i)||(Mw(e,n,2,!1),t.add(i))}function Z1(n,e,t){var i=0;e&&(i|=4),Mw(t,n,i,e)}var wg="_reactListening"+Math.random().toString(36).slice(2);function Vh(n){if(!n[wg]){n[wg]=!0,zC.forEach(function(t){t!=="selectionchange"&&(B7.has(t)||Z1(t,!1,n),Z1(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[wg]||(e[wg]=!0,Z1("selectionchange",!1,e))}}function Mw(n,e,t,i){switch(mw(e)){case 1:var r=qA;break;case 4:r=YA;break;default:r=S3}t=r.bind(null,e,t,n),r=void 0,!G2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function J1(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=Oa(l),o===null)return;if(c=o.tag,c===5||c===6){i=s=o;continue e}l=l.parentNode}}i=i.return}nw(function(){var d=s,u=v3(t),h=[];e:{var p=Iw.get(n);if(p!==void 0){var m=A3,C=n;switch(n){case"keypress":if(Xg(t)===0)break e;case"keydown":case"keyup":m=u7;break;case"focusin":C="focus",m=V1;break;case"focusout":C="blur",m=V1;break;case"beforeblur":case"afterblur":m=V1;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=tx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=JA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=f7;break;case Tw:case _w:case Rw:m=n7;break;case Pw:m=m7;break;case"scroll":m=QA;break;case"wheel":m=v7;break;case"copy":case"cut":case"paste":m=r7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ix}var v=(e&4)!==0,A=!v&&n==="scroll",y=v?p!==null?p+"Capture":null:p;v=[];for(var S=d,w;S!==null;){w=S;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,y!==null&&(k=zh(S,y),k!=null&&v.push(Xh(S,k,w)))),A)break;S=S.return}0<v.length&&(p=new m(p,C,null,t,u),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==H2&&(C=t.relatedTarget||t.fromElement)&&(Oa(C)||C[Qs]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(C=t.relatedTarget||t.toElement,m=d,C=C?Oa(C):null,C!==null&&(A=mc(C),C!==A||C.tag!==5&&C.tag!==6)&&(C=null)):(m=null,C=d),m!==C)){if(v=tx,k="onMouseLeave",y="onMouseEnter",S="mouse",(n==="pointerout"||n==="pointerover")&&(v=ix,k="onPointerLeave",y="onPointerEnter",S="pointer"),A=m==null?p:Bc(m),w=C==null?p:Bc(C),p=new v(k,S+"leave",m,t,u),p.target=A,p.relatedTarget=w,k=null,Oa(u)===d&&(v=new v(y,S+"enter",C,t,u),v.target=w,v.relatedTarget=A,k=v),A=k,m&&C)t:{for(v=m,y=C,S=0,w=v;w;w=xc(w))S++;for(w=0,k=y;k;k=xc(k))w++;for(;0<S-w;)v=xc(v),S--;for(;0<w-S;)y=xc(y),w--;for(;S--;){if(v===y||y!==null&&v===y.alternate)break t;v=xc(v),y=xc(y)}v=null}else v=null;m!==null&&fx(h,p,m,v,!1),C!==null&&A!==null&&fx(h,A,C,v,!0)}}e:{if(p=d?Bc(d):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var E=E7;else if(ox(p))if(Sw)E=R7;else{E=T7;var T=k7}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=_7);if(E&&(E=E(n,d))){ww(h,E,t,u);break e}T&&T(n,p,d),n==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&O2(p,"number",p.value)}switch(T=d?Bc(d):window,n){case"focusin":(ox(T)||T.contentEditable==="true")&&(Mc=T,Y2=d,Ih=null);break;case"focusout":Ih=Y2=Mc=null;break;case"mousedown":Q2=!0;break;case"contextmenu":case"mouseup":case"dragend":Q2=!1,ux(h,t,u);break;case"selectionchange":if(D7)break;case"keydown":case"keyup":ux(h,t,u)}var _;if(k3)e:{switch(n){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Dc?xw(n,t)&&(P="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(P="onCompositionStart");P&&(vw&&t.locale!=="ko"&&(Dc||P!=="onCompositionStart"?P==="onCompositionEnd"&&Dc&&(_=yw()):(oa=u,b3="value"in oa?oa.value:oa.textContent,Dc=!0)),T=Jm(d,P),0<T.length&&(P=new nx(P,n,null,t,u),h.push({event:P,listeners:T}),_?P.data=_:(_=Cw(t),_!==null&&(P.data=_)))),(_=C7?w7(n,t):S7(n,t))&&(d=Jm(d,"onBeforeInput"),0<d.length&&(u=new nx("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:d}),u.data=_))}Dw(h,e)})}function Xh(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Jm(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=zh(n,t),s!=null&&i.unshift(Xh(n,s,r)),s=zh(n,e),s!=null&&i.push(Xh(n,s,r))),n=n.return}return i}function xc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function fx(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var l=t,c=l.alternate,d=l.stateNode;if(c!==null&&c===i)break;l.tag===5&&d!==null&&(l=d,r?(c=zh(t,s),c!=null&&o.unshift(Xh(t,c,l))):r||(c=zh(t,s),c!=null&&o.push(Xh(t,c,l)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var L7=/\r\n?/g,F7=/\u0000|\uFFFD/g;function gx(n){return(typeof n=="string"?n:""+n).replace(L7,`
`).replace(F7,"")}function Sg(n,e,t){if(e=gx(e),gx(n)!==e&&t)throw Error(j(425))}function e0(){}var Z2=null,J2=null;function ey(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ty=typeof setTimeout=="function"?setTimeout:void 0,O7=typeof clearTimeout=="function"?clearTimeout:void 0,mx=typeof Promise=="function"?Promise:void 0,j7=typeof queueMicrotask=="function"?queueMicrotask:typeof mx<"u"?function(n){return mx.resolve(null).then(n).catch(z7)}:ty;function z7(n){setTimeout(function(){throw n})}function e2(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Hh(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Hh(e)}function pa(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function yx(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Bu=Math.random().toString(36).slice(2),qr="__reactFiber$"+Bu,Kh="__reactProps$"+Bu,Qs="__reactContainer$"+Bu,ny="__reactEvents$"+Bu,W7="__reactListeners$"+Bu,$7="__reactHandles$"+Bu;function Oa(n){var e=n[qr];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Qs]||t[qr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=yx(n);n!==null;){if(t=n[qr])return t;n=yx(n)}return e}n=t,t=n.parentNode}return null}function ig(n){return n=n[qr]||n[Qs],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Bc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(j(33))}function u1(n){return n[Kh]||null}var iy=[],Lc=-1;function Aa(n){return{current:n}}function Ye(n){0>Lc||(n.current=iy[Lc],iy[Lc]=null,Lc--)}function Ue(n,e){Lc++,iy[Lc]=n.current,n.current=e}var xa={},hn=Aa(xa),Hn=Aa(!1),ac=xa;function Tu(n,e){var t=n.type.contextTypes;if(!t)return xa;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Un(n){return n=n.childContextTypes,n!=null}function t0(){Ye(Hn),Ye(hn)}function vx(n,e,t){if(hn.current!==xa)throw Error(j(168));Ue(hn,e),Ue(Hn,t)}function Nw(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(j(108,kA(n)||"Unknown",r));return ot({},t,i)}function n0(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||xa,ac=hn.current,Ue(hn,n),Ue(Hn,Hn.current),!0}function xx(n,e,t){var i=n.stateNode;if(!i)throw Error(j(169));t?(n=Nw(n,e,ac),i.__reactInternalMemoizedMergedChildContext=n,Ye(Hn),Ye(hn),Ue(hn,n)):Ye(Hn),Ue(Hn,t)}var ls=null,h1=!1,t2=!1;function Bw(n){ls===null?ls=[n]:ls.push(n)}function H7(n){h1=!0,Bw(n)}function Ea(){if(!t2&&ls!==null){t2=!0;var n=0,e=_e;try{var t=ls;for(_e=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}ls=null,h1=!1}catch(r){throw ls!==null&&(ls=ls.slice(n+1)),ow(x3,Ea),r}finally{_e=e,t2=!1}}return null}var Fc=[],Oc=0,i0=null,r0=0,Wi=[],$i=0,lc=null,Us=1,Gs="";function Ta(n,e){Fc[Oc++]=r0,Fc[Oc++]=i0,i0=n,r0=e}function Lw(n,e,t){Wi[$i++]=Us,Wi[$i++]=Gs,Wi[$i++]=lc,lc=n;var i=Us;n=Gs;var r=32-gr(i)-1;i&=~(1<<r),t+=1;var s=32-gr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Us=1<<32-gr(e)+r|t<<r|i,Gs=s+n}else Us=1<<s|t<<r|i,Gs=n}function _3(n){n.return!==null&&(Ta(n,1),Lw(n,1,0))}function R3(n){for(;n===i0;)i0=Fc[--Oc],Fc[Oc]=null,r0=Fc[--Oc],Fc[Oc]=null;for(;n===lc;)lc=Wi[--$i],Wi[$i]=null,Gs=Wi[--$i],Wi[$i]=null,Us=Wi[--$i],Wi[$i]=null}var Si=null,wi=null,et=!1,pr=null;function Fw(n,e){var t=Ui(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Cx(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Si=n,wi=pa(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Si=n,wi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=lc!==null?{id:Us,overflow:Gs}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ui(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Si=n,wi=null,!0):!1;default:return!1}}function ry(n){return(n.mode&1)!==0&&(n.flags&128)===0}function sy(n){if(et){var e=wi;if(e){var t=e;if(!Cx(n,e)){if(ry(n))throw Error(j(418));e=pa(t.nextSibling);var i=Si;e&&Cx(n,e)?Fw(i,t):(n.flags=n.flags&-4097|2,et=!1,Si=n)}}else{if(ry(n))throw Error(j(418));n.flags=n.flags&-4097|2,et=!1,Si=n}}}function wx(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Si=n}function bg(n){if(n!==Si)return!1;if(!et)return wx(n),et=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!ey(n.type,n.memoizedProps)),e&&(e=wi)){if(ry(n))throw Ow(),Error(j(418));for(;e;)Fw(n,e),e=pa(e.nextSibling)}if(wx(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(j(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){wi=pa(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}wi=null}}else wi=Si?pa(n.stateNode.nextSibling):null;return!0}function Ow(){for(var n=wi;n;)n=pa(n.nextSibling)}function _u(){wi=Si=null,et=!1}function P3(n){pr===null?pr=[n]:pr.push(n)}var U7=ro.ReactCurrentBatchConfig;function Uu(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(j(309));var i=t.stateNode}if(!i)throw Error(j(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=r.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(j(284));if(!t._owner)throw Error(j(290,n))}return n}function Ag(n,e){throw n=Object.prototype.toString.call(e),Error(j(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Sx(n){var e=n._init;return e(n._payload)}function jw(n){function e(y,S){if(n){var w=y.deletions;w===null?(y.deletions=[S],y.flags|=16):w.push(S)}}function t(y,S){if(!n)return null;for(;S!==null;)e(y,S),S=S.sibling;return null}function i(y,S){for(y=new Map;S!==null;)S.key!==null?y.set(S.key,S):y.set(S.index,S),S=S.sibling;return y}function r(y,S){return y=ya(y,S),y.index=0,y.sibling=null,y}function s(y,S,w){return y.index=w,n?(w=y.alternate,w!==null?(w=w.index,w<S?(y.flags|=2,S):w):(y.flags|=2,S)):(y.flags|=1048576,S)}function o(y){return n&&y.alternate===null&&(y.flags|=2),y}function l(y,S,w,k){return S===null||S.tag!==6?(S=l2(w,y.mode,k),S.return=y,S):(S=r(S,w),S.return=y,S)}function c(y,S,w,k){var E=w.type;return E===Ic?u(y,S,w.props.children,k,w.key):S!==null&&(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===co&&Sx(E)===S.type)?(k=r(S,w.props),k.ref=Uu(y,S,w),k.return=y,k):(k=em(w.type,w.key,w.props,null,y.mode,k),k.ref=Uu(y,S,w),k.return=y,k)}function d(y,S,w,k){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=c2(w,y.mode,k),S.return=y,S):(S=r(S,w.children||[]),S.return=y,S)}function u(y,S,w,k,E){return S===null||S.tag!==7?(S=oc(w,y.mode,k,E),S.return=y,S):(S=r(S,w),S.return=y,S)}function h(y,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return S=l2(""+S,y.mode,w),S.return=y,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case pg:return w=em(S.type,S.key,S.props,null,y.mode,w),w.ref=Uu(y,null,S),w.return=y,w;case Pc:return S=c2(S,y.mode,w),S.return=y,S;case co:var k=S._init;return h(y,k(S._payload),w)}if(Ju(S)||ju(S))return S=oc(S,y.mode,w,null),S.return=y,S;Ag(y,S)}return null}function p(y,S,w,k){var E=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:l(y,S,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case pg:return w.key===E?c(y,S,w,k):null;case Pc:return w.key===E?d(y,S,w,k):null;case co:return E=w._init,p(y,S,E(w._payload),k)}if(Ju(w)||ju(w))return E!==null?null:u(y,S,w,k,null);Ag(y,w)}return null}function m(y,S,w,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(w)||null,l(S,y,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case pg:return y=y.get(k.key===null?w:k.key)||null,c(S,y,k,E);case Pc:return y=y.get(k.key===null?w:k.key)||null,d(S,y,k,E);case co:var T=k._init;return m(y,S,w,T(k._payload),E)}if(Ju(k)||ju(k))return y=y.get(w)||null,u(S,y,k,E,null);Ag(S,k)}return null}function C(y,S,w,k){for(var E=null,T=null,_=S,P=S=0,N=null;_!==null&&P<w.length;P++){_.index>P?(N=_,_=null):N=_.sibling;var B=p(y,_,w[P],k);if(B===null){_===null&&(_=N);break}n&&_&&B.alternate===null&&e(y,_),S=s(B,S,P),T===null?E=B:T.sibling=B,T=B,_=N}if(P===w.length)return t(y,_),et&&Ta(y,P),E;if(_===null){for(;P<w.length;P++)_=h(y,w[P],k),_!==null&&(S=s(_,S,P),T===null?E=_:T.sibling=_,T=_);return et&&Ta(y,P),E}for(_=i(y,_);P<w.length;P++)N=m(_,y,P,w[P],k),N!==null&&(n&&N.alternate!==null&&_.delete(N.key===null?P:N.key),S=s(N,S,P),T===null?E=N:T.sibling=N,T=N);return n&&_.forEach(function(D){return e(y,D)}),et&&Ta(y,P),E}function v(y,S,w,k){var E=ju(w);if(typeof E!="function")throw Error(j(150));if(w=E.call(w),w==null)throw Error(j(151));for(var T=E=null,_=S,P=S=0,N=null,B=w.next();_!==null&&!B.done;P++,B=w.next()){_.index>P?(N=_,_=null):N=_.sibling;var D=p(y,_,B.value,k);if(D===null){_===null&&(_=N);break}n&&_&&D.alternate===null&&e(y,_),S=s(D,S,P),T===null?E=D:T.sibling=D,T=D,_=N}if(B.done)return t(y,_),et&&Ta(y,P),E;if(_===null){for(;!B.done;P++,B=w.next())B=h(y,B.value,k),B!==null&&(S=s(B,S,P),T===null?E=B:T.sibling=B,T=B);return et&&Ta(y,P),E}for(_=i(y,_);!B.done;P++,B=w.next())B=m(_,y,P,B.value,k),B!==null&&(n&&B.alternate!==null&&_.delete(B.key===null?P:B.key),S=s(B,S,P),T===null?E=B:T.sibling=B,T=B);return n&&_.forEach(function(I){return e(y,I)}),et&&Ta(y,P),E}function A(y,S,w,k){if(typeof w=="object"&&w!==null&&w.type===Ic&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case pg:e:{for(var E=w.key,T=S;T!==null;){if(T.key===E){if(E=w.type,E===Ic){if(T.tag===7){t(y,T.sibling),S=r(T,w.props.children),S.return=y,y=S;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===co&&Sx(E)===T.type){t(y,T.sibling),S=r(T,w.props),S.ref=Uu(y,T,w),S.return=y,y=S;break e}t(y,T);break}else e(y,T);T=T.sibling}w.type===Ic?(S=oc(w.props.children,y.mode,k,w.key),S.return=y,y=S):(k=em(w.type,w.key,w.props,null,y.mode,k),k.ref=Uu(y,S,w),k.return=y,y=k)}return o(y);case Pc:e:{for(T=w.key;S!==null;){if(S.key===T)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){t(y,S.sibling),S=r(S,w.children||[]),S.return=y,y=S;break e}else{t(y,S);break}else e(y,S);S=S.sibling}S=c2(w,y.mode,k),S.return=y,y=S}return o(y);case co:return T=w._init,A(y,S,T(w._payload),k)}if(Ju(w))return C(y,S,w,k);if(ju(w))return v(y,S,w,k);Ag(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,S!==null&&S.tag===6?(t(y,S.sibling),S=r(S,w),S.return=y,y=S):(t(y,S),S=l2(w,y.mode,k),S.return=y,y=S),o(y)):t(y,S)}return A}var Ru=jw(!0),zw=jw(!1),s0=Aa(null),o0=null,jc=null,I3=null;function D3(){I3=jc=o0=null}function M3(n){var e=s0.current;Ye(s0),n._currentValue=e}function oy(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Zc(n,e){o0=n,I3=jc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&($n=!0),n.firstContext=null)}function Xi(n){var e=n._currentValue;if(I3!==n)if(n={context:n,memoizedValue:e,next:null},jc===null){if(o0===null)throw Error(j(308));jc=n,o0.dependencies={lanes:0,firstContext:n}}else jc=jc.next=n;return e}var ja=null;function N3(n){ja===null?ja=[n]:ja.push(n)}function Ww(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,N3(e)):(t.next=r.next,r.next=t),e.interleaved=t,Zs(n,i)}function Zs(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var uo=!1;function B3(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $w(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Vs(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function fa(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Ce&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Zs(n,t)}return r=i.interleaved,r===null?(e.next=e,N3(i)):(e.next=r.next,r.next=e),i.interleaved=e,Zs(n,t)}function Kg(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,C3(n,t)}}function bx(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function a0(n,e,t,i){var r=n.updateQueue;uo=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?s=d:o.next=d,o=c;var u=n.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(s!==null){var h=r.baseState;o=0,u=d=c=null,l=s;do{var p=l.lane,m=l.eventTime;if((i&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=n,v=l;switch(p=e,m=t,v.tag){case 1:if(C=v.payload,typeof C=="function"){h=C.call(m,h,p);break e}h=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=v.payload,p=typeof C=="function"?C.call(m,h,p):C,p==null)break e;h=ot({},h,p);break e;case 2:uo=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=h):u=u.next=m,o|=p;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;p=l,l=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(u===null&&(c=h),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);dc|=o,n.lanes=o,n.memoizedState=h}}function Ax(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(j(191,r));r.call(i)}}}var rg={},Zr=Aa(rg),qh=Aa(rg),Yh=Aa(rg);function za(n){if(n===rg)throw Error(j(174));return n}function L3(n,e){switch(Ue(Yh,e),Ue(qh,n),Ue(Zr,rg),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:z2(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=z2(e,n)}Ye(Zr),Ue(Zr,e)}function Pu(){Ye(Zr),Ye(qh),Ye(Yh)}function Hw(n){za(Yh.current);var e=za(Zr.current),t=z2(e,n.type);e!==t&&(Ue(qh,n),Ue(Zr,t))}function F3(n){qh.current===n&&(Ye(Zr),Ye(qh))}var it=Aa(0);function l0(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var n2=[];function O3(){for(var n=0;n<n2.length;n++)n2[n]._workInProgressVersionPrimary=null;n2.length=0}var qg=ro.ReactCurrentDispatcher,i2=ro.ReactCurrentBatchConfig,cc=0,rt=null,Tt=null,Ft=null,c0=!1,Dh=!1,Qh=0,G7=0;function tn(){throw Error(j(321))}function j3(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!yr(n[t],e[t]))return!1;return!0}function z3(n,e,t,i,r,s){if(cc=s,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qg.current=n===null||n.memoizedState===null?q7:Y7,n=t(i,r),Dh){s=0;do{if(Dh=!1,Qh=0,25<=s)throw Error(j(301));s+=1,Ft=Tt=null,e.updateQueue=null,qg.current=Q7,n=t(i,r)}while(Dh)}if(qg.current=d0,e=Tt!==null&&Tt.next!==null,cc=0,Ft=Tt=rt=null,c0=!1,e)throw Error(j(300));return n}function W3(){var n=Qh!==0;return Qh=0,n}function kr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?rt.memoizedState=Ft=n:Ft=Ft.next=n,Ft}function Ki(){if(Tt===null){var n=rt.alternate;n=n!==null?n.memoizedState:null}else n=Tt.next;var e=Ft===null?rt.memoizedState:Ft.next;if(e!==null)Ft=e,Tt=n;else{if(n===null)throw Error(j(310));Tt=n,n={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Ft===null?rt.memoizedState=Ft=n:Ft=Ft.next=n}return Ft}function Zh(n,e){return typeof e=="function"?e(n):e}function r2(n){var e=Ki(),t=e.queue;if(t===null)throw Error(j(311));t.lastRenderedReducer=n;var i=Tt,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var l=o=null,c=null,d=s;do{var u=d.lane;if((cc&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:n(i,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=i):c=c.next=h,rt.lanes|=u,dc|=u}d=d.next}while(d!==null&&d!==s);c===null?o=i:c.next=l,yr(i,e.memoizedState)||($n=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=c,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,rt.lanes|=s,dc|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function s2(n){var e=Ki(),t=e.queue;if(t===null)throw Error(j(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);yr(s,e.memoizedState)||($n=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function Uw(){}function Gw(n,e){var t=rt,i=Ki(),r=e(),s=!yr(i.memoizedState,r);if(s&&(i.memoizedState=r,$n=!0),i=i.queue,$3(Kw.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Ft!==null&&Ft.memoizedState.tag&1){if(t.flags|=2048,Jh(9,Xw.bind(null,t,i,r,e),void 0,null),Ot===null)throw Error(j(349));cc&30||Vw(t,e,r)}return r}function Vw(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Xw(n,e,t,i){e.value=t,e.getSnapshot=i,qw(e)&&Yw(n)}function Kw(n,e,t){return t(function(){qw(e)&&Yw(n)})}function qw(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!yr(n,t)}catch{return!0}}function Yw(n){var e=Zs(n,1);e!==null&&mr(e,n,1,-1)}function Ex(n){var e=kr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zh,lastRenderedState:n},e.queue=n,n=n.dispatch=K7.bind(null,rt,n),[e.memoizedState,n]}function Jh(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function Qw(){return Ki().memoizedState}function Yg(n,e,t,i){var r=kr();rt.flags|=n,r.memoizedState=Jh(1|e,t,void 0,i===void 0?null:i)}function p1(n,e,t,i){var r=Ki();i=i===void 0?null:i;var s=void 0;if(Tt!==null){var o=Tt.memoizedState;if(s=o.destroy,i!==null&&j3(i,o.deps)){r.memoizedState=Jh(e,t,s,i);return}}rt.flags|=n,r.memoizedState=Jh(1|e,t,s,i)}function kx(n,e){return Yg(8390656,8,n,e)}function $3(n,e){return p1(2048,8,n,e)}function Zw(n,e){return p1(4,2,n,e)}function Jw(n,e){return p1(4,4,n,e)}function e6(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function t6(n,e,t){return t=t!=null?t.concat([n]):null,p1(4,4,e6.bind(null,e,n),t)}function H3(){}function n6(n,e){var t=Ki();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&j3(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function i6(n,e){var t=Ki();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&j3(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function r6(n,e,t){return cc&21?(yr(t,e)||(t=cw(),rt.lanes|=t,dc|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,$n=!0),n.memoizedState=t)}function V7(n,e){var t=_e;_e=t!==0&&4>t?t:4,n(!0);var i=i2.transition;i2.transition={};try{n(!1),e()}finally{_e=t,i2.transition=i}}function s6(){return Ki().memoizedState}function X7(n,e,t){var i=ma(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},o6(n))a6(e,t);else if(t=Ww(n,e,t,i),t!==null){var r=bn();mr(t,n,i,r),l6(t,e,i)}}function K7(n,e,t){var i=ma(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(o6(n))a6(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,t);if(r.hasEagerState=!0,r.eagerState=l,yr(l,o)){var c=e.interleaved;c===null?(r.next=r,N3(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}t=Ww(n,e,r,i),t!==null&&(r=bn(),mr(t,n,i,r),l6(t,e,i))}}function o6(n){var e=n.alternate;return n===rt||e!==null&&e===rt}function a6(n,e){Dh=c0=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function l6(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,C3(n,t)}}var d0={readContext:Xi,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},q7={readContext:Xi,useCallback:function(n,e){return kr().memoizedState=[n,e===void 0?null:e],n},useContext:Xi,useEffect:kx,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Yg(4194308,4,e6.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Yg(4194308,4,n,e)},useInsertionEffect:function(n,e){return Yg(4,2,n,e)},useMemo:function(n,e){var t=kr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=kr();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=X7.bind(null,rt,n),[i.memoizedState,n]},useRef:function(n){var e=kr();return n={current:n},e.memoizedState=n},useState:Ex,useDebugValue:H3,useDeferredValue:function(n){return kr().memoizedState=n},useTransition:function(){var n=Ex(!1),e=n[0];return n=V7.bind(null,n[1]),kr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=rt,r=kr();if(et){if(t===void 0)throw Error(j(407));t=t()}else{if(t=e(),Ot===null)throw Error(j(349));cc&30||Vw(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,kx(Kw.bind(null,i,s,n),[n]),i.flags|=2048,Jh(9,Xw.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=kr(),e=Ot.identifierPrefix;if(et){var t=Gs,i=Us;t=(i&~(1<<32-gr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Qh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=G7++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Y7={readContext:Xi,useCallback:n6,useContext:Xi,useEffect:$3,useImperativeHandle:t6,useInsertionEffect:Zw,useLayoutEffect:Jw,useMemo:i6,useReducer:r2,useRef:Qw,useState:function(){return r2(Zh)},useDebugValue:H3,useDeferredValue:function(n){var e=Ki();return r6(e,Tt.memoizedState,n)},useTransition:function(){var n=r2(Zh)[0],e=Ki().memoizedState;return[n,e]},useMutableSource:Uw,useSyncExternalStore:Gw,useId:s6,unstable_isNewReconciler:!1},Q7={readContext:Xi,useCallback:n6,useContext:Xi,useEffect:$3,useImperativeHandle:t6,useInsertionEffect:Zw,useLayoutEffect:Jw,useMemo:i6,useReducer:s2,useRef:Qw,useState:function(){return s2(Zh)},useDebugValue:H3,useDeferredValue:function(n){var e=Ki();return Tt===null?e.memoizedState=n:r6(e,Tt.memoizedState,n)},useTransition:function(){var n=s2(Zh)[0],e=Ki().memoizedState;return[n,e]},useMutableSource:Uw,useSyncExternalStore:Gw,useId:s6,unstable_isNewReconciler:!1};function Ji(n,e){if(n&&n.defaultProps){e=ot({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function ay(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:ot({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var f1={isMounted:function(n){return(n=n._reactInternals)?mc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=bn(),r=ma(n),s=Vs(i,r);s.payload=e,t!=null&&(s.callback=t),e=fa(n,s,r),e!==null&&(mr(e,n,r,i),Kg(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=bn(),r=ma(n),s=Vs(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=fa(n,s,r),e!==null&&(mr(e,n,r,i),Kg(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=bn(),i=ma(n),r=Vs(t,i);r.tag=2,e!=null&&(r.callback=e),e=fa(n,r,i),e!==null&&(mr(e,n,i,t),Kg(e,n,i))}};function Tx(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Gh(t,i)||!Gh(r,s):!0}function c6(n,e,t){var i=!1,r=xa,s=e.contextType;return typeof s=="object"&&s!==null?s=Xi(s):(r=Un(e)?ac:hn.current,i=e.contextTypes,s=(i=i!=null)?Tu(n,r):xa),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=f1,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function _x(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&f1.enqueueReplaceState(e,e.state,null)}function ly(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},B3(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Xi(s):(s=Un(e)?ac:hn.current,r.context=Tu(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ay(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&f1.enqueueReplaceState(r,r.state,null),a0(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Iu(n,e){try{var t="",i=e;do t+=EA(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function o2(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function cy(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Z7=typeof WeakMap=="function"?WeakMap:Map;function d6(n,e,t){t=Vs(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){h0||(h0=!0,xy=i),cy(n,e)},t}function u6(n,e,t){t=Vs(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){cy(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){cy(n,e),typeof i!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function Rx(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new Z7;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=hE.bind(null,n,e,t),e.then(n,n))}function Px(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Ix(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Vs(-1,1),e.tag=2,fa(t,e,1))),t.lanes|=1),n)}var J7=ro.ReactCurrentOwner,$n=!1;function Cn(n,e,t,i){e.child=n===null?zw(e,null,t,i):Ru(e,n.child,t,i)}function Dx(n,e,t,i,r){t=t.render;var s=e.ref;return Zc(e,r),i=z3(n,e,t,i,s,r),t=W3(),n!==null&&!$n?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Js(n,e,r)):(et&&t&&_3(e),e.flags|=1,Cn(n,e,i,r),e.child)}function Mx(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!Q3(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,h6(n,e,s,i,r)):(n=em(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Gh,t(o,i)&&n.ref===e.ref)return Js(n,e,r)}return e.flags|=1,n=ya(s,i),n.ref=e.ref,n.return=e,e.child=n}function h6(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Gh(s,i)&&n.ref===e.ref)if($n=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&($n=!0);else return e.lanes=n.lanes,Js(n,e,r)}return dy(n,e,t,i,r)}function p6(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Wc,fi),fi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ue(Wc,fi),fi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Ue(Wc,fi),fi|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Ue(Wc,fi),fi|=i;return Cn(n,e,r,t),e.child}function f6(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function dy(n,e,t,i,r){var s=Un(t)?ac:hn.current;return s=Tu(e,s),Zc(e,r),t=z3(n,e,t,i,s,r),i=W3(),n!==null&&!$n?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Js(n,e,r)):(et&&i&&_3(e),e.flags|=1,Cn(n,e,t,r),e.child)}function Nx(n,e,t,i,r){if(Un(t)){var s=!0;n0(e)}else s=!1;if(Zc(e,r),e.stateNode===null)Qg(n,e),c6(e,t,i),ly(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=t.contextType;typeof d=="object"&&d!==null?d=Xi(d):(d=Un(t)?ac:hn.current,d=Tu(e,d));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||c!==d)&&_x(e,o,i,d),uo=!1;var p=e.memoizedState;o.state=p,a0(e,i,o,r),c=e.memoizedState,l!==i||p!==c||Hn.current||uo?(typeof u=="function"&&(ay(e,t,u,i),c=e.memoizedState),(l=uo||Tx(e,t,l,i,p,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),o.props=i,o.state=c,o.context=d,i=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,$w(n,e),l=e.memoizedProps,d=e.type===e.elementType?l:Ji(e.type,l),o.props=d,h=e.pendingProps,p=o.context,c=t.contextType,typeof c=="object"&&c!==null?c=Xi(c):(c=Un(t)?ac:hn.current,c=Tu(e,c));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==c)&&_x(e,o,i,c),uo=!1,p=e.memoizedState,o.state=p,a0(e,i,o,r);var C=e.memoizedState;l!==h||p!==C||Hn.current||uo?(typeof m=="function"&&(ay(e,t,m,i),C=e.memoizedState),(d=uo||Tx(e,t,d,i,p,C,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,C,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,C,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=C),o.props=i,o.state=C,o.context=c,i=d):(typeof o.componentDidUpdate!="function"||l===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return uy(n,e,t,i,s,r)}function uy(n,e,t,i,r,s){f6(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&xx(e,t,!1),Js(n,e,s);i=e.stateNode,J7.current=e;var l=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Ru(e,n.child,null,s),e.child=Ru(e,null,l,s)):Cn(n,e,l,s),e.memoizedState=i.state,r&&xx(e,t,!0),e.child}function g6(n){var e=n.stateNode;e.pendingContext?vx(n,e.pendingContext,e.pendingContext!==e.context):e.context&&vx(n,e.context,!1),L3(n,e.containerInfo)}function Bx(n,e,t,i,r){return _u(),P3(r),e.flags|=256,Cn(n,e,t,i),e.child}var hy={dehydrated:null,treeContext:null,retryLane:0};function py(n){return{baseLanes:n,cachePool:null,transitions:null}}function m6(n,e,t){var i=e.pendingProps,r=it.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=n!==null&&n.memoizedState===null?!1:(r&2)!==0),l?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Ue(it,r&1),n===null)return sy(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=y1(o,i,0,null),n=oc(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=py(t),e.memoizedState=hy,n):U3(e,o));if(r=n.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return eE(n,e,o,i,l,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,l=r.sibling;var c={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=ya(r,c),i.subtreeFlags=r.subtreeFlags&14680064),l!==null?s=ya(l,s):(s=oc(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?py(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=hy,i}return s=n.child,n=s.sibling,i=ya(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function U3(n,e){return e=y1({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Eg(n,e,t,i){return i!==null&&P3(i),Ru(e,n.child,null,t),n=U3(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function eE(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=o2(Error(j(422))),Eg(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=y1({mode:"visible",children:i.children},r,0,null),s=oc(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Ru(e,n.child,null,o),e.child.memoizedState=py(o),e.memoizedState=hy,s);if(!(e.mode&1))return Eg(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var l=i.dgst;return i=l,s=Error(j(419)),i=o2(s,i,void 0),Eg(n,e,o,i)}if(l=(o&n.childLanes)!==0,$n||l){if(i=Ot,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Zs(n,r),mr(i,n,r,-1))}return Y3(),i=o2(Error(j(421))),Eg(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=pE.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,wi=pa(r.nextSibling),Si=e,et=!0,pr=null,n!==null&&(Wi[$i++]=Us,Wi[$i++]=Gs,Wi[$i++]=lc,Us=n.id,Gs=n.overflow,lc=e),e=U3(e,i.children),e.flags|=4096,e)}function Lx(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),oy(n.return,e,t)}function a2(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function y6(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Cn(n,e,i.children,t),i=it.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Lx(n,t,e);else if(n.tag===19)Lx(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Ue(it,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&l0(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),a2(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&l0(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}a2(e,!0,t,null,s);break;case"together":a2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qg(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Js(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),dc|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(j(153));if(e.child!==null){for(n=e.child,t=ya(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=ya(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function tE(n,e,t){switch(e.tag){case 3:g6(e),_u();break;case 5:Hw(e);break;case 1:Un(e.type)&&n0(e);break;case 4:L3(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Ue(s0,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ue(it,it.current&1),e.flags|=128,null):t&e.child.childLanes?m6(n,e,t):(Ue(it,it.current&1),n=Js(n,e,t),n!==null?n.sibling:null);Ue(it,it.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return y6(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ue(it,it.current),i)break;return null;case 22:case 23:return e.lanes=0,p6(n,e,t)}return Js(n,e,t)}var v6,fy,x6,C6;v6=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};fy=function(){};x6=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,za(Zr.current);var s=null;switch(t){case"input":r=L2(n,r),i=L2(n,i),s=[];break;case"select":r=ot({},r,{value:void 0}),i=ot({},i,{value:void 0}),s=[];break;case"textarea":r=j2(n,r),i=j2(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=e0)}W2(t,i);var o;t=null;for(d in r)if(!i.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var l=r[d];for(o in l)l.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Oh.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in i){var c=i[d];if(l=r!=null?r[d]:void 0,i.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(t||(t={}),t[o]=c[o])}else t||(s||(s=[]),s.push(d,t)),t=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Oh.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Xe("scroll",n),s||l===c||(s=[])):(s=s||[]).push(d,c))}t&&(s=s||[]).push("style",t);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};C6=function(n,e,t,i){t!==i&&(e.flags|=4)};function Gu(n,e){if(!et)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function nn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function nE(n,e,t){var i=e.pendingProps;switch(R3(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(e),null;case 1:return Un(e.type)&&t0(),nn(e),null;case 3:return i=e.stateNode,Pu(),Ye(Hn),Ye(hn),O3(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(bg(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pr!==null&&(Sy(pr),pr=null))),fy(n,e),nn(e),null;case 5:F3(e);var r=za(Yh.current);if(t=e.type,n!==null&&e.stateNode!=null)x6(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(j(166));return nn(e),null}if(n=za(Zr.current),bg(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[qr]=e,i[Kh]=s,n=(e.mode&1)!==0,t){case"dialog":Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":case"embed":Xe("load",i);break;case"video":case"audio":for(r=0;r<th.length;r++)Xe(th[r],i);break;case"source":Xe("error",i);break;case"img":case"image":case"link":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"input":G5(i,s),Xe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Xe("invalid",i);break;case"textarea":X5(i,s),Xe("invalid",i)}W2(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?i.textContent!==l&&(s.suppressHydrationWarning!==!0&&Sg(i.textContent,l,n),r=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Sg(i.textContent,l,n),r=["children",""+l]):Oh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Xe("scroll",i)}switch(t){case"input":fg(i),V5(i,s,!0);break;case"textarea":fg(i),K5(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=e0)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=KC(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[qr]=e,n[Kh]=i,v6(n,e,!1,!1),e.stateNode=n;e:{switch(o=$2(t,i),t){case"dialog":Xe("cancel",n),Xe("close",n),r=i;break;case"iframe":case"object":case"embed":Xe("load",n),r=i;break;case"video":case"audio":for(r=0;r<th.length;r++)Xe(th[r],n);r=i;break;case"source":Xe("error",n),r=i;break;case"img":case"image":case"link":Xe("error",n),Xe("load",n),r=i;break;case"details":Xe("toggle",n),r=i;break;case"input":G5(n,i),r=L2(n,i),Xe("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=ot({},i,{value:void 0}),Xe("invalid",n);break;case"textarea":X5(n,i),r=j2(n,i),Xe("invalid",n);break;default:r=i}W2(t,r),l=r;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?QC(n,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&qC(n,c)):s==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&jh(n,c):typeof c=="number"&&jh(n,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Oh.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Xe("scroll",n):c!=null&&f3(n,s,c,o))}switch(t){case"input":fg(n),V5(n,i,!1);break;case"textarea":fg(n),K5(n);break;case"option":i.value!=null&&n.setAttribute("value",""+va(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Kc(n,!!i.multiple,s,!1):i.defaultValue!=null&&Kc(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=e0)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nn(e),null;case 6:if(n&&e.stateNode!=null)C6(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(j(166));if(t=za(Yh.current),za(Zr.current),bg(e)){if(i=e.stateNode,t=e.memoizedProps,i[qr]=e,(s=i.nodeValue!==t)&&(n=Si,n!==null))switch(n.tag){case 3:Sg(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Sg(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[qr]=e,e.stateNode=i}return nn(e),null;case 13:if(Ye(it),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(et&&wi!==null&&e.mode&1&&!(e.flags&128))Ow(),_u(),e.flags|=98560,s=!1;else if(s=bg(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[qr]=e}else _u(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nn(e),s=!1}else pr!==null&&(Sy(pr),pr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||it.current&1?_t===0&&(_t=3):Y3())),e.updateQueue!==null&&(e.flags|=4),nn(e),null);case 4:return Pu(),fy(n,e),n===null&&Vh(e.stateNode.containerInfo),nn(e),null;case 10:return M3(e.type._context),nn(e),null;case 17:return Un(e.type)&&t0(),nn(e),null;case 19:if(Ye(it),s=e.memoizedState,s===null)return nn(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Gu(s,!1);else{if(_t!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=l0(n),o!==null){for(e.flags|=128,Gu(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ue(it,it.current&1|2),e.child}n=n.sibling}s.tail!==null&&mt()>Du&&(e.flags|=128,i=!0,Gu(s,!1),e.lanes=4194304)}else{if(!i)if(n=l0(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Gu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!et)return nn(e),null}else 2*mt()-s.renderingStartTime>Du&&t!==1073741824&&(e.flags|=128,i=!0,Gu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mt(),e.sibling=null,t=it.current,Ue(it,i?t&1|2:t&1),e):(nn(e),null);case 22:case 23:return q3(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?fi&1073741824&&(nn(e),e.subtreeFlags&6&&(e.flags|=8192)):nn(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function iE(n,e){switch(R3(e),e.tag){case 1:return Un(e.type)&&t0(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Pu(),Ye(Hn),Ye(hn),O3(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return F3(e),null;case 13:if(Ye(it),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(j(340));_u()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Ye(it),null;case 4:return Pu(),null;case 10:return M3(e.type._context),null;case 22:case 23:return q3(),null;case 24:return null;default:return null}}var kg=!1,un=!1,rE=typeof WeakSet=="function"?WeakSet:Set,Q=null;function zc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){ht(n,e,i)}else t.current=null}function gy(n,e,t){try{t()}catch(i){ht(n,e,i)}}var Fx=!1;function sE(n,e){if(Z2=Qm,n=Ew(),T3(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=n,p=null;t:for(;;){for(var m;h!==t||r!==0&&h.nodeType!==3||(l=o+r),h!==s||i!==0&&h.nodeType!==3||(c=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++d===r&&(l=o),p===s&&++u===i&&(c=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=l===-1||c===-1?null:{start:l,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(J2={focusedElem:n,selectionRange:t},Qm=!1,Q=e;Q!==null;)if(e=Q,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Q=n;else for(;Q!==null;){e=Q;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var v=C.memoizedProps,A=C.memoizedState,y=e.stateNode,S=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ji(e.type,v),A);y.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(k){ht(e,e.return,k)}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}return C=Fx,Fx=!1,C}function Mh(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&gy(e,t,s)}r=r.next}while(r!==i)}}function g1(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function my(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function w6(n){var e=n.alternate;e!==null&&(n.alternate=null,w6(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[qr],delete e[Kh],delete e[ny],delete e[W7],delete e[$7])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function S6(n){return n.tag===5||n.tag===3||n.tag===4}function Ox(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||S6(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function yy(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=e0));else if(i!==4&&(n=n.child,n!==null))for(yy(n,e,t),n=n.sibling;n!==null;)yy(n,e,t),n=n.sibling}function vy(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(vy(n,e,t),n=n.sibling;n!==null;)vy(n,e,t),n=n.sibling}var Gt=null,hr=!1;function so(n,e,t){for(t=t.child;t!==null;)b6(n,e,t),t=t.sibling}function b6(n,e,t){if(Qr&&typeof Qr.onCommitFiberUnmount=="function")try{Qr.onCommitFiberUnmount(a1,t)}catch{}switch(t.tag){case 5:un||zc(t,e);case 6:var i=Gt,r=hr;Gt=null,so(n,e,t),Gt=i,hr=r,Gt!==null&&(hr?(n=Gt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Gt.removeChild(t.stateNode));break;case 18:Gt!==null&&(hr?(n=Gt,t=t.stateNode,n.nodeType===8?e2(n.parentNode,t):n.nodeType===1&&e2(n,t),Hh(n)):e2(Gt,t.stateNode));break;case 4:i=Gt,r=hr,Gt=t.stateNode.containerInfo,hr=!0,so(n,e,t),Gt=i,hr=r;break;case 0:case 11:case 14:case 15:if(!un&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&gy(t,e,o),r=r.next}while(r!==i)}so(n,e,t);break;case 1:if(!un&&(zc(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(l){ht(t,e,l)}so(n,e,t);break;case 21:so(n,e,t);break;case 22:t.mode&1?(un=(i=un)||t.memoizedState!==null,so(n,e,t),un=i):so(n,e,t);break;default:so(n,e,t)}}function jx(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new rE),e.forEach(function(i){var r=fE.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Yi(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Gt=l.stateNode,hr=!1;break e;case 3:Gt=l.stateNode.containerInfo,hr=!0;break e;case 4:Gt=l.stateNode.containerInfo,hr=!0;break e}l=l.return}if(Gt===null)throw Error(j(160));b6(s,o,r),Gt=null,hr=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){ht(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)A6(e,n),e=e.sibling}function A6(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Yi(e,n),xr(n),i&4){try{Mh(3,n,n.return),g1(3,n)}catch(v){ht(n,n.return,v)}try{Mh(5,n,n.return)}catch(v){ht(n,n.return,v)}}break;case 1:Yi(e,n),xr(n),i&512&&t!==null&&zc(t,t.return);break;case 5:if(Yi(e,n),xr(n),i&512&&t!==null&&zc(t,t.return),n.flags&32){var r=n.stateNode;try{jh(r,"")}catch(v){ht(n,n.return,v)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,l=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&VC(r,s),$2(l,o);var d=$2(l,s);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?QC(r,h):u==="dangerouslySetInnerHTML"?qC(r,h):u==="children"?jh(r,h):f3(r,u,h,d)}switch(l){case"input":F2(r,s);break;case"textarea":XC(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Kc(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Kc(r,!!s.multiple,s.defaultValue,!0):Kc(r,!!s.multiple,s.multiple?[]:"",!1))}r[Kh]=s}catch(v){ht(n,n.return,v)}}break;case 6:if(Yi(e,n),xr(n),i&4){if(n.stateNode===null)throw Error(j(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(v){ht(n,n.return,v)}}break;case 3:if(Yi(e,n),xr(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Hh(e.containerInfo)}catch(v){ht(n,n.return,v)}break;case 4:Yi(e,n),xr(n);break;case 13:Yi(e,n),xr(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(X3=mt())),i&4&&jx(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(un=(d=un)||u,Yi(e,n),un=d):Yi(e,n),xr(n),i&8192){if(d=n.memoizedState!==null,(n.stateNode.isHidden=d)&&!u&&n.mode&1)for(Q=n,u=n.child;u!==null;){for(h=Q=u;Q!==null;){switch(p=Q,m=p.child,p.tag){case 0:case 11:case 14:case 15:Mh(4,p,p.return);break;case 1:zc(p,p.return);var C=p.stateNode;if(typeof C.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(v){ht(i,t,v)}}break;case 5:zc(p,p.return);break;case 22:if(p.memoizedState!==null){Wx(h);continue}}m!==null?(m.return=p,Q=m):Wx(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,d?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=YC("display",o))}catch(v){ht(n,n.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){ht(n,n.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Yi(e,n),xr(n),i&4&&jx(n);break;case 21:break;default:Yi(e,n),xr(n)}}function xr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(S6(t)){var i=t;break e}t=t.return}throw Error(j(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(jh(r,""),i.flags&=-33);var s=Ox(n);vy(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,l=Ox(n);yy(n,l,o);break;default:throw Error(j(161))}}catch(c){ht(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function oE(n,e,t){Q=n,E6(n)}function E6(n,e,t){for(var i=(n.mode&1)!==0;Q!==null;){var r=Q,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||kg;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||un;l=kg;var d=un;if(kg=o,(un=c)&&!d)for(Q=r;Q!==null;)o=Q,c=o.child,o.tag===22&&o.memoizedState!==null?$x(r):c!==null?(c.return=o,Q=c):$x(r);for(;s!==null;)Q=s,E6(s),s=s.sibling;Q=r,kg=l,un=d}zx(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Q=s):zx(n)}}function zx(n){for(;Q!==null;){var e=Q;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:un||g1(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!un)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Ji(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ax(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Ax(e,o,t)}break;case 5:var l=e.stateNode;if(t===null&&e.flags&4){t=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Hh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}un||e.flags&512&&my(e)}catch(p){ht(e,e.return,p)}}if(e===n){Q=null;break}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}}function Wx(n){for(;Q!==null;){var e=Q;if(e===n){Q=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Q=t;break}Q=e.return}}function $x(n){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{g1(4,e)}catch(c){ht(e,t,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(c){ht(e,r,c)}}var s=e.return;try{my(e)}catch(c){ht(e,s,c)}break;case 5:var o=e.return;try{my(e)}catch(c){ht(e,o,c)}}}catch(c){ht(e,e.return,c)}if(e===n){Q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Q=l;break}Q=e.return}}var aE=Math.ceil,u0=ro.ReactCurrentDispatcher,G3=ro.ReactCurrentOwner,Gi=ro.ReactCurrentBatchConfig,Ce=0,Ot=null,Ct=null,Yt=0,fi=0,Wc=Aa(0),_t=0,ep=null,dc=0,m1=0,V3=0,Nh=null,Wn=null,X3=0,Du=1/0,ss=null,h0=!1,xy=null,ga=null,Tg=!1,aa=null,p0=0,Bh=0,Cy=null,Zg=-1,Jg=0;function bn(){return Ce&6?mt():Zg!==-1?Zg:Zg=mt()}function ma(n){return n.mode&1?Ce&2&&Yt!==0?Yt&-Yt:U7.transition!==null?(Jg===0&&(Jg=cw()),Jg):(n=_e,n!==0||(n=window.event,n=n===void 0?16:mw(n.type)),n):1}function mr(n,e,t,i){if(50<Bh)throw Bh=0,Cy=null,Error(j(185));tg(n,t,i),(!(Ce&2)||n!==Ot)&&(n===Ot&&(!(Ce&2)&&(m1|=t),_t===4&&po(n,Yt)),Gn(n,i),t===1&&Ce===0&&!(e.mode&1)&&(Du=mt()+500,h1&&Ea()))}function Gn(n,e){var t=n.callbackNode;UA(n,e);var i=Ym(n,n===Ot?Yt:0);if(i===0)t!==null&&Q5(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&Q5(t),e===1)n.tag===0?H7(Hx.bind(null,n)):Bw(Hx.bind(null,n)),j7(function(){!(Ce&6)&&Ea()}),t=null;else{switch(dw(i)){case 1:t=x3;break;case 4:t=aw;break;case 16:t=qm;break;case 536870912:t=lw;break;default:t=qm}t=M6(t,k6.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function k6(n,e){if(Zg=-1,Jg=0,Ce&6)throw Error(j(327));var t=n.callbackNode;if(Jc()&&n.callbackNode!==t)return null;var i=Ym(n,n===Ot?Yt:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=f0(n,i);else{e=i;var r=Ce;Ce|=2;var s=_6();(Ot!==n||Yt!==e)&&(ss=null,Du=mt()+500,sc(n,e));do try{dE();break}catch(l){T6(n,l)}while(!0);D3(),u0.current=s,Ce=r,Ct!==null?e=0:(Ot=null,Yt=0,e=_t)}if(e!==0){if(e===2&&(r=X2(n),r!==0&&(i=r,e=wy(n,r))),e===1)throw t=ep,sc(n,0),po(n,i),Gn(n,mt()),t;if(e===6)po(n,i);else{if(r=n.current.alternate,!(i&30)&&!lE(r)&&(e=f0(n,i),e===2&&(s=X2(n),s!==0&&(i=s,e=wy(n,s))),e===1))throw t=ep,sc(n,0),po(n,i),Gn(n,mt()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(j(345));case 2:_a(n,Wn,ss);break;case 3:if(po(n,i),(i&130023424)===i&&(e=X3+500-mt(),10<e)){if(Ym(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){bn(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=ty(_a.bind(null,n,Wn,ss),e);break}_a(n,Wn,ss);break;case 4:if(po(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-gr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=mt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*aE(i/1960))-i,10<i){n.timeoutHandle=ty(_a.bind(null,n,Wn,ss),i);break}_a(n,Wn,ss);break;case 5:_a(n,Wn,ss);break;default:throw Error(j(329))}}}return Gn(n,mt()),n.callbackNode===t?k6.bind(null,n):null}function wy(n,e){var t=Nh;return n.current.memoizedState.isDehydrated&&(sc(n,e).flags|=256),n=f0(n,e),n!==2&&(e=Wn,Wn=t,e!==null&&Sy(e)),n}function Sy(n){Wn===null?Wn=n:Wn.push.apply(Wn,n)}function lE(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!yr(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function po(n,e){for(e&=~V3,e&=~m1,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-gr(e),i=1<<t;n[t]=-1,e&=~i}}function Hx(n){if(Ce&6)throw Error(j(327));Jc();var e=Ym(n,0);if(!(e&1))return Gn(n,mt()),null;var t=f0(n,e);if(n.tag!==0&&t===2){var i=X2(n);i!==0&&(e=i,t=wy(n,i))}if(t===1)throw t=ep,sc(n,0),po(n,e),Gn(n,mt()),t;if(t===6)throw Error(j(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,_a(n,Wn,ss),Gn(n,mt()),null}function K3(n,e){var t=Ce;Ce|=1;try{return n(e)}finally{Ce=t,Ce===0&&(Du=mt()+500,h1&&Ea())}}function uc(n){aa!==null&&aa.tag===0&&!(Ce&6)&&Jc();var e=Ce;Ce|=1;var t=Gi.transition,i=_e;try{if(Gi.transition=null,_e=1,n)return n()}finally{_e=i,Gi.transition=t,Ce=e,!(Ce&6)&&Ea()}}function q3(){fi=Wc.current,Ye(Wc)}function sc(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,O7(t)),Ct!==null)for(t=Ct.return;t!==null;){var i=t;switch(R3(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&t0();break;case 3:Pu(),Ye(Hn),Ye(hn),O3();break;case 5:F3(i);break;case 4:Pu();break;case 13:Ye(it);break;case 19:Ye(it);break;case 10:M3(i.type._context);break;case 22:case 23:q3()}t=t.return}if(Ot=n,Ct=n=ya(n.current,null),Yt=fi=e,_t=0,ep=null,V3=m1=dc=0,Wn=Nh=null,ja!==null){for(e=0;e<ja.length;e++)if(t=ja[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}ja=null}return n}function T6(n,e){do{var t=Ct;try{if(D3(),qg.current=d0,c0){for(var i=rt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}c0=!1}if(cc=0,Ft=Tt=rt=null,Dh=!1,Qh=0,G3.current=null,t===null||t.return===null){_t=1,ep=e,Ct=null;break}e:{var s=n,o=t.return,l=t,c=e;if(e=Yt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Px(o);if(m!==null){m.flags&=-257,Ix(m,o,l,s,e),m.mode&1&&Rx(s,d,e),e=m,c=d;var C=e.updateQueue;if(C===null){var v=new Set;v.add(c),e.updateQueue=v}else C.add(c);break e}else{if(!(e&1)){Rx(s,d,e),Y3();break e}c=Error(j(426))}}else if(et&&l.mode&1){var A=Px(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Ix(A,o,l,s,e),P3(Iu(c,l));break e}}s=c=Iu(c,l),_t!==4&&(_t=2),Nh===null?Nh=[s]:Nh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=d6(s,c,e);bx(s,y);break e;case 1:l=c;var S=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ga===null||!ga.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=u6(s,l,e);bx(s,k);break e}}s=s.return}while(s!==null)}P6(t)}catch(E){e=E,Ct===t&&t!==null&&(Ct=t=t.return);continue}break}while(!0)}function _6(){var n=u0.current;return u0.current=d0,n===null?d0:n}function Y3(){(_t===0||_t===3||_t===2)&&(_t=4),Ot===null||!(dc&268435455)&&!(m1&268435455)||po(Ot,Yt)}function f0(n,e){var t=Ce;Ce|=2;var i=_6();(Ot!==n||Yt!==e)&&(ss=null,sc(n,e));do try{cE();break}catch(r){T6(n,r)}while(!0);if(D3(),Ce=t,u0.current=i,Ct!==null)throw Error(j(261));return Ot=null,Yt=0,_t}function cE(){for(;Ct!==null;)R6(Ct)}function dE(){for(;Ct!==null&&!BA();)R6(Ct)}function R6(n){var e=D6(n.alternate,n,fi);n.memoizedProps=n.pendingProps,e===null?P6(n):Ct=e,G3.current=null}function P6(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=iE(t,e),t!==null){t.flags&=32767,Ct=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{_t=6,Ct=null;return}}else if(t=nE(t,e,fi),t!==null){Ct=t;return}if(e=e.sibling,e!==null){Ct=e;return}Ct=e=n}while(e!==null);_t===0&&(_t=5)}function _a(n,e,t){var i=_e,r=Gi.transition;try{Gi.transition=null,_e=1,uE(n,e,t,i)}finally{Gi.transition=r,_e=i}return null}function uE(n,e,t,i){do Jc();while(aa!==null);if(Ce&6)throw Error(j(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(j(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(GA(n,s),n===Ot&&(Ct=Ot=null,Yt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Tg||(Tg=!0,M6(qm,function(){return Jc(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Gi.transition,Gi.transition=null;var o=_e;_e=1;var l=Ce;Ce|=4,G3.current=null,sE(n,t),A6(t,n),I7(J2),Qm=!!Z2,J2=Z2=null,n.current=t,oE(t),LA(),Ce=l,_e=o,Gi.transition=s}else n.current=t;if(Tg&&(Tg=!1,aa=n,p0=r),s=n.pendingLanes,s===0&&(ga=null),jA(t.stateNode),Gn(n,mt()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(h0)throw h0=!1,n=xy,xy=null,n;return p0&1&&n.tag!==0&&Jc(),s=n.pendingLanes,s&1?n===Cy?Bh++:(Bh=0,Cy=n):Bh=0,Ea(),null}function Jc(){if(aa!==null){var n=dw(p0),e=Gi.transition,t=_e;try{if(Gi.transition=null,_e=16>n?16:n,aa===null)var i=!1;else{if(n=aa,aa=null,p0=0,Ce&6)throw Error(j(331));var r=Ce;for(Ce|=4,Q=n.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Q=d;Q!==null;){var u=Q;switch(u.tag){case 0:case 11:case 15:Mh(8,u,s)}var h=u.child;if(h!==null)h.return=u,Q=h;else for(;Q!==null;){u=Q;var p=u.sibling,m=u.return;if(w6(u),u===d){Q=null;break}if(p!==null){p.return=m,Q=p;break}Q=m}}}var C=s.alternate;if(C!==null){var v=C.child;if(v!==null){C.child=null;do{var A=v.sibling;v.sibling=null,v=A}while(v!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Mh(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Q=y;break e}Q=s.return}}var S=n.current;for(Q=S;Q!==null;){o=Q;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Q=w;else e:for(o=S;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:g1(9,l)}}catch(E){ht(l,l.return,E)}if(l===o){Q=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,Q=k;break e}Q=l.return}}if(Ce=r,Ea(),Qr&&typeof Qr.onPostCommitFiberRoot=="function")try{Qr.onPostCommitFiberRoot(a1,n)}catch{}i=!0}return i}finally{_e=t,Gi.transition=e}}return!1}function Ux(n,e,t){e=Iu(t,e),e=d6(n,e,1),n=fa(n,e,1),e=bn(),n!==null&&(tg(n,1,e),Gn(n,e))}function ht(n,e,t){if(n.tag===3)Ux(n,n,t);else for(;e!==null;){if(e.tag===3){Ux(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ga===null||!ga.has(i))){n=Iu(t,n),n=u6(e,n,1),e=fa(e,n,1),n=bn(),e!==null&&(tg(e,1,n),Gn(e,n));break}}e=e.return}}function hE(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=bn(),n.pingedLanes|=n.suspendedLanes&t,Ot===n&&(Yt&t)===t&&(_t===4||_t===3&&(Yt&130023424)===Yt&&500>mt()-X3?sc(n,0):V3|=t),Gn(n,e)}function I6(n,e){e===0&&(n.mode&1?(e=yg,yg<<=1,!(yg&130023424)&&(yg=4194304)):e=1);var t=bn();n=Zs(n,e),n!==null&&(tg(n,e,t),Gn(n,t))}function pE(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),I6(n,t)}function fE(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(j(314))}i!==null&&i.delete(e),I6(n,t)}var D6;D6=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Hn.current)$n=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return $n=!1,tE(n,e,t);$n=!!(n.flags&131072)}else $n=!1,et&&e.flags&1048576&&Lw(e,r0,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Qg(n,e),n=e.pendingProps;var r=Tu(e,hn.current);Zc(e,t),r=z3(null,e,i,n,r,t);var s=W3();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Un(i)?(s=!0,n0(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,B3(e),r.updater=f1,e.stateNode=r,r._reactInternals=e,ly(e,i,n,t),e=uy(null,e,i,!0,s,t)):(e.tag=0,et&&s&&_3(e),Cn(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Qg(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=mE(i),n=Ji(i,n),r){case 0:e=dy(null,e,i,n,t);break e;case 1:e=Nx(null,e,i,n,t);break e;case 11:e=Dx(null,e,i,n,t);break e;case 14:e=Mx(null,e,i,Ji(i.type,n),t);break e}throw Error(j(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ji(i,r),dy(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ji(i,r),Nx(n,e,i,r,t);case 3:e:{if(g6(e),n===null)throw Error(j(387));i=e.pendingProps,s=e.memoizedState,r=s.element,$w(n,e),a0(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Iu(Error(j(423)),e),e=Bx(n,e,i,t,r);break e}else if(i!==r){r=Iu(Error(j(424)),e),e=Bx(n,e,i,t,r);break e}else for(wi=pa(e.stateNode.containerInfo.firstChild),Si=e,et=!0,pr=null,t=zw(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(_u(),i===r){e=Js(n,e,t);break e}Cn(n,e,i,t)}e=e.child}return e;case 5:return Hw(e),n===null&&sy(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,ey(i,r)?o=null:s!==null&&ey(i,s)&&(e.flags|=32),f6(n,e),Cn(n,e,o,t),e.child;case 6:return n===null&&sy(e),null;case 13:return m6(n,e,t);case 4:return L3(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Ru(e,null,i,t):Cn(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ji(i,r),Dx(n,e,i,r,t);case 7:return Cn(n,e,e.pendingProps,t),e.child;case 8:return Cn(n,e,e.pendingProps.children,t),e.child;case 12:return Cn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Ue(s0,i._currentValue),i._currentValue=o,s!==null)if(yr(s.value,o)){if(s.children===r.children&&!Hn.current){e=Js(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===i){if(s.tag===1){c=Vs(-1,t&-t),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=t,c=s.alternate,c!==null&&(c.lanes|=t),oy(s.return,t,e),l.lanes|=t;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),oy(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Cn(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Zc(e,t),r=Xi(r),i=i(r),e.flags|=1,Cn(n,e,i,t),e.child;case 14:return i=e.type,r=Ji(i,e.pendingProps),r=Ji(i.type,r),Mx(n,e,i,r,t);case 15:return h6(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ji(i,r),Qg(n,e),e.tag=1,Un(i)?(n=!0,n0(e)):n=!1,Zc(e,t),c6(e,i,r),ly(e,i,r,t),uy(null,e,i,!0,n,t);case 19:return y6(n,e,t);case 22:return p6(n,e,t)}throw Error(j(156,e.tag))};function M6(n,e){return ow(n,e)}function gE(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ui(n,e,t,i){return new gE(n,e,t,i)}function Q3(n){return n=n.prototype,!(!n||!n.isReactComponent)}function mE(n){if(typeof n=="function")return Q3(n)?1:0;if(n!=null){if(n=n.$$typeof,n===m3)return 11;if(n===y3)return 14}return 2}function ya(n,e){var t=n.alternate;return t===null?(t=Ui(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function em(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")Q3(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Ic:return oc(t.children,r,s,e);case g3:o=8,r|=8;break;case D2:return n=Ui(12,t,e,r|2),n.elementType=D2,n.lanes=s,n;case M2:return n=Ui(13,t,e,r),n.elementType=M2,n.lanes=s,n;case N2:return n=Ui(19,t,e,r),n.elementType=N2,n.lanes=s,n;case HC:return y1(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case WC:o=10;break e;case $C:o=9;break e;case m3:o=11;break e;case y3:o=14;break e;case co:o=16,i=null;break e}throw Error(j(130,n==null?n:typeof n,""))}return e=Ui(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function oc(n,e,t,i){return n=Ui(7,n,i,e),n.lanes=t,n}function y1(n,e,t,i){return n=Ui(22,n,i,e),n.elementType=HC,n.lanes=t,n.stateNode={isHidden:!1},n}function l2(n,e,t){return n=Ui(6,n,null,e),n.lanes=t,n}function c2(n,e,t){return e=Ui(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function yE(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=H1(0),this.expirationTimes=H1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=H1(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Z3(n,e,t,i,r,s,o,l,c){return n=new yE(n,e,t,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ui(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},B3(s),n}function vE(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pc,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function N6(n){if(!n)return xa;n=n._reactInternals;e:{if(mc(n)!==n||n.tag!==1)throw Error(j(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(n.tag===1){var t=n.type;if(Un(t))return Nw(n,t,e)}return e}function B6(n,e,t,i,r,s,o,l,c){return n=Z3(t,i,!0,n,r,s,o,l,c),n.context=N6(null),t=n.current,i=bn(),r=ma(t),s=Vs(i,r),s.callback=e??null,fa(t,s,r),n.current.lanes=r,tg(n,r,i),Gn(n,i),n}function v1(n,e,t,i){var r=e.current,s=bn(),o=ma(r);return t=N6(t),e.context===null?e.context=t:e.pendingContext=t,e=Vs(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=fa(r,e,o),n!==null&&(mr(n,r,o,s),Kg(n,r,o)),o}function g0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Gx(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function J3(n,e){Gx(n,e),(n=n.alternate)&&Gx(n,e)}function xE(){return null}var L6=typeof reportError=="function"?reportError:function(n){console.error(n)};function e5(n){this._internalRoot=n}x1.prototype.render=e5.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(j(409));v1(n,e,null,null)};x1.prototype.unmount=e5.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;uc(function(){v1(null,n,null,null)}),e[Qs]=null}};function x1(n){this._internalRoot=n}x1.prototype.unstable_scheduleHydration=function(n){if(n){var e=pw();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ho.length&&e!==0&&e<ho[t].priority;t++);ho.splice(t,0,n),t===0&&gw(n)}};function t5(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function C1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Vx(){}function CE(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var d=g0(o);s.call(d)}}var o=B6(e,i,n,0,null,!1,!1,"",Vx);return n._reactRootContainer=o,n[Qs]=o.current,Vh(n.nodeType===8?n.parentNode:n),uc(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var l=i;i=function(){var d=g0(c);l.call(d)}}var c=Z3(n,0,!1,null,null,!1,!1,"",Vx);return n._reactRootContainer=c,n[Qs]=c.current,Vh(n.nodeType===8?n.parentNode:n),uc(function(){v1(e,c,t,i)}),c}function w1(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var l=r;r=function(){var c=g0(o);l.call(c)}}v1(e,o,n,r)}else o=CE(t,e,n,r,i);return g0(o)}uw=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=eh(e.pendingLanes);t!==0&&(C3(e,t|1),Gn(e,mt()),!(Ce&6)&&(Du=mt()+500,Ea()))}break;case 13:uc(function(){var i=Zs(n,1);if(i!==null){var r=bn();mr(i,n,1,r)}}),J3(n,1)}};w3=function(n){if(n.tag===13){var e=Zs(n,134217728);if(e!==null){var t=bn();mr(e,n,134217728,t)}J3(n,134217728)}};hw=function(n){if(n.tag===13){var e=ma(n),t=Zs(n,e);if(t!==null){var i=bn();mr(t,n,e,i)}J3(n,e)}};pw=function(){return _e};fw=function(n,e){var t=_e;try{return _e=n,e()}finally{_e=t}};U2=function(n,e,t){switch(e){case"input":if(F2(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=u1(i);if(!r)throw Error(j(90));GC(i),F2(i,r)}}}break;case"textarea":XC(n,t);break;case"select":e=t.value,e!=null&&Kc(n,!!t.multiple,e,!1)}};ew=K3;tw=uc;var wE={usingClientEntryPoint:!1,Events:[ig,Bc,u1,ZC,JC,K3]},Vu={findFiberByHostInstance:Oa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SE={bundleType:Vu.bundleType,version:Vu.version,rendererPackageName:Vu.rendererPackageName,rendererConfig:Vu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ro.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=rw(n),n===null?null:n.stateNode},findFiberByHostInstance:Vu.findFiberByHostInstance||xE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_g.isDisabled&&_g.supportsFiber)try{a1=_g.inject(SE),Qr=_g}catch{}}Ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wE;Ei.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t5(e))throw Error(j(200));return vE(n,e,null,t)};Ei.createRoot=function(n,e){if(!t5(n))throw Error(j(299));var t=!1,i="",r=L6;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Z3(n,1,!1,null,null,t,!1,i,r),n[Qs]=e.current,Vh(n.nodeType===8?n.parentNode:n),new e5(e)};Ei.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(j(188)):(n=Object.keys(n).join(","),Error(j(268,n)));return n=rw(e),n=n===null?null:n.stateNode,n};Ei.flushSync=function(n){return uc(n)};Ei.hydrate=function(n,e,t){if(!C1(e))throw Error(j(200));return w1(null,n,e,!0,t)};Ei.hydrateRoot=function(n,e,t){if(!t5(n))throw Error(j(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=L6;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=B6(e,null,n,1,t??null,r,!1,s,o),n[Qs]=e.current,Vh(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new x1(e)};Ei.render=function(n,e,t){if(!C1(e))throw Error(j(200));return w1(null,n,e,!1,t)};Ei.unmountComponentAtNode=function(n){if(!C1(n))throw Error(j(40));return n._reactRootContainer?(uc(function(){w1(null,null,n,!1,function(){n._reactRootContainer=null,n[Qs]=null})}),!0):!1};Ei.unstable_batchedUpdates=K3;Ei.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!C1(t))throw Error(j(200));if(n==null||n._reactInternals===void 0)throw Error(j(38));return w1(n,e,t,!1,i)};Ei.version="18.3.1-next-f1338f8080-20240426";function F6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(F6)}catch(n){console.error(n)}}F6(),FC.exports=Ei;var bE=FC.exports,Xx=bE;P2.createRoot=Xx.createRoot,P2.hydrateRoot=Xx.hydrateRoot;class AE{constructor(e){O(this,"camera");this.camera=e}rotateAndZoomTo(e,t,i={}){const{duration:r=3,zoomHeight:s=2e3}=i,o=Cesium.Cartesian3.fromDegrees(e,t,s);this.camera.flyTo({destination:o,duration:r,easingFunction:Cesium.EasingFunction.QUADRATIC_IN_OUT})}flyToBoundingBox(e){const[t,i,r,s]=e,o=Cesium.Rectangle.fromDegrees(r,t,s,i);this.camera.flyTo({destination:o,duration:2,easingFunction:Cesium.EasingFunction.CUBIC_IN_OUT})}}var Lu={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O6=$;function de(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var On=Object.prototype.hasOwnProperty,EE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kx={},qx={};function j6(n){return On.call(qx,n)?!0:On.call(Kx,n)?!1:EE.test(n)?qx[n]=!0:(Kx[n]=!0,!1)}function Tn(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Jt[n]=new Tn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Jt[e]=new Tn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Jt[n]=new Tn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Jt[n]=new Tn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Jt[n]=new Tn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Jt[n]=new Tn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Jt[n]=new Tn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Jt[n]=new Tn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Jt[n]=new Tn(n,5,!1,n.toLowerCase(),null,!1,!1)});var n5=/[\-:]([a-z])/g;function i5(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(n5,i5);Jt[e]=new Tn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(n5,i5);Jt[e]=new Tn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(n5,i5);Jt[e]=new Tn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Jt[n]=new Tn(n,1,!1,n.toLowerCase(),null,!1,!1)});Jt.xlinkHref=new Tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Jt[n]=new Tn(n,1,!1,n.toLowerCase(),null,!0,!0)});var tm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kE=["Webkit","ms","Moz","O"];Object.keys(tm).forEach(function(n){kE.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),tm[e]=tm[n]})});var TE=/["'&<>]/;function wn(n){if(typeof n=="boolean"||typeof n=="number")return""+n;n=""+n;var e=TE.exec(n);if(e){var t="",i,r=0;for(i=e.index;i<n.length;i++){switch(n.charCodeAt(i)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}r!==i&&(t+=n.substring(r,i)),r=i+1,t+=e}n=r!==i?t+n.substring(r,i):t}return n}var _E=/([A-Z])/g,RE=/^ms-/,by=Array.isArray;function ts(n,e){return{insertionMode:n,selectedValue:e}}function PE(n,e,t){switch(e){case"select":return ts(1,t.value!=null?t.value:t.defaultValue);case"svg":return ts(2,null);case"math":return ts(3,null);case"foreignObject":return ts(1,null);case"table":return ts(4,null);case"thead":case"tbody":case"tfoot":return ts(5,null);case"colgroup":return ts(7,null);case"tr":return ts(6,null)}return 4<=n.insertionMode||n.insertionMode===0?ts(1,null):n}var Yx=new Map;function z6(n,e,t){if(typeof t!="object")throw Error(de(62));e=!0;for(var i in t)if(On.call(t,i)){var r=t[i];if(r!=null&&typeof r!="boolean"&&r!==""){if(i.indexOf("--")===0){var s=wn(i);r=wn((""+r).trim())}else{s=i;var o=Yx.get(s);o!==void 0||(o=wn(s.replace(_E,"-$1").toLowerCase().replace(RE,"-ms-")),Yx.set(s,o)),s=o,r=typeof r=="number"?r===0||On.call(tm,i)?""+r:r+"px":wn((""+r).trim())}e?(e=!1,n.push(' style="',s,":",r)):n.push(";",s,":",r)}}e||n.push('"')}function Vn(n,e,t,i){switch(t){case"style":z6(n,e,i);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N"){if(e=Jt.hasOwnProperty(t)?Jt[t]:null,e!==null){switch(typeof i){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(t=e.attributeName,e.type){case 3:i&&n.push(" ",t,'=""');break;case 4:i===!0?n.push(" ",t,'=""'):i!==!1&&n.push(" ",t,'="',wn(i),'"');break;case 5:isNaN(i)||n.push(" ",t,'="',wn(i),'"');break;case 6:!isNaN(i)&&1<=i&&n.push(" ",t,'="',wn(i),'"');break;default:e.sanitizeURL&&(i=""+i),n.push(" ",t,'="',wn(i),'"')}}else if(j6(t)){switch(typeof i){case"function":case"symbol":return;case"boolean":if(e=t.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}n.push(" ",t,'="',wn(i),'"')}}}function nm(n,e,t){if(e!=null){if(t!=null)throw Error(de(60));if(typeof e!="object"||!("__html"in e))throw Error(de(61));e=e.__html,e!=null&&n.push(""+e)}}function IE(n){var e="";return O6.Children.forEach(n,function(t){t!=null&&(e+=t)}),e}function d2(n,e,t,i){n.push(Sr(t));var r=t=null,s;for(s in e)if(On.call(e,s)){var o=e[s];if(o!=null)switch(s){case"children":t=o;break;case"dangerouslySetInnerHTML":r=o;break;default:Vn(n,i,s,o)}}return n.push(">"),nm(n,r,t),typeof t=="string"?(n.push(wn(t)),null):t}var DE=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Qx=new Map;function Sr(n){var e=Qx.get(n);if(e===void 0){if(!DE.test(n))throw Error(de(65,n));e="<"+n,Qx.set(n,e)}return e}function ME(n,e,t,i,r){switch(e){case"select":n.push(Sr("select"));var s=null,o=null;for(u in t)if(On.call(t,u)){var l=t[u];if(l!=null)switch(u){case"children":s=l;break;case"dangerouslySetInnerHTML":o=l;break;case"defaultValue":case"value":break;default:Vn(n,i,u,l)}}return n.push(">"),nm(n,o,s),s;case"option":o=r.selectedValue,n.push(Sr("option"));var c=l=null,d=null,u=null;for(s in t)if(On.call(t,s)){var h=t[s];if(h!=null)switch(s){case"children":l=h;break;case"selected":d=h;break;case"dangerouslySetInnerHTML":u=h;break;case"value":c=h;default:Vn(n,i,s,h)}}if(o!=null)if(t=c!==null?""+c:IE(l),by(o)){for(i=0;i<o.length;i++)if(""+o[i]===t){n.push(' selected=""');break}}else""+o===t&&n.push(' selected=""');else d&&n.push(' selected=""');return n.push(">"),nm(n,u,l),l;case"textarea":n.push(Sr("textarea")),u=o=s=null;for(l in t)if(On.call(t,l)&&(c=t[l],c!=null))switch(l){case"children":u=c;break;case"value":s=c;break;case"defaultValue":o=c;break;case"dangerouslySetInnerHTML":throw Error(de(91));default:Vn(n,i,l,c)}if(s===null&&o!==null&&(s=o),n.push(">"),u!=null){if(s!=null)throw Error(de(92));if(by(u)&&1<u.length)throw Error(de(93));s=""+u}return typeof s=="string"&&s[0]===`
`&&n.push(`
`),s!==null&&n.push(wn(""+s)),null;case"input":n.push(Sr("input")),c=u=l=s=null;for(o in t)if(On.call(t,o)&&(d=t[o],d!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(de(399,"input"));case"defaultChecked":c=d;break;case"defaultValue":l=d;break;case"checked":u=d;break;case"value":s=d;break;default:Vn(n,i,o,d)}return u!==null?Vn(n,i,"checked",u):c!==null&&Vn(n,i,"checked",c),s!==null?Vn(n,i,"value",s):l!==null&&Vn(n,i,"value",l),n.push("/>"),null;case"menuitem":n.push(Sr("menuitem"));for(var p in t)if(On.call(t,p)&&(s=t[p],s!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(de(400));default:Vn(n,i,p,s)}return n.push(">"),null;case"title":n.push(Sr("title")),s=null;for(h in t)if(On.call(t,h)&&(o=t[h],o!=null))switch(h){case"children":s=o;break;case"dangerouslySetInnerHTML":throw Error(de(434));default:Vn(n,i,h,o)}return n.push(">"),s;case"listing":case"pre":n.push(Sr(e)),o=s=null;for(c in t)if(On.call(t,c)&&(l=t[c],l!=null))switch(c){case"children":s=l;break;case"dangerouslySetInnerHTML":o=l;break;default:Vn(n,i,c,l)}if(n.push(">"),o!=null){if(s!=null)throw Error(de(60));if(typeof o!="object"||!("__html"in o))throw Error(de(61));t=o.__html,t!=null&&(typeof t=="string"&&0<t.length&&t[0]===`
`?n.push(`
`,t):n.push(""+t))}return typeof s=="string"&&s[0]===`
`&&n.push(`
`),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":n.push(Sr(e));for(var m in t)if(On.call(t,m)&&(s=t[m],s!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(de(399,e));default:Vn(n,i,m,s)}return n.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return d2(n,t,e,i);case"html":return r.insertionMode===0&&n.push("<!DOCTYPE html>"),d2(n,t,e,i);default:if(e.indexOf("-")===-1&&typeof t.is!="string")return d2(n,t,e,i);n.push(Sr(e)),o=s=null;for(d in t)if(On.call(t,d)&&(l=t[d],l!=null))switch(d){case"children":s=l;break;case"dangerouslySetInnerHTML":o=l;break;case"style":z6(n,i,l);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:j6(d)&&typeof l!="function"&&typeof l!="symbol"&&n.push(" ",d,'="',wn(l),'"')}return n.push(">"),nm(n,o,s),s}}function Zx(n,e,t){if(n.push('<!--$?--><template id="'),t===null)throw Error(de(395));return n.push(t),n.push('"></template>')}function NE(n,e,t,i){switch(t.insertionMode){case 0:case 1:return n.push('<div hidden id="'),n.push(e.segmentPrefix),e=i.toString(16),n.push(e),n.push('">');case 2:return n.push('<svg aria-hidden="true" style="display:none" id="'),n.push(e.segmentPrefix),e=i.toString(16),n.push(e),n.push('">');case 3:return n.push('<math aria-hidden="true" style="display:none" id="'),n.push(e.segmentPrefix),e=i.toString(16),n.push(e),n.push('">');case 4:return n.push('<table hidden id="'),n.push(e.segmentPrefix),e=i.toString(16),n.push(e),n.push('">');case 5:return n.push('<table hidden><tbody id="'),n.push(e.segmentPrefix),e=i.toString(16),n.push(e),n.push('">');case 6:return n.push('<table hidden><tr id="'),n.push(e.segmentPrefix),e=i.toString(16),n.push(e),n.push('">');case 7:return n.push('<table hidden><colgroup id="'),n.push(e.segmentPrefix),e=i.toString(16),n.push(e),n.push('">');default:throw Error(de(397))}}function BE(n,e){switch(e.insertionMode){case 0:case 1:return n.push("</div>");case 2:return n.push("</svg>");case 3:return n.push("</math>");case 4:return n.push("</table>");case 5:return n.push("</tbody></table>");case 6:return n.push("</tr></table>");case 7:return n.push("</colgroup></table>");default:throw Error(de(397))}}var LE=/[<\u2028\u2029]/g;function u2(n){return JSON.stringify(n).replace(LE,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function FE(n,e){return e=e===void 0?"":e,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:e+"P:",segmentPrefix:e+"S:",boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:n}}function Jx(n,e,t,i){return t.generateStaticMarkup?(n.push(wn(e)),!1):(e===""?n=i:(i&&n.push("<!-- -->"),n.push(wn(e)),n=!0),n)}var Lh=Object.assign,OE=Symbol.for("react.element"),W6=Symbol.for("react.portal"),$6=Symbol.for("react.fragment"),H6=Symbol.for("react.strict_mode"),U6=Symbol.for("react.profiler"),G6=Symbol.for("react.provider"),V6=Symbol.for("react.context"),X6=Symbol.for("react.forward_ref"),K6=Symbol.for("react.suspense"),q6=Symbol.for("react.suspense_list"),Y6=Symbol.for("react.memo"),r5=Symbol.for("react.lazy"),jE=Symbol.for("react.scope"),zE=Symbol.for("react.debug_trace_mode"),WE=Symbol.for("react.legacy_hidden"),$E=Symbol.for("react.default_value"),e4=Symbol.iterator;function Ay(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case $6:return"Fragment";case W6:return"Portal";case U6:return"Profiler";case H6:return"StrictMode";case K6:return"Suspense";case q6:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case V6:return(n.displayName||"Context")+".Consumer";case G6:return(n._context.displayName||"Context")+".Provider";case X6:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Y6:return e=n.displayName||null,e!==null?e:Ay(n.type)||"Memo";case r5:e=n._payload,n=n._init;try{return Ay(n(e))}catch{}}return null}var Q6={};function t4(n,e){if(n=n.contextTypes,!n)return Q6;var t={},i;for(i in n)t[i]=e[i];return t}var Wa=null;function S1(n,e){if(n!==e){n.context._currentValue2=n.parentValue,n=n.parent;var t=e.parent;if(n===null){if(t!==null)throw Error(de(401))}else{if(t===null)throw Error(de(401));S1(n,t)}e.context._currentValue2=e.value}}function Z6(n){n.context._currentValue2=n.parentValue,n=n.parent,n!==null&&Z6(n)}function J6(n){var e=n.parent;e!==null&&J6(e),n.context._currentValue2=n.value}function eS(n,e){if(n.context._currentValue2=n.parentValue,n=n.parent,n===null)throw Error(de(402));n.depth===e.depth?S1(n,e):eS(n,e)}function tS(n,e){var t=e.parent;if(t===null)throw Error(de(402));n.depth===t.depth?S1(n,t):tS(n,t),e.context._currentValue2=e.value}function m0(n){var e=Wa;e!==n&&(e===null?J6(n):n===null?Z6(e):e.depth===n.depth?S1(e,n):e.depth>n.depth?eS(e,n):tS(e,n),Wa=n)}var n4={isMounted:function(){return!1},enqueueSetState:function(n,e){n=n._reactInternals,n.queue!==null&&n.queue.push(e)},enqueueReplaceState:function(n,e){n=n._reactInternals,n.replace=!0,n.queue=[e]},enqueueForceUpdate:function(){}};function i4(n,e,t,i){var r=n.state!==void 0?n.state:null;n.updater=n4,n.props=t,n.state=r;var s={queue:[],replace:!1};n._reactInternals=s;var o=e.contextType;if(n.context=typeof o=="object"&&o!==null?o._currentValue2:i,o=e.getDerivedStateFromProps,typeof o=="function"&&(o=o(t,r),r=o==null?r:Lh({},r,o),n.state=r),typeof e.getDerivedStateFromProps!="function"&&typeof n.getSnapshotBeforeUpdate!="function"&&(typeof n.UNSAFE_componentWillMount=="function"||typeof n.componentWillMount=="function"))if(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&n4.enqueueReplaceState(n,n.state,null),s.queue!==null&&0<s.queue.length)if(e=s.queue,o=s.replace,s.queue=null,s.replace=!1,o&&e.length===1)n.state=e[0];else{for(s=o?e[0]:n.state,r=!0,o=o?1:0;o<e.length;o++){var l=e[o];l=typeof l=="function"?l.call(n,s,t,i):l,l!=null&&(r?(r=!1,s=Lh({},s,l)):Lh(s,l))}n.state=s}else s.queue=null}var HE={id:1,overflow:""};function Ey(n,e,t){var i=n.id;n=n.overflow;var r=32-im(i)-1;i&=~(1<<r),t+=1;var s=32-im(e)+r;if(30<s){var o=r-r%5;return s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,{id:1<<32-im(e)+r|t<<r|i,overflow:s+n}}return{id:1<<s|t<<r|i,overflow:n}}var im=Math.clz32?Math.clz32:VE,UE=Math.log,GE=Math.LN2;function VE(n){return n>>>=0,n===0?32:31-(UE(n)/GE|0)|0}function XE(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var KE=typeof Object.is=="function"?Object.is:XE,eo=null,s5=null,rm=null,$e=null,nh=!1,y0=!1,tp=0,la=null,b1=0;function Da(){if(eo===null)throw Error(de(321));return eo}function r4(){if(0<b1)throw Error(de(312));return{memoizedState:null,queue:null,next:null}}function o5(){return $e===null?rm===null?(nh=!1,rm=$e=r4()):(nh=!0,$e=rm):$e.next===null?(nh=!1,$e=$e.next=r4()):(nh=!0,$e=$e.next),$e}function a5(){s5=eo=null,y0=!1,rm=null,b1=0,$e=la=null}function nS(n,e){return typeof e=="function"?e(n):e}function s4(n,e,t){if(eo=Da(),$e=o5(),nh){var i=$e.queue;if(e=i.dispatch,la!==null&&(t=la.get(i),t!==void 0)){la.delete(i),i=$e.memoizedState;do i=n(i,t.action),t=t.next;while(t!==null);return $e.memoizedState=i,[i,e]}return[$e.memoizedState,e]}return n=n===nS?typeof e=="function"?e():e:t!==void 0?t(e):e,$e.memoizedState=n,n=$e.queue={last:null,dispatch:null},n=n.dispatch=qE.bind(null,eo,n),[$e.memoizedState,n]}function o4(n,e){if(eo=Da(),$e=o5(),e=e===void 0?null:e,$e!==null){var t=$e.memoizedState;if(t!==null&&e!==null){var i=t[1];e:if(i===null)i=!1;else{for(var r=0;r<i.length&&r<e.length;r++)if(!KE(e[r],i[r])){i=!1;break e}i=!0}if(i)return t[0]}}return n=n(),$e.memoizedState=[n,e],n}function qE(n,e,t){if(25<=b1)throw Error(de(301));if(n===eo)if(y0=!0,n={action:t,next:null},la===null&&(la=new Map),t=la.get(e),t===void 0)la.set(e,n);else{for(e=t;e.next!==null;)e=e.next;e.next=n}}function YE(){throw Error(de(394))}function Rg(){}var a4={readContext:function(n){return n._currentValue2},useContext:function(n){return Da(),n._currentValue2},useMemo:o4,useReducer:s4,useRef:function(n){eo=Da(),$e=o5();var e=$e.memoizedState;return e===null?(n={current:n},$e.memoizedState=n):e},useState:function(n){return s4(nS,n)},useInsertionEffect:Rg,useLayoutEffect:function(){},useCallback:function(n,e){return o4(function(){return n},e)},useImperativeHandle:Rg,useEffect:Rg,useDebugValue:Rg,useDeferredValue:function(n){return Da(),n},useTransition:function(){return Da(),[!1,YE]},useId:function(){var n=s5.treeContext,e=n.overflow;n=n.id,n=(n&~(1<<32-im(n)-1)).toString(32)+e;var t=sm;if(t===null)throw Error(de(404));return e=tp++,n=":"+t.idPrefix+"R"+n,0<e&&(n+="H"+e.toString(32)),n+":"},useMutableSource:function(n,e){return Da(),e(n._source)},useSyncExternalStore:function(n,e,t){if(t===void 0)throw Error(de(407));return t()}},sm=null,h2=O6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function QE(n){return console.error(n),null}function ih(){}function ZE(n,e,t,i,r,s,o,l,c){var d=[],u=new Set;return e={destination:null,responseState:e,progressiveChunkSize:i===void 0?12800:i,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:u,pingedTasks:d,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:r===void 0?QE:r,onAllReady:ih,onShellReady:o===void 0?ih:o,onShellError:ih,onFatalError:ih},t=v0(e,0,null,t,!1,!1),t.parentFlushed=!0,n=l5(e,n,null,t,u,Q6,null,HE),d.push(n),e}function l5(n,e,t,i,r,s,o,l){n.allPendingTasks++,t===null?n.pendingRootTasks++:t.pendingTasks++;var c={node:e,ping:function(){var d=n.pingedTasks;d.push(c),d.length===1&&sS(n)},blockedBoundary:t,blockedSegment:i,abortSet:r,legacyContext:s,context:o,treeContext:l};return r.add(c),c}function v0(n,e,t,i,r,s){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:i,boundary:t,lastPushedText:r,textEmbedded:s}}function np(n,e){if(n=n.onError(e),n!=null&&typeof n!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof n+'" instead');return n}function x0(n,e){var t=n.onShellError;t(e),t=n.onFatalError,t(e),n.destination!==null?(n.status=2,n.destination.destroy(e)):(n.status=1,n.fatalError=e)}function l4(n,e,t,i,r){for(eo={},s5=e,tp=0,n=t(i,r);y0;)y0=!1,tp=0,b1+=1,$e=null,n=t(i,r);return a5(),n}function c4(n,e,t,i){var r=t.render(),s=i.childContextTypes;if(s!=null){var o=e.legacyContext;if(typeof t.getChildContext!="function")i=o;else{t=t.getChildContext();for(var l in t)if(!(l in s))throw Error(de(108,Ay(i)||"Unknown",l));i=Lh({},o,t)}e.legacyContext=i,gi(n,e,r),e.legacyContext=o}else gi(n,e,r)}function d4(n,e){if(n&&n.defaultProps){e=Lh({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function ky(n,e,t,i,r){if(typeof t=="function")if(t.prototype&&t.prototype.isReactComponent){r=t4(t,e.legacyContext);var s=t.contextType;s=new t(i,typeof s=="object"&&s!==null?s._currentValue2:r),i4(s,t,i,r),c4(n,e,s,t)}else{s=t4(t,e.legacyContext),r=l4(n,e,t,i,s);var o=tp!==0;if(typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0)i4(r,t,i,s),c4(n,e,r,t);else if(o){i=e.treeContext,e.treeContext=Ey(i,1,0);try{gi(n,e,r)}finally{e.treeContext=i}}else gi(n,e,r)}else if(typeof t=="string"){switch(r=e.blockedSegment,s=ME(r.chunks,t,i,n.responseState,r.formatContext),r.lastPushedText=!1,o=r.formatContext,r.formatContext=PE(o,t,i),Ty(n,e,s),r.formatContext=o,t){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:r.chunks.push("</",t,">")}r.lastPushedText=!1}else{switch(t){case WE:case zE:case H6:case U6:case $6:gi(n,e,i.children);return;case q6:gi(n,e,i.children);return;case jE:throw Error(de(343));case K6:e:{t=e.blockedBoundary,r=e.blockedSegment,s=i.fallback,i=i.children,o=new Set;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},c=v0(n,r.chunks.length,l,r.formatContext,!1,!1);r.children.push(c),r.lastPushedText=!1;var d=v0(n,0,null,r.formatContext,!1,!1);d.parentFlushed=!0,e.blockedBoundary=l,e.blockedSegment=d;try{if(Ty(n,e,i),n.responseState.generateStaticMarkup||d.lastPushedText&&d.textEmbedded&&d.chunks.push("<!-- -->"),d.status=1,C0(l,d),l.pendingTasks===0)break e}catch(u){d.status=4,l.forceClientRender=!0,l.errorDigest=np(n,u)}finally{e.blockedBoundary=t,e.blockedSegment=r}e=l5(n,s,t,c,o,e.legacyContext,e.context,e.treeContext),n.pingedTasks.push(e)}return}if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X6:if(i=l4(n,e,t.render,i,r),tp!==0){t=e.treeContext,e.treeContext=Ey(t,1,0);try{gi(n,e,i)}finally{e.treeContext=t}}else gi(n,e,i);return;case Y6:t=t.type,i=d4(t,i),ky(n,e,t,i,r);return;case G6:if(r=i.children,t=t._context,i=i.value,s=t._currentValue2,t._currentValue2=i,o=Wa,Wa=i={parent:o,depth:o===null?0:o.depth+1,context:t,parentValue:s,value:i},e.context=i,gi(n,e,r),n=Wa,n===null)throw Error(de(403));i=n.parentValue,n.context._currentValue2=i===$E?n.context._defaultValue:i,n=Wa=n.parent,e.context=n;return;case V6:i=i.children,i=i(t._currentValue2),gi(n,e,i);return;case r5:r=t._init,t=r(t._payload),i=d4(t,i),ky(n,e,t,i,void 0);return}throw Error(de(130,t==null?t:typeof t,""))}}function gi(n,e,t){if(e.node=t,typeof t=="object"&&t!==null){switch(t.$$typeof){case OE:ky(n,e,t.type,t.props,t.ref);return;case W6:throw Error(de(257));case r5:var i=t._init;t=i(t._payload),gi(n,e,t);return}if(by(t)){u4(n,e,t);return}if(t===null||typeof t!="object"?i=null:(i=e4&&t[e4]||t["@@iterator"],i=typeof i=="function"?i:null),i&&(i=i.call(t))){if(t=i.next(),!t.done){var r=[];do r.push(t.value),t=i.next();while(!t.done);u4(n,e,r)}return}throw n=Object.prototype.toString.call(t),Error(de(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}typeof t=="string"?(i=e.blockedSegment,i.lastPushedText=Jx(e.blockedSegment.chunks,t,n.responseState,i.lastPushedText)):typeof t=="number"&&(i=e.blockedSegment,i.lastPushedText=Jx(e.blockedSegment.chunks,""+t,n.responseState,i.lastPushedText))}function u4(n,e,t){for(var i=t.length,r=0;r<i;r++){var s=e.treeContext;e.treeContext=Ey(s,i,r);try{Ty(n,e,t[r])}finally{e.treeContext=s}}}function Ty(n,e,t){var i=e.blockedSegment.formatContext,r=e.legacyContext,s=e.context;try{return gi(n,e,t)}catch(c){if(a5(),typeof c=="object"&&c!==null&&typeof c.then=="function"){t=c;var o=e.blockedSegment,l=v0(n,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(l),o.lastPushedText=!1,n=l5(n,e.node,e.blockedBoundary,l,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,t.then(n,n),e.blockedSegment.formatContext=i,e.legacyContext=r,e.context=s,m0(s)}else throw e.blockedSegment.formatContext=i,e.legacyContext=r,e.context=s,m0(s),c}}function JE(n){var e=n.blockedBoundary;n=n.blockedSegment,n.status=3,rS(this,e,n)}function iS(n,e,t){var i=n.blockedBoundary;n.blockedSegment.status=3,i===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.push(null))):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,n=t===void 0?Error(de(432)):t,i.errorDigest=e.onError(n),i.parentFlushed&&e.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach(function(r){return iS(r,e,t)}),i.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(i=e.onAllReady,i()))}function C0(n,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var t=e.children[0];t.id=e.id,t.parentFlushed=!0,t.status===1&&C0(n,t)}else n.completedSegments.push(e)}function rS(n,e,t){if(e===null){if(t.parentFlushed){if(n.completedRootSegment!==null)throw Error(de(389));n.completedRootSegment=t}n.pendingRootTasks--,n.pendingRootTasks===0&&(n.onShellError=ih,e=n.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(t.parentFlushed&&t.status===1&&C0(e,t),e.parentFlushed&&n.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(JE,n),e.fallbackAbortableTasks.clear()):t.parentFlushed&&t.status===1&&(C0(e,t),e.completedSegments.length===1&&e.parentFlushed&&n.partialBoundaries.push(e)));n.allPendingTasks--,n.allPendingTasks===0&&(n=n.onAllReady,n())}function sS(n){if(n.status!==2){var e=Wa,t=h2.current;h2.current=a4;var i=sm;sm=n.responseState;try{var r=n.pingedTasks,s;for(s=0;s<r.length;s++){var o=r[s],l=n,c=o.blockedSegment;if(c.status===0){m0(o.context);try{gi(l,o,o.node),l.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("<!-- -->"),o.abortSet.delete(o),c.status=1,rS(l,o.blockedBoundary,c)}catch(C){if(a5(),typeof C=="object"&&C!==null&&typeof C.then=="function"){var d=o.ping;C.then(d,d)}else{o.abortSet.delete(o),c.status=4;var u=o.blockedBoundary,h=C,p=np(l,h);if(u===null?x0(l,h):(u.pendingTasks--,u.forceClientRender||(u.forceClientRender=!0,u.errorDigest=p,u.parentFlushed&&l.clientRenderedBoundaries.push(u))),l.allPendingTasks--,l.allPendingTasks===0){var m=l.onAllReady;m()}}}finally{}}}r.splice(0,s),n.destination!==null&&c5(n,n.destination)}catch(C){np(n,C),x0(n,C)}finally{sm=i,h2.current=t,t===a4&&m0(e)}}}function Pg(n,e,t){switch(t.parentFlushed=!0,t.status){case 0:var i=t.id=n.nextSegmentId++;return t.lastPushedText=!1,t.textEmbedded=!1,n=n.responseState,e.push('<template id="'),e.push(n.placeholderPrefix),n=i.toString(16),e.push(n),e.push('"></template>');case 1:t.status=2;var r=!0;i=t.chunks;var s=0;t=t.children;for(var o=0;o<t.length;o++){for(r=t[o];s<r.index;s++)e.push(i[s]);r=A1(n,e,r)}for(;s<i.length-1;s++)e.push(i[s]);return s<i.length&&(r=e.push(i[s])),r;default:throw Error(de(390))}}function A1(n,e,t){var i=t.boundary;if(i===null)return Pg(n,e,t);if(i.parentFlushed=!0,i.forceClientRender)return n.responseState.generateStaticMarkup||(i=i.errorDigest,e.push("<!--$!-->"),e.push("<template"),i&&(e.push(' data-dgst="'),i=wn(i),e.push(i),e.push('"')),e.push("></template>")),Pg(n,e,t),n=n.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),n;if(0<i.pendingTasks){i.rootSegmentID=n.nextSegmentId++,0<i.completedSegments.length&&n.partialBoundaries.push(i);var r=n.responseState,s=r.nextSuspenseID++;return r=r.boundaryPrefix+s.toString(16),i=i.id=r,Zx(e,n.responseState,i),Pg(n,e,t),e.push("<!--/$-->")}if(i.byteSize>n.progressiveChunkSize)return i.rootSegmentID=n.nextSegmentId++,n.completedBoundaries.push(i),Zx(e,n.responseState,i.id),Pg(n,e,t),e.push("<!--/$-->");if(n.responseState.generateStaticMarkup||e.push("<!--$-->"),t=i.completedSegments,t.length!==1)throw Error(de(391));return A1(n,e,t[0]),n=n.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),n}function h4(n,e,t){return NE(e,n.responseState,t.formatContext,t.id),A1(n,e,t),BE(e,t.formatContext)}function p4(n,e,t){for(var i=t.completedSegments,r=0;r<i.length;r++)oS(n,e,t,i[r]);if(i.length=0,n=n.responseState,i=t.id,t=t.rootSegmentID,e.push(n.startInlineScript),n.sentCompleteBoundaryFunction?e.push('$RC("'):(n.sentCompleteBoundaryFunction=!0,e.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),i===null)throw Error(de(395));return t=t.toString(16),e.push(i),e.push('","'),e.push(n.segmentPrefix),e.push(t),e.push('")<\/script>')}function oS(n,e,t,i){if(i.status===2)return!0;var r=i.id;if(r===-1){if((i.id=t.rootSegmentID)===-1)throw Error(de(392));return h4(n,e,i)}return h4(n,e,i),n=n.responseState,e.push(n.startInlineScript),n.sentCompleteSegmentFunction?e.push('$RS("'):(n.sentCompleteSegmentFunction=!0,e.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),e.push(n.segmentPrefix),r=r.toString(16),e.push(r),e.push('","'),e.push(n.placeholderPrefix),e.push(r),e.push('")<\/script>')}function c5(n,e){try{var t=n.completedRootSegment;if(t!==null&&n.pendingRootTasks===0){A1(n,e,t),n.completedRootSegment=null;var i=n.responseState.bootstrapChunks;for(t=0;t<i.length-1;t++)e.push(i[t]);t<i.length&&e.push(i[t])}var r=n.clientRenderedBoundaries,s;for(s=0;s<r.length;s++){var o=r[s];i=e;var l=n.responseState,c=o.id,d=o.errorDigest,u=o.errorMessage,h=o.errorComponentStack;if(i.push(l.startInlineScript),l.sentClientRenderFunction?i.push('$RX("'):(l.sentClientRenderFunction=!0,i.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),c===null)throw Error(de(395));if(i.push(c),i.push('"'),d||u||h){i.push(",");var p=u2(d||"");i.push(p)}if(u||h){i.push(",");var m=u2(u||"");i.push(m)}if(h){i.push(",");var C=u2(h);i.push(C)}if(!i.push(")<\/script>")){n.destination=null,s++,r.splice(0,s);return}}r.splice(0,s);var v=n.completedBoundaries;for(s=0;s<v.length;s++)if(!p4(n,e,v[s])){n.destination=null,s++,v.splice(0,s);return}v.splice(0,s);var A=n.partialBoundaries;for(s=0;s<A.length;s++){var y=A[s];e:{r=n,o=e;var S=y.completedSegments;for(l=0;l<S.length;l++)if(!oS(r,o,y,S[l])){l++,S.splice(0,l);var w=!1;break e}S.splice(0,l),w=!0}if(!w){n.destination=null,s++,A.splice(0,s);return}}A.splice(0,s);var k=n.completedBoundaries;for(s=0;s<k.length;s++)if(!p4(n,e,k[s])){n.destination=null,s++,k.splice(0,s);return}k.splice(0,s)}finally{n.allPendingTasks===0&&n.pingedTasks.length===0&&n.clientRenderedBoundaries.length===0&&n.completedBoundaries.length===0&&e.push(null)}}function ek(n,e){try{var t=n.abortableTasks;t.forEach(function(i){return iS(i,n,e)}),t.clear(),n.destination!==null&&c5(n,n.destination)}catch(i){np(n,i),x0(n,i)}}function tk(){}function aS(n,e,t,i){var r=!1,s=null,o="",l={push:function(d){return d!==null&&(o+=d),!0},destroy:function(d){r=!0,s=d}},c=!1;if(n=ZE(n,FE(t,e?e.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,tk,void 0,function(){c=!0}),sS(n),ek(n,i),n.status===1)n.status=2,l.destroy(n.fatalError);else if(n.status!==2&&n.destination===null){n.destination=l;try{c5(n,l)}catch(d){np(n,d),x0(n,d)}}if(r)throw s;if(!c)throw Error(de(426));return o}Lu.renderToNodeStream=function(){throw Error(de(207))};Lu.renderToStaticMarkup=function(n,e){return aS(n,e,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Lu.renderToStaticNodeStream=function(){throw Error(de(208))};Lu.renderToString=function(n,e){return aS(n,e,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Lu.version="18.3.1";var d5={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lS=$;function pe(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mi=null,yi=0;function ee(n,e){if(e.length!==0)if(512<e.length)0<yi&&(n.enqueue(new Uint8Array(mi.buffer,0,yi)),mi=new Uint8Array(512),yi=0),n.enqueue(e);else{var t=mi.length-yi;t<e.length&&(t===0?n.enqueue(mi):(mi.set(e.subarray(0,t),yi),n.enqueue(mi),e=e.subarray(t)),mi=new Uint8Array(512),yi=0),mi.set(e,yi),yi+=e.length}}function qe(n,e){return ee(n,e),!0}function f4(n){mi&&0<yi&&(n.enqueue(new Uint8Array(mi.buffer,0,yi)),mi=null,yi=0)}var cS=new TextEncoder;function ge(n){return cS.encode(n)}function K(n){return cS.encode(n)}function dS(n,e){typeof n.error=="function"?n.error(e):n.close()}var jn=Object.prototype.hasOwnProperty,nk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g4={},m4={};function uS(n){return jn.call(m4,n)?!0:jn.call(g4,n)?!1:nk.test(n)?m4[n]=!0:(g4[n]=!0,!1)}function _n(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){en[n]=new _n(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];en[e]=new _n(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){en[n]=new _n(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){en[n]=new _n(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){en[n]=new _n(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){en[n]=new _n(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){en[n]=new _n(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){en[n]=new _n(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){en[n]=new _n(n,5,!1,n.toLowerCase(),null,!1,!1)});var u5=/[\-:]([a-z])/g;function h5(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(u5,h5);en[e]=new _n(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(u5,h5);en[e]=new _n(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(u5,h5);en[e]=new _n(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){en[n]=new _n(n,1,!1,n.toLowerCase(),null,!1,!1)});en.xlinkHref=new _n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){en[n]=new _n(n,1,!1,n.toLowerCase(),null,!0,!0)});var om={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ik=["Webkit","ms","Moz","O"];Object.keys(om).forEach(function(n){ik.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),om[e]=om[n]})});var rk=/["'&<>]/;function Kt(n){if(typeof n=="boolean"||typeof n=="number")return""+n;n=""+n;var e=rk.exec(n);if(e){var t="",i,r=0;for(i=e.index;i<n.length;i++){switch(n.charCodeAt(i)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}r!==i&&(t+=n.substring(r,i)),r=i+1,t+=e}n=r!==i?t+n.substring(r,i):t}return n}var sk=/([A-Z])/g,ok=/^ms-/,_y=Array.isArray,ak=K("<script>"),lk=K("<\/script>"),ck=K('<script src="'),dk=K('<script type="module" src="'),y4=K('" async=""><\/script>'),uk=/(<\/|<)(s)(cript)/gi;function hk(n,e,t,i){return""+e+(t==="s"?"\\u0073":"\\u0053")+i}function pk(n,e,t,i,r){n=n===void 0?"":n,e=e===void 0?ak:K('<script nonce="'+Kt(e)+'">');var s=[];if(t!==void 0&&s.push(e,ge((""+t).replace(uk,hk)),lk),i!==void 0)for(t=0;t<i.length;t++)s.push(ck,ge(Kt(i[t])),y4);if(r!==void 0)for(i=0;i<r.length;i++)s.push(dk,ge(Kt(r[i])),y4);return{bootstrapChunks:s,startInlineScript:e,placeholderPrefix:K(n+"P:"),segmentPrefix:K(n+"S:"),boundaryPrefix:n+"B:",idPrefix:n,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function br(n,e){return{insertionMode:n,selectedValue:e}}function fk(n){return br(n==="http://www.w3.org/2000/svg"?2:n==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function gk(n,e,t){switch(e){case"select":return br(1,t.value!=null?t.value:t.defaultValue);case"svg":return br(2,null);case"math":return br(3,null);case"foreignObject":return br(1,null);case"table":return br(4,null);case"thead":case"tbody":case"tfoot":return br(5,null);case"colgroup":return br(7,null);case"tr":return br(6,null)}return 4<=n.insertionMode||n.insertionMode===0?br(1,null):n}var p5=K("<!-- -->");function v4(n,e,t,i){return e===""?i:(i&&n.push(p5),n.push(ge(Kt(e))),!0)}var x4=new Map,mk=K(' style="'),C4=K(":"),yk=K(";");function hS(n,e,t){if(typeof t!="object")throw Error(pe(62));e=!0;for(var i in t)if(jn.call(t,i)){var r=t[i];if(r!=null&&typeof r!="boolean"&&r!==""){if(i.indexOf("--")===0){var s=ge(Kt(i));r=ge(Kt((""+r).trim()))}else{s=i;var o=x4.get(s);o!==void 0||(o=K(Kt(s.replace(sk,"-$1").toLowerCase().replace(ok,"-ms-"))),x4.set(s,o)),s=o,r=typeof r=="number"?r===0||jn.call(om,i)?ge(""+r):ge(r+"px"):ge(Kt((""+r).trim()))}e?(e=!1,n.push(mk,s,C4,r)):n.push(yk,s,C4,r)}}e||n.push(Ma)}var oo=K(" "),wc=K('="'),Ma=K('"'),w4=K('=""');function Xn(n,e,t,i){switch(t){case"style":hS(n,e,i);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N"){if(e=en.hasOwnProperty(t)?en[t]:null,e!==null){switch(typeof i){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(t=ge(e.attributeName),e.type){case 3:i&&n.push(oo,t,w4);break;case 4:i===!0?n.push(oo,t,w4):i!==!1&&n.push(oo,t,wc,ge(Kt(i)),Ma);break;case 5:isNaN(i)||n.push(oo,t,wc,ge(Kt(i)),Ma);break;case 6:!isNaN(i)&&1<=i&&n.push(oo,t,wc,ge(Kt(i)),Ma);break;default:e.sanitizeURL&&(i=""+i),n.push(oo,t,wc,ge(Kt(i)),Ma)}}else if(uS(t)){switch(typeof i){case"function":case"symbol":return;case"boolean":if(e=t.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}n.push(oo,ge(t),wc,ge(Kt(i)),Ma)}}}var ao=K(">"),S4=K("/>");function am(n,e,t){if(e!=null){if(t!=null)throw Error(pe(60));if(typeof e!="object"||!("__html"in e))throw Error(pe(61));e=e.__html,e!=null&&n.push(ge(""+e))}}function vk(n){var e="";return lS.Children.forEach(n,function(t){t!=null&&(e+=t)}),e}var p2=K(' selected=""');function f2(n,e,t,i){n.push(Ar(t));var r=t=null,s;for(s in e)if(jn.call(e,s)){var o=e[s];if(o!=null)switch(s){case"children":t=o;break;case"dangerouslySetInnerHTML":r=o;break;default:Xn(n,i,s,o)}}return n.push(ao),am(n,r,t),typeof t=="string"?(n.push(ge(Kt(t))),null):t}var g2=K(`
`),xk=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,b4=new Map;function Ar(n){var e=b4.get(n);if(e===void 0){if(!xk.test(n))throw Error(pe(65,n));e=K("<"+n),b4.set(n,e)}return e}var Ck=K("<!DOCTYPE html>");function wk(n,e,t,i,r){switch(e){case"select":n.push(Ar("select"));var s=null,o=null;for(u in t)if(jn.call(t,u)){var l=t[u];if(l!=null)switch(u){case"children":s=l;break;case"dangerouslySetInnerHTML":o=l;break;case"defaultValue":case"value":break;default:Xn(n,i,u,l)}}return n.push(ao),am(n,o,s),s;case"option":o=r.selectedValue,n.push(Ar("option"));var c=l=null,d=null,u=null;for(s in t)if(jn.call(t,s)){var h=t[s];if(h!=null)switch(s){case"children":l=h;break;case"selected":d=h;break;case"dangerouslySetInnerHTML":u=h;break;case"value":c=h;default:Xn(n,i,s,h)}}if(o!=null)if(t=c!==null?""+c:vk(l),_y(o)){for(i=0;i<o.length;i++)if(""+o[i]===t){n.push(p2);break}}else""+o===t&&n.push(p2);else d&&n.push(p2);return n.push(ao),am(n,u,l),l;case"textarea":n.push(Ar("textarea")),u=o=s=null;for(l in t)if(jn.call(t,l)&&(c=t[l],c!=null))switch(l){case"children":u=c;break;case"value":s=c;break;case"defaultValue":o=c;break;case"dangerouslySetInnerHTML":throw Error(pe(91));default:Xn(n,i,l,c)}if(s===null&&o!==null&&(s=o),n.push(ao),u!=null){if(s!=null)throw Error(pe(92));if(_y(u)&&1<u.length)throw Error(pe(93));s=""+u}return typeof s=="string"&&s[0]===`
`&&n.push(g2),s!==null&&n.push(ge(Kt(""+s))),null;case"input":n.push(Ar("input")),c=u=l=s=null;for(o in t)if(jn.call(t,o)&&(d=t[o],d!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(pe(399,"input"));case"defaultChecked":c=d;break;case"defaultValue":l=d;break;case"checked":u=d;break;case"value":s=d;break;default:Xn(n,i,o,d)}return u!==null?Xn(n,i,"checked",u):c!==null&&Xn(n,i,"checked",c),s!==null?Xn(n,i,"value",s):l!==null&&Xn(n,i,"value",l),n.push(S4),null;case"menuitem":n.push(Ar("menuitem"));for(var p in t)if(jn.call(t,p)&&(s=t[p],s!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(pe(400));default:Xn(n,i,p,s)}return n.push(ao),null;case"title":n.push(Ar("title")),s=null;for(h in t)if(jn.call(t,h)&&(o=t[h],o!=null))switch(h){case"children":s=o;break;case"dangerouslySetInnerHTML":throw Error(pe(434));default:Xn(n,i,h,o)}return n.push(ao),s;case"listing":case"pre":n.push(Ar(e)),o=s=null;for(c in t)if(jn.call(t,c)&&(l=t[c],l!=null))switch(c){case"children":s=l;break;case"dangerouslySetInnerHTML":o=l;break;default:Xn(n,i,c,l)}if(n.push(ao),o!=null){if(s!=null)throw Error(pe(60));if(typeof o!="object"||!("__html"in o))throw Error(pe(61));t=o.__html,t!=null&&(typeof t=="string"&&0<t.length&&t[0]===`
`?n.push(g2,ge(t)):n.push(ge(""+t)))}return typeof s=="string"&&s[0]===`
`&&n.push(g2),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":n.push(Ar(e));for(var m in t)if(jn.call(t,m)&&(s=t[m],s!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(pe(399,e));default:Xn(n,i,m,s)}return n.push(S4),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return f2(n,t,e,i);case"html":return r.insertionMode===0&&n.push(Ck),f2(n,t,e,i);default:if(e.indexOf("-")===-1&&typeof t.is!="string")return f2(n,t,e,i);n.push(Ar(e)),o=s=null;for(d in t)if(jn.call(t,d)&&(l=t[d],l!=null))switch(d){case"children":s=l;break;case"dangerouslySetInnerHTML":o=l;break;case"style":hS(n,i,l);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:uS(d)&&typeof l!="function"&&typeof l!="symbol"&&n.push(oo,ge(d),wc,ge(Kt(l)),Ma)}return n.push(ao),am(n,o,s),s}}var Sk=K("</"),bk=K(">"),Ak=K('<template id="'),Ek=K('"></template>'),kk=K("<!--$-->"),Tk=K('<!--$?--><template id="'),_k=K('"></template>'),Rk=K("<!--$!-->"),Pk=K("<!--/$-->"),Ik=K("<template"),Dk=K('"'),Mk=K(' data-dgst="');K(' data-msg="');K(' data-stck="');var Nk=K("></template>");function A4(n,e,t){if(ee(n,Tk),t===null)throw Error(pe(395));return ee(n,t),qe(n,_k)}var Bk=K('<div hidden id="'),Lk=K('">'),Fk=K("</div>"),Ok=K('<svg aria-hidden="true" style="display:none" id="'),jk=K('">'),zk=K("</svg>"),Wk=K('<math aria-hidden="true" style="display:none" id="'),$k=K('">'),Hk=K("</math>"),Uk=K('<table hidden id="'),Gk=K('">'),Vk=K("</table>"),Xk=K('<table hidden><tbody id="'),Kk=K('">'),qk=K("</tbody></table>"),Yk=K('<table hidden><tr id="'),Qk=K('">'),Zk=K("</tr></table>"),Jk=K('<table hidden><colgroup id="'),eT=K('">'),tT=K("</colgroup></table>");function nT(n,e,t,i){switch(t.insertionMode){case 0:case 1:return ee(n,Bk),ee(n,e.segmentPrefix),ee(n,ge(i.toString(16))),qe(n,Lk);case 2:return ee(n,Ok),ee(n,e.segmentPrefix),ee(n,ge(i.toString(16))),qe(n,jk);case 3:return ee(n,Wk),ee(n,e.segmentPrefix),ee(n,ge(i.toString(16))),qe(n,$k);case 4:return ee(n,Uk),ee(n,e.segmentPrefix),ee(n,ge(i.toString(16))),qe(n,Gk);case 5:return ee(n,Xk),ee(n,e.segmentPrefix),ee(n,ge(i.toString(16))),qe(n,Kk);case 6:return ee(n,Yk),ee(n,e.segmentPrefix),ee(n,ge(i.toString(16))),qe(n,Qk);case 7:return ee(n,Jk),ee(n,e.segmentPrefix),ee(n,ge(i.toString(16))),qe(n,eT);default:throw Error(pe(397))}}function iT(n,e){switch(e.insertionMode){case 0:case 1:return qe(n,Fk);case 2:return qe(n,zk);case 3:return qe(n,Hk);case 4:return qe(n,Vk);case 5:return qe(n,qk);case 6:return qe(n,Zk);case 7:return qe(n,tT);default:throw Error(pe(397))}}var rT=K('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),sT=K('$RS("'),oT=K('","'),aT=K('")<\/script>'),lT=K('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),cT=K('$RC("'),dT=K('","'),uT=K('")<\/script>'),hT=K('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),pT=K('$RX("'),fT=K('"'),gT=K(")<\/script>"),m2=K(","),mT=/[<\u2028\u2029]/g;function y2(n){return JSON.stringify(n).replace(mT,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Fh=Object.assign,yT=Symbol.for("react.element"),pS=Symbol.for("react.portal"),fS=Symbol.for("react.fragment"),gS=Symbol.for("react.strict_mode"),mS=Symbol.for("react.profiler"),yS=Symbol.for("react.provider"),vS=Symbol.for("react.context"),xS=Symbol.for("react.forward_ref"),CS=Symbol.for("react.suspense"),wS=Symbol.for("react.suspense_list"),SS=Symbol.for("react.memo"),f5=Symbol.for("react.lazy"),vT=Symbol.for("react.scope"),xT=Symbol.for("react.debug_trace_mode"),CT=Symbol.for("react.legacy_hidden"),wT=Symbol.for("react.default_value"),E4=Symbol.iterator;function Ry(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case fS:return"Fragment";case pS:return"Portal";case mS:return"Profiler";case gS:return"StrictMode";case CS:return"Suspense";case wS:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case vS:return(n.displayName||"Context")+".Consumer";case yS:return(n._context.displayName||"Context")+".Provider";case xS:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case SS:return e=n.displayName||null,e!==null?e:Ry(n.type)||"Memo";case f5:e=n._payload,n=n._init;try{return Ry(n(e))}catch{}}return null}var bS={};function k4(n,e){if(n=n.contextTypes,!n)return bS;var t={},i;for(i in n)t[i]=e[i];return t}var $a=null;function E1(n,e){if(n!==e){n.context._currentValue=n.parentValue,n=n.parent;var t=e.parent;if(n===null){if(t!==null)throw Error(pe(401))}else{if(t===null)throw Error(pe(401));E1(n,t)}e.context._currentValue=e.value}}function AS(n){n.context._currentValue=n.parentValue,n=n.parent,n!==null&&AS(n)}function ES(n){var e=n.parent;e!==null&&ES(e),n.context._currentValue=n.value}function kS(n,e){if(n.context._currentValue=n.parentValue,n=n.parent,n===null)throw Error(pe(402));n.depth===e.depth?E1(n,e):kS(n,e)}function TS(n,e){var t=e.parent;if(t===null)throw Error(pe(402));n.depth===t.depth?E1(n,t):TS(n,t),e.context._currentValue=e.value}function w0(n){var e=$a;e!==n&&(e===null?ES(n):n===null?AS(e):e.depth===n.depth?E1(e,n):e.depth>n.depth?kS(e,n):TS(e,n),$a=n)}var T4={isMounted:function(){return!1},enqueueSetState:function(n,e){n=n._reactInternals,n.queue!==null&&n.queue.push(e)},enqueueReplaceState:function(n,e){n=n._reactInternals,n.replace=!0,n.queue=[e]},enqueueForceUpdate:function(){}};function _4(n,e,t,i){var r=n.state!==void 0?n.state:null;n.updater=T4,n.props=t,n.state=r;var s={queue:[],replace:!1};n._reactInternals=s;var o=e.contextType;if(n.context=typeof o=="object"&&o!==null?o._currentValue:i,o=e.getDerivedStateFromProps,typeof o=="function"&&(o=o(t,r),r=o==null?r:Fh({},r,o),n.state=r),typeof e.getDerivedStateFromProps!="function"&&typeof n.getSnapshotBeforeUpdate!="function"&&(typeof n.UNSAFE_componentWillMount=="function"||typeof n.componentWillMount=="function"))if(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&T4.enqueueReplaceState(n,n.state,null),s.queue!==null&&0<s.queue.length)if(e=s.queue,o=s.replace,s.queue=null,s.replace=!1,o&&e.length===1)n.state=e[0];else{for(s=o?e[0]:n.state,r=!0,o=o?1:0;o<e.length;o++){var l=e[o];l=typeof l=="function"?l.call(n,s,t,i):l,l!=null&&(r?(r=!1,s=Fh({},s,l)):Fh(s,l))}n.state=s}else s.queue=null}var ST={id:1,overflow:""};function Py(n,e,t){var i=n.id;n=n.overflow;var r=32-lm(i)-1;i&=~(1<<r),t+=1;var s=32-lm(e)+r;if(30<s){var o=r-r%5;return s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,{id:1<<32-lm(e)+r|t<<r|i,overflow:s+n}}return{id:1<<s|t<<r|i,overflow:n}}var lm=Math.clz32?Math.clz32:ET,bT=Math.log,AT=Math.LN2;function ET(n){return n>>>=0,n===0?32:31-(bT(n)/AT|0)|0}function kT(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var TT=typeof Object.is=="function"?Object.is:kT,to=null,g5=null,cm=null,He=null,rh=!1,S0=!1,ip=0,ca=null,k1=0;function Na(){if(to===null)throw Error(pe(321));return to}function R4(){if(0<k1)throw Error(pe(312));return{memoizedState:null,queue:null,next:null}}function m5(){return He===null?cm===null?(rh=!1,cm=He=R4()):(rh=!0,He=cm):He.next===null?(rh=!1,He=He.next=R4()):(rh=!0,He=He.next),He}function y5(){g5=to=null,S0=!1,cm=null,k1=0,He=ca=null}function _S(n,e){return typeof e=="function"?e(n):e}function P4(n,e,t){if(to=Na(),He=m5(),rh){var i=He.queue;if(e=i.dispatch,ca!==null&&(t=ca.get(i),t!==void 0)){ca.delete(i),i=He.memoizedState;do i=n(i,t.action),t=t.next;while(t!==null);return He.memoizedState=i,[i,e]}return[He.memoizedState,e]}return n=n===_S?typeof e=="function"?e():e:t!==void 0?t(e):e,He.memoizedState=n,n=He.queue={last:null,dispatch:null},n=n.dispatch=_T.bind(null,to,n),[He.memoizedState,n]}function I4(n,e){if(to=Na(),He=m5(),e=e===void 0?null:e,He!==null){var t=He.memoizedState;if(t!==null&&e!==null){var i=t[1];e:if(i===null)i=!1;else{for(var r=0;r<i.length&&r<e.length;r++)if(!TT(e[r],i[r])){i=!1;break e}i=!0}if(i)return t[0]}}return n=n(),He.memoizedState=[n,e],n}function _T(n,e,t){if(25<=k1)throw Error(pe(301));if(n===to)if(S0=!0,n={action:t,next:null},ca===null&&(ca=new Map),t=ca.get(e),t===void 0)ca.set(e,n);else{for(e=t;e.next!==null;)e=e.next;e.next=n}}function RT(){throw Error(pe(394))}function Ig(){}var D4={readContext:function(n){return n._currentValue},useContext:function(n){return Na(),n._currentValue},useMemo:I4,useReducer:P4,useRef:function(n){to=Na(),He=m5();var e=He.memoizedState;return e===null?(n={current:n},He.memoizedState=n):e},useState:function(n){return P4(_S,n)},useInsertionEffect:Ig,useLayoutEffect:function(){},useCallback:function(n,e){return I4(function(){return n},e)},useImperativeHandle:Ig,useEffect:Ig,useDebugValue:Ig,useDeferredValue:function(n){return Na(),n},useTransition:function(){return Na(),[!1,RT]},useId:function(){var n=g5.treeContext,e=n.overflow;n=n.id,n=(n&~(1<<32-lm(n)-1)).toString(32)+e;var t=dm;if(t===null)throw Error(pe(404));return e=ip++,n=":"+t.idPrefix+"R"+n,0<e&&(n+="H"+e.toString(32)),n+":"},useMutableSource:function(n,e){return Na(),e(n._source)},useSyncExternalStore:function(n,e,t){if(t===void 0)throw Error(pe(407));return t()}},dm=null,v2=lS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function PT(n){return console.error(n),null}function sh(){}function IT(n,e,t,i,r,s,o,l,c){var d=[],u=new Set;return e={destination:null,responseState:e,progressiveChunkSize:i===void 0?12800:i,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:u,pingedTasks:d,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:r===void 0?PT:r,onAllReady:s===void 0?sh:s,onShellReady:o===void 0?sh:o,onShellError:l===void 0?sh:l,onFatalError:c===void 0?sh:c},t=b0(e,0,null,t,!1,!1),t.parentFlushed=!0,n=v5(e,n,null,t,u,bS,null,ST),d.push(n),e}function v5(n,e,t,i,r,s,o,l){n.allPendingTasks++,t===null?n.pendingRootTasks++:t.pendingTasks++;var c={node:e,ping:function(){var d=n.pingedTasks;d.push(c),d.length===1&&IS(n)},blockedBoundary:t,blockedSegment:i,abortSet:r,legacyContext:s,context:o,treeContext:l};return r.add(c),c}function b0(n,e,t,i,r,s){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:i,boundary:t,lastPushedText:r,textEmbedded:s}}function rp(n,e){if(n=n.onError(e),n!=null&&typeof n!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof n+'" instead');return n}function A0(n,e){var t=n.onShellError;t(e),t=n.onFatalError,t(e),n.destination!==null?(n.status=2,dS(n.destination,e)):(n.status=1,n.fatalError=e)}function M4(n,e,t,i,r){for(to={},g5=e,ip=0,n=t(i,r);S0;)S0=!1,ip=0,k1+=1,He=null,n=t(i,r);return y5(),n}function N4(n,e,t,i){var r=t.render(),s=i.childContextTypes;if(s!=null){var o=e.legacyContext;if(typeof t.getChildContext!="function")i=o;else{t=t.getChildContext();for(var l in t)if(!(l in s))throw Error(pe(108,Ry(i)||"Unknown",l));i=Fh({},o,t)}e.legacyContext=i,vi(n,e,r),e.legacyContext=o}else vi(n,e,r)}function B4(n,e){if(n&&n.defaultProps){e=Fh({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Iy(n,e,t,i,r){if(typeof t=="function")if(t.prototype&&t.prototype.isReactComponent){r=k4(t,e.legacyContext);var s=t.contextType;s=new t(i,typeof s=="object"&&s!==null?s._currentValue:r),_4(s,t,i,r),N4(n,e,s,t)}else{s=k4(t,e.legacyContext),r=M4(n,e,t,i,s);var o=ip!==0;if(typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0)_4(r,t,i,s),N4(n,e,r,t);else if(o){i=e.treeContext,e.treeContext=Py(i,1,0);try{vi(n,e,r)}finally{e.treeContext=i}}else vi(n,e,r)}else if(typeof t=="string"){switch(r=e.blockedSegment,s=wk(r.chunks,t,i,n.responseState,r.formatContext),r.lastPushedText=!1,o=r.formatContext,r.formatContext=gk(o,t,i),Dy(n,e,s),r.formatContext=o,t){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:r.chunks.push(Sk,ge(t),bk)}r.lastPushedText=!1}else{switch(t){case CT:case xT:case gS:case mS:case fS:vi(n,e,i.children);return;case wS:vi(n,e,i.children);return;case vT:throw Error(pe(343));case CS:e:{t=e.blockedBoundary,r=e.blockedSegment,s=i.fallback,i=i.children,o=new Set;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},c=b0(n,r.chunks.length,l,r.formatContext,!1,!1);r.children.push(c),r.lastPushedText=!1;var d=b0(n,0,null,r.formatContext,!1,!1);d.parentFlushed=!0,e.blockedBoundary=l,e.blockedSegment=d;try{if(Dy(n,e,i),d.lastPushedText&&d.textEmbedded&&d.chunks.push(p5),d.status=1,E0(l,d),l.pendingTasks===0)break e}catch(u){d.status=4,l.forceClientRender=!0,l.errorDigest=rp(n,u)}finally{e.blockedBoundary=t,e.blockedSegment=r}e=v5(n,s,t,c,o,e.legacyContext,e.context,e.treeContext),n.pingedTasks.push(e)}return}if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xS:if(i=M4(n,e,t.render,i,r),ip!==0){t=e.treeContext,e.treeContext=Py(t,1,0);try{vi(n,e,i)}finally{e.treeContext=t}}else vi(n,e,i);return;case SS:t=t.type,i=B4(t,i),Iy(n,e,t,i,r);return;case yS:if(r=i.children,t=t._context,i=i.value,s=t._currentValue,t._currentValue=i,o=$a,$a=i={parent:o,depth:o===null?0:o.depth+1,context:t,parentValue:s,value:i},e.context=i,vi(n,e,r),n=$a,n===null)throw Error(pe(403));i=n.parentValue,n.context._currentValue=i===wT?n.context._defaultValue:i,n=$a=n.parent,e.context=n;return;case vS:i=i.children,i=i(t._currentValue),vi(n,e,i);return;case f5:r=t._init,t=r(t._payload),i=B4(t,i),Iy(n,e,t,i,void 0);return}throw Error(pe(130,t==null?t:typeof t,""))}}function vi(n,e,t){if(e.node=t,typeof t=="object"&&t!==null){switch(t.$$typeof){case yT:Iy(n,e,t.type,t.props,t.ref);return;case pS:throw Error(pe(257));case f5:var i=t._init;t=i(t._payload),vi(n,e,t);return}if(_y(t)){L4(n,e,t);return}if(t===null||typeof t!="object"?i=null:(i=E4&&t[E4]||t["@@iterator"],i=typeof i=="function"?i:null),i&&(i=i.call(t))){if(t=i.next(),!t.done){var r=[];do r.push(t.value),t=i.next();while(!t.done);L4(n,e,r)}return}throw n=Object.prototype.toString.call(t),Error(pe(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}typeof t=="string"?(i=e.blockedSegment,i.lastPushedText=v4(e.blockedSegment.chunks,t,n.responseState,i.lastPushedText)):typeof t=="number"&&(i=e.blockedSegment,i.lastPushedText=v4(e.blockedSegment.chunks,""+t,n.responseState,i.lastPushedText))}function L4(n,e,t){for(var i=t.length,r=0;r<i;r++){var s=e.treeContext;e.treeContext=Py(s,i,r);try{Dy(n,e,t[r])}finally{e.treeContext=s}}}function Dy(n,e,t){var i=e.blockedSegment.formatContext,r=e.legacyContext,s=e.context;try{return vi(n,e,t)}catch(c){if(y5(),typeof c=="object"&&c!==null&&typeof c.then=="function"){t=c;var o=e.blockedSegment,l=b0(n,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(l),o.lastPushedText=!1,n=v5(n,e.node,e.blockedBoundary,l,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,t.then(n,n),e.blockedSegment.formatContext=i,e.legacyContext=r,e.context=s,w0(s)}else throw e.blockedSegment.formatContext=i,e.legacyContext=r,e.context=s,w0(s),c}}function DT(n){var e=n.blockedBoundary;n=n.blockedSegment,n.status=3,PS(this,e,n)}function RS(n,e,t){var i=n.blockedBoundary;n.blockedSegment.status=3,i===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.close())):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,n=t===void 0?Error(pe(432)):t,i.errorDigest=e.onError(n),i.parentFlushed&&e.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach(function(r){return RS(r,e,t)}),i.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(i=e.onAllReady,i()))}function E0(n,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var t=e.children[0];t.id=e.id,t.parentFlushed=!0,t.status===1&&E0(n,t)}else n.completedSegments.push(e)}function PS(n,e,t){if(e===null){if(t.parentFlushed){if(n.completedRootSegment!==null)throw Error(pe(389));n.completedRootSegment=t}n.pendingRootTasks--,n.pendingRootTasks===0&&(n.onShellError=sh,e=n.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(t.parentFlushed&&t.status===1&&E0(e,t),e.parentFlushed&&n.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(DT,n),e.fallbackAbortableTasks.clear()):t.parentFlushed&&t.status===1&&(E0(e,t),e.completedSegments.length===1&&e.parentFlushed&&n.partialBoundaries.push(e)));n.allPendingTasks--,n.allPendingTasks===0&&(n=n.onAllReady,n())}function IS(n){if(n.status!==2){var e=$a,t=v2.current;v2.current=D4;var i=dm;dm=n.responseState;try{var r=n.pingedTasks,s;for(s=0;s<r.length;s++){var o=r[s],l=n,c=o.blockedSegment;if(c.status===0){w0(o.context);try{vi(l,o,o.node),c.lastPushedText&&c.textEmbedded&&c.chunks.push(p5),o.abortSet.delete(o),c.status=1,PS(l,o.blockedBoundary,c)}catch(C){if(y5(),typeof C=="object"&&C!==null&&typeof C.then=="function"){var d=o.ping;C.then(d,d)}else{o.abortSet.delete(o),c.status=4;var u=o.blockedBoundary,h=C,p=rp(l,h);if(u===null?A0(l,h):(u.pendingTasks--,u.forceClientRender||(u.forceClientRender=!0,u.errorDigest=p,u.parentFlushed&&l.clientRenderedBoundaries.push(u))),l.allPendingTasks--,l.allPendingTasks===0){var m=l.onAllReady;m()}}}finally{}}}r.splice(0,s),n.destination!==null&&x5(n,n.destination)}catch(C){rp(n,C),A0(n,C)}finally{dm=i,v2.current=t,t===D4&&w0(e)}}}function Dg(n,e,t){switch(t.parentFlushed=!0,t.status){case 0:var i=t.id=n.nextSegmentId++;return t.lastPushedText=!1,t.textEmbedded=!1,n=n.responseState,ee(e,Ak),ee(e,n.placeholderPrefix),n=ge(i.toString(16)),ee(e,n),qe(e,Ek);case 1:t.status=2;var r=!0;i=t.chunks;var s=0;t=t.children;for(var o=0;o<t.length;o++){for(r=t[o];s<r.index;s++)ee(e,i[s]);r=T1(n,e,r)}for(;s<i.length-1;s++)ee(e,i[s]);return s<i.length&&(r=qe(e,i[s])),r;default:throw Error(pe(390))}}function T1(n,e,t){var i=t.boundary;if(i===null)return Dg(n,e,t);if(i.parentFlushed=!0,i.forceClientRender)i=i.errorDigest,qe(e,Rk),ee(e,Ik),i&&(ee(e,Mk),ee(e,ge(Kt(i))),ee(e,Dk)),qe(e,Nk),Dg(n,e,t);else if(0<i.pendingTasks){i.rootSegmentID=n.nextSegmentId++,0<i.completedSegments.length&&n.partialBoundaries.push(i);var r=n.responseState,s=r.nextSuspenseID++;r=K(r.boundaryPrefix+s.toString(16)),i=i.id=r,A4(e,n.responseState,i),Dg(n,e,t)}else if(i.byteSize>n.progressiveChunkSize)i.rootSegmentID=n.nextSegmentId++,n.completedBoundaries.push(i),A4(e,n.responseState,i.id),Dg(n,e,t);else{if(qe(e,kk),t=i.completedSegments,t.length!==1)throw Error(pe(391));T1(n,e,t[0])}return qe(e,Pk)}function F4(n,e,t){return nT(e,n.responseState,t.formatContext,t.id),T1(n,e,t),iT(e,t.formatContext)}function O4(n,e,t){for(var i=t.completedSegments,r=0;r<i.length;r++)DS(n,e,t,i[r]);if(i.length=0,n=n.responseState,i=t.id,t=t.rootSegmentID,ee(e,n.startInlineScript),n.sentCompleteBoundaryFunction?ee(e,cT):(n.sentCompleteBoundaryFunction=!0,ee(e,lT)),i===null)throw Error(pe(395));return t=ge(t.toString(16)),ee(e,i),ee(e,dT),ee(e,n.segmentPrefix),ee(e,t),qe(e,uT)}function DS(n,e,t,i){if(i.status===2)return!0;var r=i.id;if(r===-1){if((i.id=t.rootSegmentID)===-1)throw Error(pe(392));return F4(n,e,i)}return F4(n,e,i),n=n.responseState,ee(e,n.startInlineScript),n.sentCompleteSegmentFunction?ee(e,sT):(n.sentCompleteSegmentFunction=!0,ee(e,rT)),ee(e,n.segmentPrefix),r=ge(r.toString(16)),ee(e,r),ee(e,oT),ee(e,n.placeholderPrefix),ee(e,r),qe(e,aT)}function x5(n,e){mi=new Uint8Array(512),yi=0;try{var t=n.completedRootSegment;if(t!==null&&n.pendingRootTasks===0){T1(n,e,t),n.completedRootSegment=null;var i=n.responseState.bootstrapChunks;for(t=0;t<i.length-1;t++)ee(e,i[t]);t<i.length&&qe(e,i[t])}var r=n.clientRenderedBoundaries,s;for(s=0;s<r.length;s++){var o=r[s];i=e;var l=n.responseState,c=o.id,d=o.errorDigest,u=o.errorMessage,h=o.errorComponentStack;if(ee(i,l.startInlineScript),l.sentClientRenderFunction?ee(i,pT):(l.sentClientRenderFunction=!0,ee(i,hT)),c===null)throw Error(pe(395));ee(i,c),ee(i,fT),(d||u||h)&&(ee(i,m2),ee(i,ge(y2(d||"")))),(u||h)&&(ee(i,m2),ee(i,ge(y2(u||"")))),h&&(ee(i,m2),ee(i,ge(y2(h)))),qe(i,gT)}r.splice(0,s);var p=n.completedBoundaries;for(s=0;s<p.length;s++)O4(n,e,p[s]);p.splice(0,s),f4(e),mi=new Uint8Array(512),yi=0;var m=n.partialBoundaries;for(s=0;s<m.length;s++){var C=m[s];e:{r=n,o=e;var v=C.completedSegments;for(l=0;l<v.length;l++)if(!DS(r,o,C,v[l])){l++,v.splice(0,l);var A=!1;break e}v.splice(0,l),A=!0}if(!A){n.destination=null,s++,m.splice(0,s);return}}m.splice(0,s);var y=n.completedBoundaries;for(s=0;s<y.length;s++)O4(n,e,y[s]);y.splice(0,s)}finally{f4(e),n.allPendingTasks===0&&n.pingedTasks.length===0&&n.clientRenderedBoundaries.length===0&&n.completedBoundaries.length===0&&e.close()}}function j4(n,e){try{var t=n.abortableTasks;t.forEach(function(i){return RS(i,n,e)}),t.clear(),n.destination!==null&&x5(n,n.destination)}catch(i){rp(n,i),A0(n,i)}}d5.renderToReadableStream=function(n,e){return new Promise(function(t,i){var r,s,o=new Promise(function(u,h){s=u,r=h}),l=IT(n,pk(e?e.identifierPrefix:void 0,e?e.nonce:void 0,e?e.bootstrapScriptContent:void 0,e?e.bootstrapScripts:void 0,e?e.bootstrapModules:void 0),fk(e?e.namespaceURI:void 0),e?e.progressiveChunkSize:void 0,e?e.onError:void 0,s,function(){var u=new ReadableStream({type:"bytes",pull:function(h){if(l.status===1)l.status=2,dS(h,l.fatalError);else if(l.status!==2&&l.destination===null){l.destination=h;try{x5(l,h)}catch(p){rp(l,p),A0(l,p)}}},cancel:function(){j4(l)}},{highWaterMark:0});u.allReady=o,t(u)},function(u){o.catch(function(){}),i(u)},r);if(e&&e.signal){var c=e.signal,d=function(){j4(l,c.reason),c.removeEventListener("abort",d)};c.addEventListener("abort",d)}IS(l)})};d5.version="18.3.1";var Fu,MS;Fu=Lu,MS=d5;Fu.version;Fu.renderToString;var MT=Fu.renderToStaticMarkup;Fu.renderToNodeStream;Fu.renderToStaticNodeStream;MS.renderToReadableStream;var NS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},z4=rc.createContext&&rc.createContext(NS),NT=["attr","size","title"];function BT(n,e){if(n==null)return{};var t=LT(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function LT(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function k0(){return k0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},k0.apply(this,arguments)}function W4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function T0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?W4(Object(t),!0).forEach(function(i){FT(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):W4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function FT(n,e,t){return e=OT(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function OT(n){var e=jT(n,"string");return typeof e=="symbol"?e:e+""}function jT(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function BS(n){return n&&n.map((e,t)=>rc.createElement(e.tag,T0({key:t},e.attr),BS(e.child)))}function Ae(n){return e=>rc.createElement(zT,k0({attr:T0({},n.attr)},e),BS(n.child))}function zT(n){var e=t=>{var{attr:i,size:r,title:s}=n,o=BT(n,NT),l=r||t.size||"1em",c;return t.className&&(c=t.className),n.className&&(c=(c?c+" ":"")+n.className),rc.createElement("svg",k0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:c,style:T0(T0({color:n.color||t.color},t.style),n.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&rc.createElement("title",null,s),n.children)};return z4!==void 0?rc.createElement(z4.Consumer,null,t=>e(t)):e(NS)}function WT(n){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M12.971 352h32.394C67.172 454.735 181.944 512 288 512c106.229 0 220.853-57.38 242.635-160h32.394c10.691 0 16.045-12.926 8.485-20.485l-67.029-67.029c-4.686-4.686-12.284-4.686-16.971 0l-67.029 67.029c-7.56 7.56-2.206 20.485 8.485 20.485h35.146c-20.29 54.317-84.963 86.588-144.117 94.015V256h52c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-52v-5.47c37.281-13.178 63.995-48.725 64-90.518C384.005 43.772 341.605.738 289.37.01 235.723-.739 192 42.525 192 96c0 41.798 26.716 77.35 64 90.53V192h-52c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h52v190.015c-58.936-7.399-123.82-39.679-144.117-94.015h35.146c10.691 0 16.045-12.926 8.485-20.485l-67.029-67.029c-4.686-4.686-12.284-4.686-16.971 0L4.485 331.515C-3.074 339.074 2.28 352 12.971 352zM288 64c17.645 0 32 14.355 32 32s-14.355 32-32 32-32-14.355-32-32 14.355-32 32-32z"},child:[]}]})(n)}function $T(n){return Ae({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(n)}function My(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(n)}function HT(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(n)}function LS(n){return Ae({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(n)}function C5(n){return Ae({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(n)}function UT(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(n)}function $4(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500 224h-30.364C455.724 130.325 381.675 56.276 288 42.364V12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v30.364C130.325 56.276 56.276 130.325 42.364 224H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h30.364C56.276 381.675 130.325 455.724 224 469.636V500c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-30.364C381.675 455.724 455.724 381.675 469.636 288H500c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zM288 404.634V364c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40.634C165.826 392.232 119.783 346.243 107.366 288H148c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-40.634C119.768 165.826 165.757 119.783 224 107.366V148c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40.634C346.174 119.768 392.217 165.757 404.634 224H364c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40.634C392.232 346.174 346.243 392.217 288 404.634zM288 256c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-17.673 14.327-32 32-32s32 14.327 32 32z"},child:[]}]})(n)}function H4(n){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(n)}function GT(n){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(n)}function VT(n){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function XT(n){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M544 224l-128-16-48-16h-24L227.158 44h39.509C278.333 44 288 41.375 288 38s-9.667-6-21.333-6H152v12h16v164h-48l-66.667-80H18.667L8 138.667V208h8v16h48v2.666l-64 8v42.667l64 8V288H16v16H8v69.333L18.667 384h34.667L120 304h48v164h-16v12h114.667c11.667 0 21.333-2.625 21.333-6s-9.667-6-21.333-6h-39.509L344 320h24l48-16 128-16c96-21.333 96-26.583 96-32 0-5.417 0-10.667-96-32z"},child:[]}]})(n)}function U4(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"},child:[]}]})(n)}function KT(n){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M480 192H365.71L260.61 8.06A16.014 16.014 0 0 0 246.71 0h-65.5c-10.63 0-18.3 10.17-15.38 20.39L214.86 192H112l-43.2-57.6c-3.02-4.03-7.77-6.4-12.8-6.4H16.01C5.6 128-2.04 137.78.49 147.88L32 256 .49 364.12C-2.04 374.22 5.6 384 16.01 384H56c5.04 0 9.78-2.37 12.8-6.4L112 320h102.86l-49.03 171.6c-2.92 10.22 4.75 20.4 15.38 20.4h65.5c5.74 0 11.04-3.08 13.89-8.06L365.71 320H480c35.35 0 96-28.65 96-64s-60.65-64-96-64z"},child:[]}]})(n)}function qT(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(n)}function YT(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.60969,310.04206l-96.70393,96.71625a31.88151,31.88151,0,0,1-45.00765,0L280.572,326.34115l-9.89231,9.90759a190.56343,190.56343,0,0,1-5.40716,168.52287c-4.50077,8.50115-16.39342,9.59505-23.20707,2.79725L134.54715,400.05428l-17.7999,17.79929c.70324,2.60972,1.60965,5.00067,1.60965,7.79793a32.00544,32.00544,0,1,1-32.00544-32.00434c2.79735,0,5.18838.90637,7.7982,1.60959l17.7999-17.79929L4.43129,269.94287c-6.798-6.81342-5.70409-18.6119,2.79735-23.20627a190.58161,190.58161,0,0,1,168.52864-5.407l9.79854-9.79821-80.31053-80.41716a32.002,32.002,0,0,1,0-45.09987L201.96474,9.29814A31.62639,31.62639,0,0,1,224.46868,0a31.99951,31.99951,0,0,1,22.59759,9.29814l80.32615,80.30777,47.805-47.89713a33.6075,33.6075,0,0,1,47.50808,0l47.50807,47.50645a33.63308,33.63308,0,0,1,0,47.50644l-47.805,47.89713L502.71908,265.036A31.78938,31.78938,0,0,1,502.60969,310.04206ZM219.56159,197.433l73.82505-73.82252-68.918-68.9-73.80942,73.80689Zm237.74352,90.106-68.90233-68.9156-73.825,73.82252,68.918,68.9Z"},child:[]}]})(n)}function QT(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 192v32c0 6.6-5.4 12-12 12h-56v56c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-56h-56c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h56v-56c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v56h56c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z"},child:[]}]})(n)}function w5(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(n)}function ZT(n){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M496.616 372.639l70.012-70.012c16.899-16.9 9.942-45.771-12.836-53.092L512 236.102V96c0-17.673-14.327-32-32-32h-64V24c0-13.255-10.745-24-24-24H248c-13.255 0-24 10.745-24 24v40h-64c-17.673 0-32 14.327-32 32v140.102l-41.792 13.433c-22.753 7.313-29.754 36.173-12.836 53.092l70.012 70.012C125.828 416.287 85.587 448 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24 61.023 0 107.499-20.61 143.258-59.396C181.677 487.432 216.021 512 256 512h128c39.979 0 74.323-24.568 88.742-59.396C508.495 491.384 554.968 512 616 512c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24-60.817 0-101.542-31.001-119.384-75.361zM192 128h256v87.531l-118.208-37.995a31.995 31.995 0 0 0-19.584 0L192 215.531V128z"},child:[]}]})(n)}function JT(n){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function G4(n){return Ae({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function e_(n){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(n)}function V4(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function t_(n){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M562.1 383.9c-21.5-2.4-42.1-10.5-57.9-22.9-14.1-11.1-34.2-11.3-48.2 0-37.9 30.4-107.2 30.4-145.7-1.5-13.5-11.2-33-9.1-46.7 1.8-38 30.1-106.9 30-145.2-1.7-13.5-11.2-33.3-8.9-47.1 2-15.5 12.2-36 20.1-57.7 22.4-7.9.8-13.6 7.8-13.6 15.7v32.2c0 9.1 7.6 16.8 16.7 16 28.8-2.5 56.1-11.4 79.4-25.9 56.5 34.6 137 34.1 192 0 56.5 34.6 137 34.1 192 0 23.3 14.2 50.9 23.3 79.1 25.8 9.1.8 16.7-6.9 16.7-16v-31.6c.1-8-5.7-15.4-13.8-16.3zm0-144c-21.5-2.4-42.1-10.5-57.9-22.9-14.1-11.1-34.2-11.3-48.2 0-37.9 30.4-107.2 30.4-145.7-1.5-13.5-11.2-33-9.1-46.7 1.8-38 30.1-106.9 30-145.2-1.7-13.5-11.2-33.3-8.9-47.1 2-15.5 12.2-36 20.1-57.7 22.4-7.9.8-13.6 7.8-13.6 15.7v32.2c0 9.1 7.6 16.8 16.7 16 28.8-2.5 56.1-11.4 79.4-25.9 56.5 34.6 137 34.1 192 0 56.5 34.6 137 34.1 192 0 23.3 14.2 50.9 23.3 79.1 25.8 9.1.8 16.7-6.9 16.7-16v-31.6c.1-8-5.7-15.4-13.8-16.3zm0-144C540.6 93.4 520 85.4 504.2 73 490.1 61.9 470 61.7 456 73c-37.9 30.4-107.2 30.4-145.7-1.5-13.5-11.2-33-9.1-46.7 1.8-38 30.1-106.9 30-145.2-1.7-13.5-11.2-33.3-8.9-47.1 2-15.5 12.2-36 20.1-57.7 22.4-7.9.8-13.6 7.8-13.6 15.7v32.2c0 9.1 7.6 16.8 16.7 16 28.8-2.5 56.1-11.4 79.4-25.9 56.5 34.6 137 34.1 192 0 56.5 34.6 137 34.1 192 0 23.3 14.2 50.9 23.3 79.1 25.8 9.1.8 16.7-6.9 16.7-16v-31.6c.1-8-5.7-15.4-13.8-16.3z"},child:[]}]})(n)}function n_(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M142.373 116.285l-15.92 9.79 19.223 31.257c-17.208 13.06-28.326 33.725-28.326 56.994 0 21.555 9.55 40.866 24.632 53.977l-71.76 92.16L20.66 379.69v17.828h71.834l73.588-95.78h8.22c-5.383 42.56 21.434 83.807 63.995 95.21 46.448 12.447 94.437-15.26 106.883-61.708 3.015-11.253 3.667-22.595 2.273-33.502h35.3v-30.61l109.858-7.968v-96.365l-286.655-21.91c-5.48-1.345-11.2-2.072-17.094-2.072-9.53 0-18.62 1.88-26.934 5.265l-19.553-31.793zM260.637 244.04c5.936-.01 11.978.757 17.998 2.37 36.692 9.832 58.323 47.3 48.492 83.992-9.832 36.692-47.3 58.326-83.992 48.494-36.692-9.83-58.326-47.3-48.494-83.992 7.99-29.812 34.222-49.684 63.46-50.814.843-.033 1.69-.05 2.537-.05zm3.633 19.747l-8.225 30.697-22.47-22.47-13.216 13.215 22.47 22.47-30.695 8.226 4.838 18.053 30.695-8.226-8.225 30.695 18.053 4.835 8.225-30.693 22.47 22.47 13.214-13.216-22.468-22.47 30.695-8.226-4.837-18.052-30.695 8.224 8.224-30.697-18.052-4.838z"},child:[]}]})(n)}function i_(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M196 16a30 30 0 0 0-30 30v120H46a30 30 0 0 0-30 30v120a30 30 0 0 0 30 30h120v120a30 30 0 0 0 30 30h120a30 30 0 0 0 30-30V346h120a30 30 0 0 0 30-30V196a30 30 0 0 0-30-30H346V46a30 30 0 0 0-30-30H196z"},child:[]}]})(n)}function X4(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M17.34 17.38v34.08C37.24 85.91 61.4 120.5 95.03 151c6.97 24.6 23.57 43.7 46.27 53.9-5.9-8.2-9.4-18.1-9.6-30.1 12 .1 21.9 3.7 30.1 9.6-10.1-22.5-28.7-39-52.9-46-40.28-36.2-66.64-78.82-89.03-121.02zm26.96 0C98.65 32.32 173.5 71.74 240.5 124.5l16.3-11.6C205.6 71.81 149.6 38.58 99.97 17.38zm110.1 0c28.4 8.14 52.8 19.57 75.3 32.83 13 21.96 34.1 36.14 58.6 40.15-7.8-6.38-13.7-15.05-17-26.58 11.7-2.98 22.1-2.09 31.5 1.46-15.5-19.08-37.8-30.23-63-30.76-10.3-6.07-21-11.82-32.3-17.1zm171.3 4.96L321 71.62c-6.1 10.46-12.1 20.92-18.2 31.38-14.6 11.2-26.3 18.7-40.6 29l39.6 22.8h.1l38.3-13.9c37.3 28.7 84.7 43.6 133.5 39.8-21.2-44.6-57.8-78.2-101.5-96.03l-7-39.5zM194.9 148.8l-17.2 46.4c-8.6 8.4-17.2 17.1-25.7 25.7-14.9 5.8-31.2 11.8-46.6 17.5l32.3 32.3 40.6-3.5c28.6 37.3 70.5 64 118.6 72.9-8.9-48.5-35.6-90.5-73.1-119l3.4-40zm123.3 20l-18.2 6.6c17.1 17.7 33.5 38.1 44.3 52.6 1.1 24.4 12.1 46.1 30.6 61.3-3.5-9.5-4.3-19.9-1.4-31.6 11.6 3.3 20.2 9.3 26.6 17.1-4.1-25.4-19-47-42.3-59.9-12-15.9-25.3-31.3-39.6-46.1zM17.34 247.2v49.7c14.05 24.6 33.51 44.5 56.99 61 12.88 23.6 34.67 38.8 60.27 43-7.8-6.4-13.8-15.1-17.1-26.6 11.7-3 22.2-2.1 31.6 1.5-15-18.5-36.3-29.5-60.47-30.7-35.62-23.9-60.18-54.2-71.29-97.9zM441.3 249l-28.7 40.4c-10.5 6-20.9 12.1-31.4 18.1-16.1 1.9-33.2 3.3-49.6 4.8l22.9 39.6 40.1 7.1c17.9 43.5 51.5 80.1 95.7 101.2 4-49.2-10.9-96.7-39.9-133.9l13.7-37.7zm-269.4 83.9l-4.6 49.3c-6.1 10.3-12.2 20.9-18.2 31.4-13 9.6-27 19.4-40.5 28.9l39.6 22.9 38.3-13.9c37.3 28.7 84.6 43.6 133.4 39.8-21.1-44.7-57.7-78.3-101.4-96.1l-7-39.5z"},child:[]}]})(n)}function K4(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M252.78 20.875c-1.302.012-2.6.03-3.905.063-37.928.974-76.148 11.153-111.28 31.437C25.164 117.285-13.41 261.322 51.5 373.75s208.946 151.036 321.375 86.125c77.7-44.86 120.1-127.513 117.47-211.406-3.563 65.847-35.898 128.573-91 169.374-10.828 9.62-22.774 18.315-35.814 25.844-103.68 59.86-235.983 24.4-295.842-79.282-59.86-103.68-24.43-235.984 79.25-295.844 35.64-20.576 74.67-29.88 112.968-29.03 63.304 1.4 124.623 30.57 165.438 82.53l-32.594 23.032c-33.27-42.835-84.01-66.6-136.063-67-.96-.008-1.91-.012-2.875 0-.964.01-1.943.038-2.906.062-28.006.717-56.222 8.215-82.156 23.188-82.99 47.914-111.508 154.322-63.594 237.312 47.914 82.99 154.32 111.51 237.313 63.594 51.37-29.66 81.862-81.724 86.28-136.78-12.53 45.37-42.32 86.745-85.438 114.186-.02.013-.043.018-.062.03l-.344.22c-3.16 2.147-6.42 4.216-9.78 6.156-74.245 42.865-168.918 17.494-211.782-56.75-42.864-74.243-17.493-168.917 56.75-211.78 23.2-13.396 48.39-20.122 73.375-20.782 47.953-1.266 95.138 19.858 125.968 59.156l-39.844 28.156c-20.232-24.32-50.055-37.79-80.594-38.03-1.17-.01-2.33 0-3.5.03-17.035.432-34.176 4.995-49.938 14.094-50.435 29.12-67.806 93.877-38.687 144.313 29.12 50.434 93.908 67.806 144.344 38.686 21.245-12.267 36.623-30.85 45.124-52.03-18.815 21.064-44.364 36.888-73.938 44.155-.04.013-.084.02-.125.033-37.507 10.787-78.796-4.816-99.217-40.188-24.07-41.688-9.845-94.712 31.843-118.78 13.028-7.523 27.143-11.314 41.156-11.69 25.66-.685 50.898 10.098 68.188 30.25l-41 28.97c-5.497-4.796-12.664-7.72-20.53-7.72-17.277 0-31.283 14.007-31.283 31.282 0 17.276 14.004 31.282 31.282 31.282 17.277 0 31.28-14.007 31.28-31.283 0-1.187-.06-2.347-.188-3.5l120.094-57.312 4.03-1.75-.06-.156 62.25-29.72 9.25-4.438-5.282-8.812-19.97-33.375-5.155-8.625-8.25 5.813-8.095 5.718c-45.9-58.864-116.14-91.053-187.844-90.405z"},child:[]}]})(n)}function r_(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 16S136 76 136 226v120c0 30 0 30 30 30h180c30 0 30 0 30-30V226C376 76 256 16 256 16zm0 75s60 30 60 135v60H196v-60c0-105 60-135 60-135zM148.63 420.998A12.632 12.632 0 0 0 136 433.63v49.737a12.632 12.632 0 0 0 12.63 12.63h214.74a12.632 12.632 0 0 0 12.63-12.63V433.63A12.632 12.632 0 0 0 363.37 421H148.63z"},child:[]}]})(n)}function s_(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M130.613 43.002v66.926c-22.925 19.7-38.03 48.177-40.533 80.252h234.51c-2.666-34.175-19.637-64.265-45.133-84.006H149.303V43.002h-18.69zM472.62 58.738L431.09 69.865l16.504 61.588 41.525-11.127-16.5-61.588zm-54.042 36.627l-98.787 26.47c5.382 7.835 9.97 16.256 13.647 25.15l92.342-24.745-7.202-26.875zM121.53 206.342l-78.364 37.045.002 50.3 18.207-7.556H442.11l19.316 6.413c0-51.397-119.076-83.53-183.166-86.2H121.53zm-38.17 97.88v.038c-35.936.645-65.065 30.15-65.065 66.232 0 36.484 29.777 66.26 66.262 66.26 1.286 0 2.563-.046 3.832-.12h106.473c1.27.074 2.545.12 3.832.12s2.563-.046 3.832-.12h107.34c1.27.074 2.545.12 3.832.12 1.286 0 2.562-.046 3.83-.12H423.7c1.268.074 2.544.12 3.83.12 36.486 0 66.263-29.776 66.263-66.26 0-36.485-29.777-66.262-66.262-66.262-.276 0-.55.02-.827.022v-.03H83.36zm47.2 18.686h22.13c-4.283 4.144-8.012 8.855-11.063 14.014-3.05-5.16-6.78-9.87-11.066-14.014zm114.14 0h22.995c-4.49 4.344-8.37 9.313-11.498 14.766-3.13-5.453-7.006-10.422-11.498-14.766zm115.003 0h21.824c-4.21 4.074-7.89 8.692-10.912 13.748-3.022-5.056-6.7-9.674-10.912-13.748zm-275.146.012c26.385 0 47.572 21.187 47.572 47.572 0 25.293-19.477 45.798-44.333 47.45H83.36v.09c-25.825-.63-46.378-21.558-46.378-47.54 0-26.383 21.19-47.572 47.575-47.572zm114.138 0c26.386 0 47.573 21.187 47.573 47.572 0 25.293-19.476 45.798-44.332 47.45h-6.48c-24.858-1.652-44.335-22.157-44.335-47.45 0-26.383 21.19-47.572 47.575-47.572zm115.004 0c26.372 0 47.548 21.166 47.57 47.533v.078c-.02 25.276-19.487 45.76-44.33 47.413h-6.48c-24.858-1.653-44.335-22.158-44.335-47.45 0-26.384 21.19-47.573 47.574-47.573zm113.83 0c26.387 0 47.575 21.187 47.575 47.572 0 26.383-21.188 47.572-47.574 47.572-.277 0-.55-.016-.827-.02v-.1h-2.412c-24.843-1.653-44.31-22.138-44.33-47.413v-.078c.022-26.364 21.2-47.532 47.57-47.532zm-171.333 80.39c3.098 5.398 6.928 10.32 11.362 14.633h-22.724c4.434-4.312 8.264-9.235 11.36-14.632zm-114.572.75c3.02 5.106 6.702 9.77 10.93 13.883h-21.858c4.228-4.112 7.91-8.778 10.928-13.882zm228.99.266c2.99 5.002 6.62 9.576 10.776 13.617h-21.55c4.155-4.04 7.786-8.615 10.775-13.617z"},child:[]}]})(n)}function o_(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32l-96 48h23v71h-32v50h30.945L155.36 440.244l-.653.477.522.72-4.175 37.566-.994 8.945 17.89 1.99.995-8.946L171.61 457h168.78l2.665 23.994.994 8.945 17.89-1.99-.995-8.944-4.174-37.567.523-.72-.654-.476L330.054 201H361v-50h-32V80h23l-96-48zm-48 64h32v48h-32V96zm64 0h32v48h-32V96zm-103 73h14v14h-14v-14zm32 0h14v14h-14v-14zm32 0h14v14h-14v-14zm32 0h14v14h-14v-14zm32 0h14v14h-14v-14zm32 0h14v14h-14v-14zm-113.328 32h80.656L256 236.848 215.672 201zm-16.65 9.283L240.33 247h-45.385l4.08-36.717zm113.955 0l4.08 36.717h-45.385l41.305-36.717zM192.945 265h31.383l-34.822 30.953 3.44-30.953zm58.477 0h9.156l51.75 46H199.672l51.75-46zm36.25 0h31.383l3.44 30.953L287.67 265zm-83.994 64h104.644L256 367.053 203.678 329zm-18.8 8.586L236.323 375h-55.6l4.157-37.414zm142.243 0L331.278 375h-55.6l51.444-37.414zM178.724 393h41.6l-45.26 32.914 3.66-32.914zm72.205 0h10.144l63.25 46H187.678l63.25-46zm40.75 0h41.6l3.658 32.914L291.678 393z"},child:[]}]})(n)}const a_=[{name:"General HQ",type:"HQ",locationName:"Rawalpindi, Punjab",coordinates:{lat:33.589908333333334,lon:73.05040833333334},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"I Corps",type:"Strike Corps",locationName:"Mangla Cantt, Punjab",coordinates:{lat:33.13511666666667,lon:73.62663333333333},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"6th Armoured Division",type:"Armoured Division",locationName:"Gujranwala",coordinates:{lat:32.24720833333333,lon:74.09939166666666},details:{corps:"I Corps",division:"",remarks:"",phone:"",reference:"https://archive.claws.in/images/journals_doc/1185553567_StrategicReservesCLAWSResearchTeam.pdf"}},{name:"1st Armoured Brigade",type:"Armoured Brigade",locationName:"Kharian",coordinates:{lat:32.82169166666667,lon:73.8886638888889},details:{corps:"I Corps",division:"6th Armoured Division",remarks:"",phone:"",reference:""}},{name:"7th Armoured Brigade",type:"Armoured Brigade",locationName:"Kharian",coordinates:{lat:32.81774444444445,lon:73.88846111111111},details:{corps:"I Corps",division:"6th Armoured Division",remarks:"",phone:"",reference:""}},{name:"9th Armoured Brigade",type:"Armoured Brigade",locationName:"Kharian",coordinates:{lat:32.81446388888889,lon:73.88839166666668},details:{corps:"I Corps",division:"6th Armoured Division",remarks:"",phone:"",reference:""}},{name:"17th Infantry Division",type:"Infantry Division",locationName:"Kharian",coordinates:{lat:32.82605277777778,lon:73.90040277777778},details:{corps:"I Corps",division:"",remarks:"",phone:"",reference:"https://www.brecorder.com/news/3384056"}},{name:"207th Infantry Brigade",type:"Infantry Brigade",locationName:"Kharian",coordinates:{lat:32.81984722222222,lon:73.89930833333334},details:{corps:"I Corps",division:"17th Infantry Division",remarks:"",phone:"",reference:""}},{name:"315th Infantry Brigade",type:"Infantry Brigade",locationName:"Kharian",coordinates:{lat:32.81568333333333,lon:73.89908055555556},details:{corps:"I Corps",division:"17th Infantry Division",remarks:"",phone:"",reference:""}},{name:"37th Mech Infantry Division",type:"Mechanised Division",locationName:"Kharian",coordinates:{lat:32.824288888888894,lon:73.89418055555556},details:{corps:"I Corps",division:"",remarks:"",phone:"",reference:"https://www.janes.com/defence-news/news-detail/pakistan-army-holds-induction-ceremony-for-vt4-mbt"}},{name:"107th Infantry Brigade",type:"Infantry Brigade",locationName:"Kharian",coordinates:{lat:32.812416666666664,lon:73.89900833333334},details:{corps:"I Corps",division:"37th Mech Infantry Division",remarks:"",phone:"",reference:""}},{name:"313th Infantry Brigade",type:"Infantry Brigade",locationName:"Kharian",coordinates:{lat:32.80984722222222,lon:73.89889722222223},details:{corps:"I Corps",division:"37th Mech Infantry Division",remarks:"",phone:"",reference:""}},{name:"8th (I) Armoured Brigade",type:"Ind Armoured Brigade",locationName:"Kharian",coordinates:{lat:32.81195833333333,lon:73.88832500000001},details:{corps:"I Corps",division:"",remarks:"",phone:"",reference:""}},{name:"II Corps",type:"Strike Corps",locationName:"Multan Cantt, Punjab",coordinates:{lat:30.183275000000002,lon:71.42395833333333},details:{corps:"",division:"",remarks:"",phone:"0345-5580795, 0302-9183276",reference:""}},{name:"1st Armoured Division ",type:"Armoured Division",locationName:"Multan Cantt, Punjab",coordinates:{lat:30.172255555555555,lon:71.41969444444445},details:{corps:"II Corps",division:"",remarks:"",phone:"",reference:""}},{name:"14th Infantry Division ",type:"Infantry Division",locationName:"Okara Cantt",coordinates:{lat:30.752444444444443,lon:73.35483333333333},details:{corps:"II Corps",division:"",remarks:"",phone:"",reference:"https://agp.gov.pk/SiteImage/Policy/Consolidated%20Audit%20Report%202019-20%20final%2014-02-2020%20(Defence).pdf"}},{name:"23rd Infantry Brigade",type:"Infantry Brigade",locationName:"Okara Cantt",coordinates:{lat:30.751172222222223,lon:73.36275555555555},details:{corps:"",division:"",remarks:"",phone:"",reference:"https://web.archive.org/web/20220608162557/https://www.ppra.org.pk/doc/14-4/9hq144-294.jpg"}},{name:"57th Infantry Brigade",type:"Infantry Brigade",locationName:"Okara Cantt",coordinates:{lat:30.74841388888889,lon:73.36690555555555},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"105th Infantry Brigade",type:"Infantry Brigade",locationName:"Okara Cantt",coordinates:{lat:30.74891388888889,lon:73.36317777777778},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"324th Infantry Brigade",type:"Infantry Brigade",locationName:"Okara Cantt",coordinates:{lat:30.7406,lon:73.3639},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"40th Infantry Division ",type:"Infantry Division",locationName:"Okara",coordinates:{lat:30.753875,lon:73.36740277777777},details:{corps:"II Corps",division:"",remarks:"",phone:"",reference:""}},{name:"325th infantry Brigade",type:"Infantry Brigade",locationName:"Okara",coordinates:{lat:30.738725000000002,lon:73.36740277777777},details:{corps:"II Corps",division:"40th Infantry Division ",remarks:"",phone:"",reference:""}},{name:"326th Infantry Brigade",type:"Infantry Brigade",locationName:"Okara",coordinates:{lat:30.73716388888889,lon:73.35597222222222},details:{corps:"II Corps",division:"40th Infantry Division ",remarks:"",phone:"",reference:""}},{name:"327th Infantry Brigade",type:"Infantry Brigade",locationName:"Okara",coordinates:{lat:30.732041666666664,lon:73.35578333333332},details:{corps:"II Corps",division:"40th Infantry Division ",remarks:"",phone:"",reference:""}},{name:"13th (I) Armoured Brigade",type:"Armoured Brigade",locationName:"Sialkot",coordinates:{lat:32.52581388888889,lon:74.57037222222222},details:{corps:"II Corps",division:"",remarks:"",phone:"",reference:""}},{name:"44th (I) Mechanised Infantry Brigade",type:"Infantry Brigade",locationName:"Okara^",coordinates:{lat:30.729669444444443,lon:73.35588888888888},details:{corps:"II Corps",division:"",remarks:"",phone:"",reference:""}},{name:"IV Corps",type:"Holding Corps",locationName:"163, Munir Road, Lahore, Punjab",coordinates:{lat:31.515875,lon:74.38870833333334},details:{corps:"",division:"",remarks:"",phone:"4299221070",reference:""}},{name:"2nd Artillery Division ",type:"Artillery Division",locationName:"Gujranwala",coordinates:{lat:32.23314722222222,lon:74.08573055555556},details:{corps:"IV Corps",division:"",remarks:"",phone:"",reference:""}},{name:"41st Artillery Brigade",type:"Artillery Brigade",locationName:"Gujranwala",coordinates:{lat:32.232505555555555,lon:74.07835277777778},details:{corps:"IV Corps",division:"2nd Artillery Division ",remarks:"",phone:"",reference:""}},{name:"43rd Artillery Brigade",type:"Artillery Brigade",locationName:"Lahore^",coordinates:{lat:31.535172222222222,lon:74.3701},details:{corps:"IV Corps",division:"2nd Artillery Division ",remarks:"",phone:"",reference:""}},{name:"47th Artillery Brigade",type:"Artillery Brigade",locationName:"Gujranwala",coordinates:{lat:32.229911111111115,lon:74.079625},details:{corps:"IV Corps",division:"2nd Artillery Division ",remarks:"",phone:"",reference:""}},{name:"10th Infantry Division ",type:"Infantry Division",locationName:"Lahore",coordinates:{lat:31.53878611111111,lon:74.43768333333334},details:{corps:"IV Corps",division:"",remarks:"",phone:"",reference:""}},{name:"22nd Infantry Brigade",type:"Infantry Brigade",locationName:"Lahore",coordinates:{lat:31.5037,lon:74.37584722222222},details:{corps:"IV Corps",division:"10th Infantry Division ",remarks:"",phone:"",reference:""}},{name:"114th Infantry Brigade",type:"Infantry Brigade",locationName:"Lahore",coordinates:{lat:31.505216666666666,lon:74.37521666666666},details:{corps:"IV Corps",division:"10th Infantry Division ",remarks:"",phone:"",reference:""}},{name:"11th Infantry Division",type:"Infantry Division",locationName:"Lahore",coordinates:{lat:31.510538888888888,lon:74.36723055555555},details:{corps:"IV Corps",division:"",remarks:"",phone:"",reference:""}},{name:"21st Infantry Brigade",type:"Infantry Brigade",locationName:"Lahore",coordinates:{lat:31.499077777777778,lon:74.39030000000001},details:{corps:"IV Corps",division:"11th Infantry Division",remarks:"",phone:"",reference:""}},{name:"52nd Infantry Brigade",type:"Infantry Brigade",locationName:"Lahore",coordinates:{lat:31.497858333333333,lon:74.37947777777777},details:{corps:"IV Corps",division:"11th Infantry Division",remarks:"",phone:"",reference:""}},{name:"106th Infantry Brigade",type:"Infantry Brigade",locationName:"Lahore",coordinates:{lat:31.520730555555556,lon:74.37042777777778},details:{corps:"IV Corps",division:"11th Infantry Division",remarks:"",phone:"",reference:""}},{name:"3rd (I) Armoured Brigade",type:"Ind Armoured Brigade",locationName:"Chunian",coordinates:{lat:30.978624999999997,lon:73.95439444444445},details:{corps:"IV Corps",division:"",remarks:"",phone:"",reference:""}},{name:"30th (I) Armoured Brigade",type:"Ind Armoured Brigade",locationName:"Lahore",coordinates:{lat:31.51103888888889,lon:74.39203611111112},details:{corps:"IV Corps",division:"",remarks:"",phone:"",reference:""}},{name:"212nd (I) Infantry Brigade ",type:"Ind Infantry Brigade",locationName:"Lahore",coordinates:{lat:31.509333333333334,lon:74.3920138888889},details:{corps:"IV Corps",division:"",remarks:"",phone:"",reference:""}},{name:"V Corps",type:"Holding Corps",locationName:"Saddar Cantt, Karachi, Sindh",coordinates:{lat:24.85560277777778,lon:67.03609444444444},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"16th Infantry Division ",type:"Infantry Division",locationName:"Pano Aqil",coordinates:{lat:27.797211111111114,lon:69.12152222222221},details:{corps:"V Corps",division:"",remarks:"",phone:"",reference:""}},{name:"34th Infantry Brigade",type:"Infantry Brigade",locationName:"Pano Aqil",coordinates:{lat:27.807233333333333,lon:69.11383055555555},details:{corps:"V Corps",division:"16th Infantry Division",remarks:"",phone:"",reference:""}},{name:"205th Infantry Brigade",type:"Infantry Brigade",locationName:"Pano Aqil",coordinates:{lat:27.804725,lon:69.10710555555555},details:{corps:"V Corps",division:"16th Infantry Division",remarks:"",phone:"",reference:""}},{name:"60th Infantry Brigade",type:"Infantry Brigade",locationName:"Rahim Yaar Khan",coordinates:{lat:28.453016666666667,lon:70.23271111111112},details:{corps:"V Corps",division:"16th Infantry Division",remarks:"",phone:"",reference:""}},{name:"18th Infantry Division ",type:"Infantry Division",locationName:"Hyderabad",coordinates:{lat:25.39452222222222,lon:68.35564166666666},details:{corps:"V Corps",division:"",remarks:"",phone:"",reference:""}},{name:"51st Infantry Brigade",type:"Infantry Brigade",locationName:"Chor",coordinates:{lat:25.512516666666667,lon:69.79220555555555},details:{corps:"V Corps",division:"18th Infantry Division ",remarks:"",phone:"",reference:""}},{name:"55th Infantry Brigade",type:"Infantry Brigade",locationName:"Naya Chor",coordinates:{lat:25.52572222222222,lon:69.82929722222222},details:{corps:"V Corps",division:"18th Infantry Division ",remarks:"",phone:"",reference:""}},{name:"206th Infantry Brigade",type:"Infantry Brigade",locationName:"Badin",coordinates:{lat:24.65781111111111,lon:68.85357499999999},details:{corps:"V Corps",division:"18th Infantry Division ",remarks:"",phone:"",reference:""}},{name:"25th Mechanized Division ",type:"Mechanised Division",locationName:"Malir",coordinates:{lat:24.951027777777778,lon:67.22235555555555},details:{corps:"V Corps",division:"",remarks:"",phone:"",reference:""}},{name:"2nd (I) Armoured Brigade",type:"Armoured Brigade",locationName:"Malir",coordinates:{lat:24.946397222222224,lon:67.19816944444445},details:{corps:"V Corps",division:"",remarks:"",phone:"",reference:""}},{name:"12th (I) Armoured Brigade",type:"Armoured Brigade",locationName:"Malir^",coordinates:{lat:24.95136388888889,lon:67.20061666666668},details:{corps:"V Corps",division:"",remarks:"",phone:"",reference:""}},{name:"31st (I) Mechanised Infantry Brigade",type:"Mechanised Brigade",locationName:"Hyderabad or Malir",coordinates:{lat:24.952761111111112,lon:67.19511944444444},details:{corps:"V Corps",division:"",remarks:"",phone:"",reference:""}},{name:"X Corps",type:"Holding Corps",locationName:"Chaklala Cantt, Rawalpindi, Punjab",coordinates:{lat:33.59719166666667,lon:73.08606388888889},details:{corps:"",division:"",remarks:`AOR: J&K
Attack role in north and POK
60000 Mujhaid 40000 Janbaz Force irregulars`,phone:"",reference:"https://agp.gov.pk/SiteImage/Policy/Consolidated%20Audit%20Report%202019-20%20final%2014-02-2020%20(Defence).pdf"}},{name:"80th Infantry Brigade",type:"",locationName:"Minimarg",coordinates:{lat:34.79360555555555,lon:75.08206388888888},details:{corps:"X Corps",division:"FCNA",remarks:"",phone:"",reference:""}},{name:"12th Infantry Division ",type:"Infantry Division",locationName:"Murree",coordinates:{lat:33.900927777777774,lon:73.38968333333334},details:{corps:"X Corps",division:"",remarks:"",phone:"LoC, PoK",reference:"https://www.claws.in/static/SW-Spring-2020_14_Pakistan-X-Corps-1.pdf"}},{name:"32nd Infantry Brigade",type:"Infantry Brigade",locationName:"Kel, PoK",coordinates:{lat:34.823483333333336,lon:74.356175},details:{corps:"X Corps",division:"12th Infantry Division ",remarks:"",phone:"",reference:""}},{name:"19th Infantry Division ",type:"Infantry Division",locationName:"Mangla Cantt",coordinates:{lat:33.136069444444445,lon:73.626425},details:{corps:"X Corps",division:"",remarks:"Mountain Infantry",phone:"32107",reference:"From Kel to Jhelum"}},{name:"7th AK Brigade?",type:"Infantry Brigade",locationName:"Jarikhas",coordinates:{lat:33.10328055555556,lon:73.84377222222221},details:{corps:"X Corps",division:"19th Infantry Division ",remarks:"",phone:"",reference:""}},{name:"23rd Infantry Division ",type:"Infantry Division",locationName:"Jhelum Cantt",coordinates:{lat:32.91928055555555,lon:73.69566944444445},details:{corps:"X Corps",division:"",remarks:"",phone:"",reference:"Kotli to Bhimber"}},{name:"3rd AK Brigade",type:"Infantry Brigade",locationName:"Kotli",coordinates:{lat:33.52226944444444,lon:73.89325833333334},details:{corps:"X Corps",division:"23rd Infantry Division ",remarks:"",phone:"",reference:""}},{name:"4th AK Brigade",type:"Infantry Brigade",locationName:"Bhimber",coordinates:{lat:32.986691666666665,lon:74.07896944444444},details:{corps:"X Corps",division:"23rd Infantry Division ",remarks:"",phone:"",reference:""}},{name:"333rd Infantry Brigade",type:"Infantry Brigade",locationName:"Jalalpur Jattan",coordinates:{lat:32.651177777777775,lon:74.22430555555556},details:{corps:"X Corps",division:"23rd Infantry Division ",remarks:"",phone:"",reference:""}},{name:"111 (I) Infantry Brigade ",type:"Infantry Brigade",locationName:"Rawalpindi",coordinates:{lat:33.6134,lon:73.01614166666667},details:{corps:"X Corps",division:"",remarks:`Westridge, Rawalpindi
X Corps for VIP security & coups`,phone:"",reference:""}},{name:"XI Corps",type:"Reserve Corps",locationName:"Peshawar, Khyber Pakhtunkhwa",coordinates:{lat:34.00788055555556,lon:71.546275},details:{corps:"",division:"",remarks:"NWFP, Balochistan",phone:"09120133949, 03342166965",reference:""}},{name:"7th Infantry Division ",type:"Infantry Division",locationName:"Peshawar or Miranshah, North Waziristan",coordinates:{lat:34.00738888888889,lon:71.54104166666666},details:{corps:"XI Corps",division:"",remarks:"",phone:"",reference:""}},{name:"27th Infantry Brigade",type:"Infantry Brigade",locationName:"Landi Kotal",coordinates:{lat:34.098688888888894,lon:71.14566944444445},details:{corps:"XI Corps",division:"7th Infantry Division ",remarks:"Could be at  Nowshera",phone:"",reference:""}},{name:"9th Infantry Division",type:"Infantry Division",locationName:"Kohat or Wana",coordinates:{lat:33.58488333333334,lon:71.44526111111111},details:{corps:"XI Corps",division:"",remarks:"",phone:"",reference:""}},{name:"73rd  Infantry Brigade",type:"Infantry Brigade",locationName:"Thal",coordinates:{lat:33.35900277777778,lon:70.56794444444444},details:{corps:"",division:"9th Infantry Division",remarks:"",phone:"",reference:""}},{name:"116th Infantry Brigade",type:"Infantry Brigade",locationName:"Bannu Cantt",coordinates:{lat:32.99506111111111,lon:70.60573055555555},details:{corps:"XI Corps",division:"9th Infantry Division",remarks:"",phone:"",reference:""}},{name:"117th Infantry Brigade",type:"Infantry Brigade",locationName:"Kohat or Wana",coordinates:{lat:32.29773888888889,lon:69.57656388888888},details:{corps:"XI Corps",division:"9th Infantry Division",remarks:"",phone:"",reference:""}},{name:"104th Air Defence Brigade",type:"Air Defence Brigade",locationName:"Peshawar Cantt",coordinates:{lat:33.990097222222225,lon:71.52494722222222},details:{corps:"XI Corps",division:"",remarks:"",phone:"",reference:""}},{name:"XII Corps",type:"Reserve Corps",locationName:"Chiltan Road, Quetta Cantt, Balochistan",coordinates:{lat:30.209194444444442,lon:67.03206666666667},details:{corps:"",division:"",remarks:"",phone:`36073, 32353
0812830291, 0812823393, 03149145552`,reference:""}},{name:"33rd Infantry Division ",type:"Infantry Division",locationName:"Quetta/Khuzdar",coordinates:{lat:30.215519444444443,lon:67.03643611111112},details:{corps:"XII Corps",division:"33rd Infantry Division ",remarks:"",phone:"",reference:""}},{name:"29th Infantry Brigade",type:"Infantry Brigade",locationName:"Zhob",coordinates:{lat:31.348419444444442,lon:69.44264722222222},details:{corps:"XII Corps",division:"33rd Infantry Division ",remarks:"",phone:"",reference:""}},{name:"70th Infantry Brigade",type:"Infantry Brigade",locationName:"Khuzdar",coordinates:{lat:27.759805555555555,lon:66.63675833333333},details:{corps:"XII Corps",division:"33rd Infantry Division ",remarks:"",phone:"",reference:""}},{name:"60th Infantry Brigade",type:"Infantry Brigade",locationName:"Sibi",coordinates:{lat:29.543669444444447,lon:67.86407777777777},details:{corps:"XII Corps",division:"33rd Infantry Division ",remarks:"",phone:"",reference:""}},{name:"205th Infantry Brigade",type:"Infantry Brigade",locationName:"Lora Lai",coordinates:{lat:30.357922222222225,lon:68.60197777777778},details:{corps:"XII Corps",division:"33rd Infantry Division ",remarks:"",phone:"",reference:""}},{name:"329th Infantry Brigade",type:"Infantry Brigade",locationName:"Quetta",coordinates:{lat:30.226388888888888,lon:67.04851666666667},details:{corps:"XII Corps",division:"33rd Infantry Division ",remarks:"",phone:"",reference:""}},{name:"41st Infantry Division ",type:"Infantry Division",locationName:"Quetta",coordinates:{lat:30.205205555555555,lon:67.04374722222222},details:{corps:"XII Corps",division:"41st Infantry Division ",remarks:"",phone:"",reference:""}},{name:"20th Infantry Brigade",type:"Infantry Brigade",locationName:"Quetta",coordinates:{lat:30.224719444444442,lon:67.05279722222222},details:{corps:"XII Corps",division:"41st Infantry Division ",remarks:"",phone:"",reference:""}},{name:"61st Infantry Brigade",type:"Infantry Brigade",locationName:"Quetta",coordinates:{lat:30.224405555555553,lon:67.05376944444444},details:{corps:"XII Corps",division:"41st Infantry Division ",remarks:"",phone:"",reference:""}},{name:"328th Infantry Brigade",type:"Infantry Brigade",locationName:"Sibi or Quetta",coordinates:{lat:29.558408333333333,lon:67.86388333333333},details:{corps:"XII Corps",division:"41st Infantry Division ",remarks:"",phone:"",reference:""}},{name:"44th Special Security Division",type:"Light Infantry Division",locationName:"Gwadar, Balochistan",coordinates:{lat:25.32321111111111,lon:62.48553888888889},details:{corps:"XII Corps",division:"",remarks:"Special Security Division. Raised 2020",phone:"",reference:"https://www.facebook.com/1090893620946235/posts/pakistan-army-44-division-district-gwadar-distributed-11000-ration-bags-amongst-/2918718988163680/"}},{name:"XXX Corps",type:"Holding Corps",locationName:"Gujranwala Cantt, Punjab",coordinates:{lat:32.25531388888889,lon:74.12148611111111},details:{corps:"",division:"",remarks:`AOR: Between Jhelum and Narowal,\r
South of IV Corps boundary, Shakargarh bulge`,phone:"",reference:"https://www.janes.com/defence-news/news-detail/pakistan-army-holds-induction-ceremony-for-vt4-mbt"}},{name:"8th Infantry Division ",type:"Infantry Division",locationName:"Sialkot Cantt",coordinates:{lat:32.528974999999996,lon:74.56930555555556},details:{corps:"XXX Corps",division:"",remarks:"",phone:"",reference:""}},{name:"13th Infantry Brigade",type:"Infantry Brigade",locationName:"Sialkot Cantt",coordinates:{lat:32.527427777777774,lon:74.57060555555555},details:{corps:"XXX Corps",division:"8th Infantry Division ",remarks:"",phone:"",reference:""}},{name:"14th Infantry Brigade",type:"Infantry Brigade",locationName:"Noorkot",coordinates:{lat:32.20129166666667,lon:75.12336388888889},details:{corps:"XXX Corps",division:"8th Infantry Division ",remarks:"",phone:"",reference:""}},{name:"115th Infantry Brigade",type:"Infantry Brigade",locationName:"Sialkot",coordinates:{lat:32.52372222222222,lon:74.57232222222221},details:{corps:"XXX Corps",division:"8th Infantry Division ",remarks:"",phone:"",reference:""}},{name:"15th Infantry Division",type:"Infantry Division",locationName:"Sialkot",coordinates:{lat:32.53061388888889,lon:74.55844166666667},details:{corps:"XXX Corps",division:"",remarks:"",phone:"",reference:"https://m.rediff.com/news/column/pakistan-army-chief-shuffles-generals/20231002.htm"}},{name:"10th Infantry Brigade",type:"Infantry Brigade",locationName:"Sialkot",coordinates:{lat:32.531480555555554,lon:74.55637222222222},details:{corps:"XXX Corps",division:"15th Infantry Division",remarks:"",phone:"",reference:""}},{name:"101st Infantry Brigade",type:"Infantry Brigade",locationName:"Sialkot",coordinates:{lat:32.52801111111111,lon:74.56328888888889},details:{corps:"XXX Corps",division:"15th Infantry Division",remarks:"",phone:"",reference:""}},{name:"104th Infantry Brigade",type:"Infantry Brigade",locationName:"Sialkot",coordinates:{lat:32.52706111111111,lon:74.56084444444444},details:{corps:"XXX Corps",division:"15th Infantry Division",remarks:"",phone:"",reference:""}},{name:"124th Infantry Brigade",type:"Infantry Brigade",locationName:"Sialkot",coordinates:{lat:32.521591666666666,lon:74.57819444444443},details:{corps:"XXX Corps",division:"15th Infantry Division",remarks:"",phone:"",reference:""}},{name:"54th (I) Infantry Brigade",type:"Infantry Brigade",locationName:"Sialkot",coordinates:{lat:32.511183333333335,lon:74.57131666666666},details:{corps:"XXX Corps",division:"",remarks:"",phone:"",reference:""}},{name:"19th (I) Armoured Brigade",type:"Armoured Brigade",locationName:"Gujranwala",coordinates:{lat:32.23909722222222,lon:74.11040833333333},details:{corps:"XXX Corps",division:"",remarks:"",phone:"",reference:""}},{name:"XXXI Corps",type:"Holding Corps",locationName:"Bhawalpur Cantt, Punjab",coordinates:{lat:29.36392777777778,lon:71.67915},details:{corps:"",division:"",remarks:`AOR: Punjab
Bhawalpur Corps`,phone:"0300-8932437, 0333-0003321, 0336-5812880",reference:""}},{name:"26th Mechanised Infantry Division ",type:"Infantry Division",locationName:"Bhawalpur Cantt",coordinates:{lat:29.369630555555556,lon:71.68681666666667},details:{corps:"XXXI Corps",division:"",remarks:"",phone:"",reference:""}},{name:"35th Infantry Division ",type:"Infantry Division",locationName:"Bhawalpur Cantt",coordinates:{lat:29.36911388888889,lon:71.68645277777779},details:{corps:"XXXI Corps",division:"",remarks:"Battalion at Fort Abbas",phone:"062-33110",reference:""}},{name:"25th Infantry Brigade",type:"Infantry Brigade",locationName:"Bhawalpur",coordinates:{lat:29.35918611111111,lon:71.66360555555556},details:{corps:"XXXI Corps",division:"35th Infantry Division ",remarks:"",phone:"",reference:""}},{name:"53rd Infantry Brigade",type:"Infantry Brigade",locationName:"Bhawalpur",coordinates:{lat:29.35931666666667,lon:71.66719722222223},details:{corps:"XXXI Corps",division:"35th Infantry Division ",remarks:"",phone:"",reference:""}},{name:"74th Infantry Brigade",type:" Infantry Brigade",locationName:"Dera Nawab Sahib",coordinates:{lat:29.121708333333334,lon:71.26878611111111},details:{corps:"XXXI Corps",division:"35th Infantry Division ",remarks:"",phone:"",reference:""}},{name:"101st (I) Infantry Brigade^",type:"Infantry Brigade",locationName:"Sialkot",coordinates:{lat:32.52968611111111,lon:74.56436944444444},details:{corps:"",division:"",remarks:"Could be Ind or under 15th Infantry Division",phone:"",reference:""}},{name:"14th (I) Armoured Brigade",type:"Armoured Brigade",locationName:"New Cantt Bahawalpur, Bahawalpur, Punjab",coordinates:{lat:29.342025,lon:71.74022222222223},details:{corps:"XXXI Corps",division:"",remarks:"",phone:"",reference:""}},{name:"Air Defence Command",type:"Air Defence Corps",locationName:"Rawalpindi, Punjab",coordinates:{lat:33.61001666666667,lon:73.09058888888889},details:{corps:"Air Defence Command",division:"",remarks:"AOR: Pakistan",phone:"",reference:"https://www.youtube.com/watch?v=8ioisdhoVsU"}},{name:"3rd Air Defence Brigade",type:"Air Defence Brigade",locationName:"Sargodha",coordinates:{lat:32.077913888888894,lon:72.64168611111111},details:{corps:"Air Defence Command",division:"3rd Air Defence Division",remarks:"",phone:"",reference:""}},{name:"4th Air Defence Division ",type:"Air Defence Division",locationName:"Malir",coordinates:{lat:24.938316666666665,lon:67.18921666666667},details:{corps:"Air Defence Command",division:"",remarks:"",phone:"",reference:""}},{name:"1st Air Defence Brigade",type:"Air Defence Brigade",locationName:"Malir",coordinates:{lat:24.93756388888889,lon:67.19068055555556},details:{corps:"Air Defence Command",division:"4th Air Defence Division ",remarks:"",phone:"",reference:""}},{name:"109th Air Defence Brigade",type:"Air Defence Brigade",locationName:"Multan",coordinates:{lat:30.162474999999997,lon:71.41749722222222},details:{corps:"Air Defence Command",division:"4th Air Defence Division ",remarks:"",phone:"",reference:""}},{name:"Special Service Group",type:"SF Division",locationName:"Cherat",coordinates:{lat:33.82836666666667,lon:71.91531666666667},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"22 SSG Brigade",type:"Brigade",locationName:"Cherat",coordinates:{lat:33.82836666666667,lon:71.91531666666667},details:{corps:"Special Service Group",division:"",remarks:"",phone:"",reference:""}},{name:"Tarbela SSG Brigade",type:"",locationName:"Tarbela",coordinates:{lat:34.01391944444445,lon:72.67376944444445},details:{corps:"Special Service Group",division:"",remarks:"",phone:"",reference:""}},{name:"3 Commando Battalion",type:"SF Battalion",locationName:"Powindah",coordinates:{lat:33.14928333333333,lon:73.70960833333334},details:{corps:"Special Service Group",division:"Tarbela SSG Brigade",remarks:"Powindahs",phone:"",reference:""}},{name:"11 SSG Brigade",type:"Brigade",locationName:"Attock",coordinates:{lat:33.77137777777778,lon:72.37540555555555},details:{corps:"Special Service Group",division:"",remarks:"",phone:"",reference:""}},{name:"1 Commando Battalion ??",type:"SF Battalion",locationName:"Tarbela, Khyber Pakhtunkhwa",coordinates:{lat:34.013669444444446,lon:72.67074722222223},details:{corps:"Special Service Group",division:"11 SSG Brigade",remarks:"Yaldram",phone:"",reference:""}},{name:"Para Training School SSG",type:"Training",locationName:"Grand Trunk Rd, Tahkal, Peshawar,",coordinates:{lat:34.006080555555556,lon:71.52626944444444},details:{corps:"Special Service Group",division:"",remarks:"",phone:"",reference:""}},{name:"Powindah SSG center?",type:"",locationName:"",coordinates:{lat:33.14905,lon:73.70824166666667},details:{corps:"Special Service Group",division:"",remarks:"",phone:"",reference:""}},{name:"Army Strategic Forces Command",type:"Missile Corps",locationName:"Jarrar Camp, Rawalpindi, Punjab",coordinates:{lat:33.412277777777774,lon:72.92229722222223},details:{corps:"Strategic Forces Command",division:"",remarks:"",phone:"",reference:""}},{name:"21st Artillery Division ",type:"Artillery Division",locationName:"Pano Aqil (or Swat)",coordinates:{lat:27.802319444444446,lon:69.10204999999999},details:{corps:"Strategic Forces Command",division:"",remarks:"",phone:"",reference:""}},{name:"47th Artillery Brigade",type:"Artillery Brigade",locationName:"Kirana Cantt, Hilal Garrison",coordinates:{lat:31.957480555555556,lon:72.67176666666667},details:{corps:"",division:"",remarks:"",phone:"",reference:"https://www.jobz.pk/mess-waiter-job-at-headquarter-47-artillery-brigade_jobs-555253.html"}},{name:"Army Air Defence Command HQ",type:"Air Defence",locationName:"Chaklala Cantt., Rawalpindi",coordinates:{lat:33.59226666666667,lon:73.09208888888888},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Army Dog Center",type:"",locationName:"Rawlpindi Cantt, Punjab. 46000",coordinates:{lat:33.60299166666667,lon:73.09394444444445},details:{corps:"",division:"",remarks:"Not confirmed, could be private",phone:"092 300 66669160",reference:""}},{name:"Khairpur Tamewali Range",type:"",locationName:"Khairpur Tamewali, Bahawalpur, Punjab",coordinates:{lat:29.466719444444443,lon:72.28038333333333},details:{corps:"XXXI Corps",division:"",remarks:"",phone:"",reference:"https://twitter.com/zarrar_11PK/status/1730861769940234735"}},{name:"Pano Aqil Tank Workshop",type:"Workshop",locationName:"Pano Aqil Cantt, Sukkur, Sindh",coordinates:{lat:27.81201666666667,lon:69.092575},details:{corps:"",division:"16th Infantry Division^",remarks:"",phone:"",reference:""}},{name:"Pano Aqil Tank Workshop 2",type:"Workshop",locationName:"Pano Aqil Cantt, Sukkur, Sindh",coordinates:{lat:27.818069444444443,lon:69.09877222222222},details:{corps:"",division:"16th Infantry Division^",remarks:"",phone:"",reference:""}},{name:"1st AK Brigade",type:"Irregular Infantry Brigade",locationName:"Domel or Kuchha",coordinates:{lat:34.35801111111111,lon:73.46999722222222},details:{corps:"X Corps",division:"",remarks:"",phone:"",reference:"Muzaffarabad"}},{name:"2nd AK Brigade",type:"Irregular Infantry Brigade",locationName:"",coordinates:{lat:33.847613888888894,lon:73.80346944444445},details:{corps:"X Corps",division:"",remarks:"",phone:"",reference:"Rawalkot"}},{name:"3rd AK Brigade",type:"Irregular Infantry Brigade",locationName:"",coordinates:{lat:33.60385277777778,lon:73.94102222222223},details:{corps:"X Corps",division:"",remarks:"",phone:"",reference:"Tatta Pani"}},{name:"4th AK Brigade",type:"Irregular Infantry Brigade",locationName:"",coordinates:{lat:33.32539166666667,lon:74.02584166666666},details:{corps:"X Corps",division:"",remarks:"",phone:"",reference:"Bandli"}},{name:"5th AK Brigade",type:"Irregular Infantry Brigade",locationName:"",coordinates:{lat:34.43363055555555,lon:73.69106944444445},details:{corps:"X Corps",division:"",remarks:"",phone:"",reference:"Dhani"}},{name:"6th AK Brigade",type:"Irregular Infantry Brigade",locationName:"",coordinates:{lat:33.98793055555556,lon:73.7758361111111},details:{corps:"X Corps",division:"",remarks:"",phone:"",reference:"Bagh"}},{name:"7th AK Brigade",type:"Irregular Infantry Brigade",locationName:"Jarikass",coordinates:{lat:32.98130555555556,lon:74.079875},details:{corps:"X Corps",division:"",remarks:"",phone:"",reference:"Bhimber"}},{name:"32nd AK Brigade?",type:"Irregular Infantry Brigade",locationName:"",coordinates:{lat:34.82385555555556,lon:74.35562499999999},details:{corps:"X Corps",division:"",remarks:"",phone:"",reference:"Kel"}},{name:"FCKP North",type:"Paramilitary ",locationName:"Hashtnagri, Peshawar, Khyber Pakhtunkhwa",coordinates:{lat:34.013325,lon:71.56992777777778},details:{corps:"",division:"",remarks:"Frontier Corps Khyber Pakhtunkhwa (North) ",phone:"",reference:""}},{name:"Zhob Militia ",type:"Paramilitary ",locationName:"Fort Sandeman",coordinates:{lat:31.34429722222222,lon:69.43913055555556},details:{corps:"Frontier Corps",division:"",remarks:"",phone:"",reference:""}},{name:"Sibi Scouts ",type:"Paramilitary ",locationName:"Sibi",coordinates:{lat:29.538511111111113,lon:67.85058888888888},details:{corps:"Frontier Corps",division:"",remarks:"",phone:"",reference:""}},{name:"Kalat Scouts",type:"Paramilitary ",locationName:"Kalat",coordinates:{lat:27.810222222222222,lon:66.59988333333332},details:{corps:"Frontier Corps",division:"",remarks:"",phone:"",reference:""}},{name:"Kharan Rifles ",type:"Paramilitary ",locationName:"Kharan, Balochistan",coordinates:{lat:28.59517222222222,lon:65.41904722222223},details:{corps:"Frontier Corps",division:"",remarks:"",phone:"",reference:""}},{name:"Pishin Scouts ",type:"Paramilitary ",locationName:"Pishin Fort",coordinates:{lat:30.938716666666668,lon:66.45074444444445},details:{corps:"Frontier Corps",division:"",remarks:"",phone:"",reference:""}},{name:"Maiwand Rifles ",type:"Paramilitary ",locationName:"Maiwand Dist, Kohlu, Balochistan",coordinates:{lat:29.648972222222223,lon:68.70859722222222},details:{corps:"Frontier Corps",division:"",remarks:"",phone:"",reference:""}},{name:"Ghazaband Scouts",type:"Paramilitary ",locationName:"Quetta, Balochistan",coordinates:{lat:30.29145,lon:66.921075},details:{corps:"Frontier Corps",division:"",remarks:"",phone:"",reference:""}},{name:"Bhambore Rifles",type:"Paramilitary ",locationName:"Dera Bugti",coordinates:{lat:29.039661111111112,lon:69.16422222222222},details:{corps:"Frontier Corps",division:"",remarks:"",phone:"",reference:""}},{name:"Loralai Scouts ",type:"Paramilitary ",locationName:"Sarduki",coordinates:{lat:30.35608888888889,lon:68.60191388888889},details:{corps:"Frontier Corps",division:"",remarks:"",phone:"",reference:""}},{name:"Khyber Rifles",type:"Paramilitary ",locationName:"Landi Kotal, Khyber Pakhtunkhwa",coordinates:{lat:34.101350000000004,lon:71.14656666666667},details:{corps:"Frontier Corps",division:"FCKP North",remarks:"",phone:"",reference:""}},{name:"National Counter Terrorism Center",type:"Special Forces",locationName:"Pabbi, Nowshera District, Khyber Pakhtunkhwa",coordinates:{lat:32.231583,lon:74.104454},details:{corps:"",division:"",remarks:"Counter-terrorism training facility",phone:"",reference:""}}],l_=[{name:"WTC HQ",type:"HQ",locationName:"31, Jianghan Road, Chengdu City, Sichuan Province",coordinates:{lat:30.676927777777777,lon:104.06413333333333},details:{corps:"WTC",division:"",remarks:`Major focus on India. This seems to be the only TC which still retains some divisions. 
2 to 2.35 lakh troops from border defence units and regular army.
5-6 CBAs deployed in Depsang, Galwan, Hot Spring, Pangong Tso, Demchok and Chumar sectors.
Tibet Military Region (TMR) comes under PLAs Ground Forces Command instead of Western TC`,phone:"",reference:"https://jjamwal.in/yayavar/order-of-battle-of-chinese-armed-forces/"}},{name:"WTC Air Force",type:"HQ",locationName:"Xinnan Road, Wuhou District, Chengdu",coordinates:{lat:30.64090277777778,lon:104.07147222222221},details:{corps:"WTC",division:"",remarks:"",phone:"",reference:""}},{name:"WTC Army",type:"HQ",locationName:" 890, Nanchang Road, Chengguan District, Lanzhou City, Gansu",coordinates:{lat:36.058027777777774,lon:103.85094722222222},details:{corps:"WTC",division:"",remarks:"",phone:"",reference:""}},{name:"76th GA",type:"Group Army",locationName:"59 Bayi Road, Chengdong District, Xining",coordinates:{lat:36.57031944444445,lon:101.85884722222221},details:{corps:"WTC",division:"",remarks:"",phone:"",reference:""}},{name:"12th CAB",type:"Heavy Combined Arms Brigade",locationName:"Dongba Village, Suzhou District, Jiuquan City, Gansu",coordinates:{lat:39.72943055555556,lon:98.51094166666667},details:{corps:"76th GA, WTC",division:"",remarks:`Perhaps Disbanded in May 2022^ and assets given to XMR units
SAM HQ-17 `,phone:"",reference:`https://www.jiuquan.cc/33446.html
https://www.gsei.com.cn/html/1336/2019-07-23/content-244529.html`}},{name:"12th CAB 2",type:"Heavy Combined Arms Brigade",locationName:"Wenshu Mountain, Jiuquan, Gansu",coordinates:{lat:39.64875833333333,lon:98.34432777777778},details:{corps:"76th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"17th CAB",type:"Heavy Combined Arms Brigade",locationName:"Pingjibao, Xixia District, Yinchuan",coordinates:{lat:38.39509722222222,lon:106.01305833333333},details:{corps:"76th GA, WTC",division:"",remarks:"",phone:"",reference:`https://www.sgss8.net/tpdq/18291246/4.htm
http://www.ccgp.gov.cn/cggg/dfgg/zbgg/202105/t20210519_16305612.htm
http://www.ztgxzb.com/Html/?413353.html`}},{name:"56th CAB",type:"Heavy Combined Arms Brigade.",locationName:"Yanqiao South Road, Golmud City, Haixi Mongolian Tibetan Autonomous Prefecture, Qinghai Province",coordinates:{lat:36.17584722222222,lon:94.78227777777778},details:{corps:"76th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"62nd CAB",type:"Heavy Combined Arms Brigade",locationName:"Shuangyong Road, Jiayuguan City, Gansu Province",coordinates:{lat:39.81208611111111,lon:98.23803611111111},details:{corps:"76th GA, WTC",division:"",remarks:"Deployed Type-99A In Pangong & Spangur area in 2020",phone:"",reference:""}},{name:"149th CAB",type:"Medium Combined Arms Brigade",locationName:"Liqiao Village, Litong District, Wuzhong City, Ningxia Hui",coordinates:{lat:37.86573888888889,lon:106.10816388888888},details:{corps:"76th GA, WTC",division:"",remarks:"",phone:"",reference:"https://www.meipian.cn/26e91x3r"}},{name:"182nd CAB",type:"Light Combined Arms Brigade^",locationName:"Qujiagou, Longxi, Gansu",coordinates:{lat:34.9564,lon:104.68483611111111},details:{corps:"76th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"76th AB",type:"Artillery Brigade. ",locationName:"Yingshuiqiao, Shapotou District, Zhongwei City, Ningxia Hui Autonomous Region",coordinates:{lat:37.50233333333333,lon:105.09771944444444},details:{corps:"76th GA, WTC",division:"",remarks:"",phone:"",reference:"http://www.nxzw.gov.cn/zwgk/bmxxgkml/sfzhggwyh/fdzdgknr_49196/pzjgxx_49213/202204/t20220408_3446358.html"}},{name:"76th ADB",type:"Air Defence Brigade.",locationName:"No. 80 Qianheyan Road, Linxia City, Gansu Province",coordinates:{lat:35.586847222222225,lon:103.20077777777779},details:{corps:"76th GA, WTC",division:"",remarks:"",phone:"",reference:`http://www.gansumuseum.com/wap/news/show-2775.html
https://www.gsei.com.cn/html/1336/2019-06-21/content-240100.html
https://mp.weixin.qq.com/s/w9UmnWnP_ttCHRtCpBYiJA?fbclid=IwAR35l9_-KLlfTvk7eyKH-nYDRxSk_0E6hBwKqHQYFXd2-_YCi1bUCBeyhm0`}},{name:"76th SOB",type:"Special Operations Brigade",locationName:"Jiefang Street, Qingtongxia City, Wuzhong",coordinates:{lat:37.896819444444446,lon:106.02436944444445},details:{corps:"76th GA, WTC",division:"",remarks:"",phone:"",reference:"http://www.ccgp.gov.cn/cggg/dfgg/zbgg/202101/t20210107_15766524.htm"}},{name:"76th AAB",type:"Army Aviation Brigade",locationName:"Gonghe Town, Pingchuan District, Baiyin City, Gansu",coordinates:{lat:36.629891666666666,lon:105.00580277777777},details:{corps:"76th GA, WTC",division:"",remarks:"",phone:"",reference:"https://61.178.82.8/index.php/cms/item-view-id-193338-page-1"}},{name:"76th AAB 2",type:"Army Aviation Brigade 2",locationName:"Xiganqu, Golmud, Haixi Mongol and Tibetan Autonomous Prefecture, Qinghai",coordinates:{lat:36.383805555555554,lon:94.80296388888888},details:{corps:"76th GA, WTC",division:"",remarks:"New^",phone:"",reference:""}},{name:"76th Engg",type:"Engineering & Chemical Defence Brigade",locationName:"Xincheng Compound, Yongjun Road, Liangzhou District, Wuwei City, Gansu",coordinates:{lat:37.94640277777778,lon:102.66726666666668},details:{corps:"76th GA, WTC",division:"",remarks:"",phone:"",reference:"http://101.201.181.170:8698/qtyjcg2/26868.jhtml"}},{name:"76th SSB",type:"Service Support Brigade",locationName:"59, Bayi Road, Chengdong District, Xining City",coordinates:{lat:36.57383055555556,lon:101.85352499999999},details:{corps:"76th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"76th Hospital",type:"Group Military Hospital",locationName:"Nanchang Road, Chengguan District, Lanzhou",coordinates:{lat:36.05412222222222,lon:103.87080277777777},details:{corps:"76th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"56th Brigade^",type:"Mechanised Infantry Brigade??",locationName:"Wuweiyao County, Gansu",coordinates:{lat:36.71018055555556,lon:103.27329722222223},details:{corps:"76th GA, WTC",division:"",remarks:"Yongdeng County, Lanzhou, Gansu",phone:"",reference:`https://www.gswuwei.gov.cn/art/2017/7/5/art_98_82805.html
https://www.douyin.com/search/68303?focus_method=&enter_from=keywords_expansion&aid=961ad1f9-5512-4d41-8e9c-c0bacc1317f0&source=normal_search
`}},{name:"447th Regiment",type:"Armoured Regiment",locationName:"Chongzhou, Chengdu, Sichuan",coordinates:{lat:30.680836111111113,lon:103.65475277777779},details:{corps:"76th GA, WTC",division:"",remarks:"",phone:"",reference:`https://www.douyin.com/search/77169?aid=95a96aef-c102-4370-8d8f-0d59a14eba40&publish_time=0&sort_type=0&source=normal_search&type=general

http://bbs.tianya.cn/post-130-548021-1.shtml
https://v.qq.com/x/page/k031157v3ic.html`}},{name:"Inf Reg^",type:"Infantry Regiment^",locationName:"No. 5, Chiyu Road, Tianshui County, Qinzhou District, Tianshui City, Gansu Province",coordinates:{lat:34.56971111111111,lon:105.68379722222222},details:{corps:"76th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"61st Inf Div",type:"Infantry Division",locationName:"Tianshui, Gansu",coordinates:{lat:34.56682777777778,lon:105.67819722222222},details:{corps:"76th GA, WTC",division:"",remarks:"",phone:"",reference:`https://mapcarta.com/W744641659
https://jingyan.baidu.com/article/ff42efa9d188e0809f220260.html`}},{name:"182nd Regiment  ^",type:"Unknown",locationName:`Caoxian Township, Jingyuan County, Baiyin City, Gansu
or Longxi, Gansu.`,coordinates:{lat:36.37616111111111,lon:104.61961666666666},details:{corps:"61st Inf Div, 76th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"61 Arty Reg",type:"Unknown",locationName:"Qingtongxiazhen, Qingtongxia, Wuzhong, Ningxia",coordinates:{lat:37.88953333333333,lon:106.01295555555555},details:{corps:"61st Inf Div, 76th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"61 Armd Reg",type:"Unknown",locationName:"Wudatai, Qingtongxia, Wuzhong, Ningxia",coordinates:{lat:37.87430277777778,lon:106.0295388888889},details:{corps:"61st Inf Div, 76th GA, WTC",division:"",remarks:"Has training area",phone:"",reference:""}},{name:"19th Arty Bde",type:"Artillery Brigade",locationName:"Zhongning County, Zhongwei, Ningxia",coordinates:{lat:37.46078333333334,lon:105.68583333333333},details:{corps:"76th GA, WTC",division:"",remarks:"",phone:"",reference:"https://www.douyin.com/search/68205?aid=461c7490-cbdf-487e-bfda-cd9031790e00&publish_time=0&sort_type=0&source=normal_search&type=general"}},{name:"1st ADB",type:"Air Defence Brigade.",locationName:"Xingyang City, Zhengzhou, Henan",coordinates:{lat:34.75931666666666,lon:113.39493611111112},details:{corps:"76th GA, WTC",division:"",remarks:"",phone:"",reference:"https://www.douyin.com/search/71834?focus_method=&enter_from=keywords_expansion&aid=e4fffc40-fead-45a0-9968-4170cb564f32&source=normal_search"}},{name:"76th AB 3^",type:"Army Aviation Brigade",locationName:"Sanhe Village, Jingyuan County, Baiyin City, Gansu Province",coordinates:{lat:36.60743611111111,lon:104.72368055555556},details:{corps:"76th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"88th/90th Regiment ",type:"Bridging Regiment",locationName:"Jingyuan County, Yinyin, Gansu",coordinates:{lat:36.58336666666667,lon:104.71172222222222},details:{corps:"76th GA, WTC",division:"",remarks:"",phone:"",reference:`https://www.douyin.com/search/68221?aid=3b83fe4f-4069-445b-9499-31f660a80a84&publish_time=0&sort_type=0&source=normal_search&type=general

https://mapcarta.com/W728001497`}},{name:"Comms Unit^^",type:"Communications",locationName:"Tiantian Town, Baoji County, Shaanxi",coordinates:{lat:34.306749999999994,lon:107.46095277777778},details:{corps:"76th GA, WTC",division:"",remarks:"",phone:"",reference:`https://m.wumaow.org/tu/9201157.html
https://m.wumaow.org/tu/9201157.html`}},{name:"11th Reg",type:"Chemical Defence Regiment",locationName:"Xiaodongmen, Lintao County, Dingxi City, Gansu",coordinates:{lat:35.38255,lon:103.87314722222222},details:{corps:"76th GA, WTC",division:"",remarks:"",phone:"",reference:"https://www.douyin.com/search/68231?aid=81d05c35-63c5-491b-adda-605b89b54042&publish_time=0&sort_type=0&source=normal_search&type=general"}},{name:"77th GA",type:"Group Army",locationName:"No. 1 Yongjun Road, Chongzhou City, Chengdu City, Sichuan Province",coordinates:{lat:30.719424999999998,lon:103.52358055555555},details:{corps:"WTC",division:"",remarks:"",phone:"",reference:""}},{name:"39th CAB",type:"Medium Combined Arms Brigade^",locationName:"238, Bitong Road, Bishan District, Chongqing",coordinates:{lat:29.601372222222224,lon:106.22311666666667},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:`http://www.bishan.gov.cn/sy_241/bmjz/202203/t20220309_10481488.html
http://www.zbejmrh.cn/afjs/4771.jhtml`}},{name:"40th CAB ",type:"Mountain Combined Arms Brigade^",locationName:"Bayi Road, Tongliang District, Chongqing",coordinates:{lat:29.853305555555558,lon:106.04331666666667},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:"https://www.douyin.com/search/77283?aid=03eec787-6e3d-49e6-a891-583158ddc004&publish_time=0&sort_type=0&source=normal_search&type=general"}},{name:"55th CAB ",type:"Light Combined Arms Brigade",locationName:"Deyang Village, Deqing County, Duilong, Lhasa City, Tibet ",coordinates:{lat:29.560583333333334,lon:91.05356388888889},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:"https://www.sgss8.net/tpdq/30014131/"}},{name:"139th CAB ",type:"Heavy Combined Arms Brigade",locationName:"Jiuligeng, Shigu Town, Shifang City",coordinates:{lat:31.155458333333332,lon:104.01239722222222},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:`https://www.douyin.com/search/68302?aid=f3622d1c-5dc0-4b26-b576-06a151471352&publish_time=0&sort_type=0&source=normal_search&type=general
https://www.163.com/dy/article/FQ9AC6HT0517QMLL.html`}},{name:"139th CAB 2^",type:"CAB Base",locationName:"Fuguang Village, Longfeng Town, Pengzhou City, Chengdu City, Sichuan Province",coordinates:{lat:31.044,lon:103.83657777777778},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:"http://gk.chengdu.gov.cn/govInfoPub/detail.action?id=2401224&tn=2"}},{name:"150th CAB",type:"Light Combined Arms Brigade^",locationName:"Xiang'er Town, Dongpo District, Meishan City, Sichuan ",coordinates:{lat:30.06043888888889,lon:103.77326666666667},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:"https://www.douyin.com/search/31676?aid=d56b1c68-23ac-40c2-98b8-caa360e546e0&publish_time=0&sort_type=0&source=normal_search&type=general"}},{name:"181st CAB",type:" Medium Combined Arms Brigade",locationName:"Tonggao Village, Ganwei County, Leshan City, Sichuan Province",coordinates:{lat:29.15897222222222,lon:103.96834722222222},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:"http://sc.china.com.cn/2021/leshan_0917/419463.html"}},{name:"77th AAB ",type:"Army Aviation Brigade ",locationName:"Fenghuangshan, Jinniu District, Chengdu, Sichuan Province",coordinates:{lat:30.730180555555553,lon:104.09220555555555},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:"https://baike.baidu.com/item/%E9%82%B1%E5%85%89%E5%8D%8E/18906"}},{name:"77th AAB ",type:"Army Aviation Brigade",locationName:"Chengdu, Taipingsi ",coordinates:{lat:30.601666666666667,lon:104.01416666666667},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:"https://baike.baidu.com/item/%E9%82%B1%E5%85%89%E5%8D%8E/18906"}},{name:"77th SOB",type:"Special Operations Brigade",locationName:"Jiuligeng, Shifang City, Deyang City",coordinates:{lat:31.154899999999998,lon:104.02076666666666},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:"https://www.douyin.com/search/77110?aid=7c7a1fb1-d553-4656-aa1b-d53d1ef7e396&publish_time=0&sort_type=0&source=normal_search&type=general"}},{name:"77th AB",type:"Artillery Brigade",locationName:"Jinjiang Township, Chongzhou City, Chengdu City, Sichuan Province",coordinates:{lat:30.67288888888889,lon:103.65630277777778},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:`http://www.chongzhou.gov.cn/chongzhou/c138963/2023-02/09/content_5be00d1884c7492e82ae65d2d67e8b3e.shtml
https://www.douyin.com/search/77115?aid=f7cd01ae-7bf4-48fa-8dde-915e6726a761&publish_time=0&sort_type=0&source=normal_search&type=general`}},{name:"77th ADB",type:"Air Defence Brigade",locationName:"Jiepai Town, Anzhou District, Mianyang City, Sichuan ",coordinates:{lat:31.49435,lon:104.58700833333333},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:"https://www.sohu.com/a/332039663_120158407"}},{name:"77th SSB",type:"Service Support Brigade",locationName:"No. 168 Yongjun Road, Chongzhou City, Chengdu City, Sichuan",coordinates:{lat:30.59798611111111,lon:103.60858611111111},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:"http://101.201.181.170:8698/glxlbzjs/33262.jhtml"}},{name:"77th Engg",type:"Engineering & Chemical Defence Brigade^",locationName:"100, Qianjin Middle Road, Jiangyang District, Luzhou City, Sichuan ",coordinates:{lat:28.878144444444445,lon:105.44869444444444},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:`https://hhfocus.com/zh-cn/post/14ef56.html
https://www.lzdyzx.net/articles/12591.html`}},{name:"77th Hospital^",type:"Group Military Hospital",locationName:"Huangtu Town, Jiajiang County, Leshan City, Sichuan         ",coordinates:{lat:29.73607777777778,lon:103.58158888888889},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"77146 Artillery^",type:"Artillery Regiment",locationName:"Chongqing, Laifeng",coordinates:{lat:29.435041666666667,lon:106.1915},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:`https://baike.baidu.com/item/%E8%91%A3%E5%85%A8%E5%8B%87/7027288
https://www.sgss8.net/tpdq/16752781/4.htm`}},{name:"AD Regiment",type:"Air Defence Regiment",locationName:"Longchang County, Neijiang, Sichuan",coordinates:{lat:29.340633333333333,lon:105.29243888888888},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"40th CAB 2^",type:"CAB Base",locationName:"Yanggongqiao, Shapingba District, Chongqing",coordinates:{lat:29.56686388888889,lon:106.43219166666667},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:"https://www.douyin.com/search/77126?aid=7cd77cef-2eef-42f0-b282-39b545a86c35&publish_time=0&sort_type=0&source=normal_search&type=general"}},{name:"37th Mot Inf Div^",type:"Motorised Infantry Division",locationName:"Jiangjin District, Chongqing",coordinates:{lat:29.292236111111112,lon:106.17186666666667},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:`https://www.douyin.com/search/77126?aid=7cd77cef-2eef-42f0-b282-39b545a86c35&publish_time=0&sort_type=0&source=normal_search&type=general

http://xibaipo.com/news2007/News/jryw/1512815422349543F423GCEGB6123GK.html`}},{name:"55th Brigade^^",type:"Infantry Brigade",locationName:"No. 99, Jincheng Road, Ganzhou District, Zhangye City, Gansu ",coordinates:{lat:38.85409722222222,lon:100.39440555555557},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:`http://www.gsds.gov.cn/gongzuodongtai/20161115/0939138560787.htm
http://gsds.gov.cn/dangshixuanchuan/jiaoyujidi/20161130/143728716afef.htm`}},{name:"445th Regiment^",type:"Unclear",locationName:"Dongpo District, Meishan, Sichuan",coordinates:{lat:30.061708333333335,lon:103.77399722222222},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:`https://bus.mapbar.com/meishan/poi/$7$7$1$5$993e9OV
https://baike.baidu.com/item/%E6%9D%A8%E4%BA%9A%E8%BE%89/20726763
https://zhuanlan.zhihu.com/p/84283324`}},{name:"446th Regiment^",type:"Unclear",locationName:"Ganwei County, Leshan, Sichuan",coordinates:{lat:29.157016666666664,lon:103.96905277777778},details:{corps:"77th GA, WTC",division:"",remarks:"Quick reaction unit",phone:"",reference:`http://scxky.com/info-105.html
https://tieba.baidu.com/p/626402815?pn=4
http://b.ctocio.com.cn/b/2022/0411/29558.html`}},{name:"77th AB 2^",type:"Artillery Brigade",locationName:"Wenbi Mountain Village, Linqiong Town, Qionglai City, Chengdu",coordinates:{lat:30.385188888888887,lon:103.46600277777777},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"Recon^",type:"Reconaissance",locationName:"Jiuligeng, Shifang City, Deyang, Sichuan",coordinates:{lat:31.136930555555555,lon:103.99403055555555},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"77th SSB 2^",type:"Service Support Brigade",locationName:"Qianjin Village, Daowu County, Ganzi County, Sichuan Province",coordinates:{lat:30.986794444444445,lon:101.11458611111111},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"77th SSB 3^",type:"Service Support Brigade",locationName:"Benzhen Village, Markang County, Aba County, Sichuan Province",coordinates:{lat:31.92725,lon:102.17531111111111},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"3rd Int Bde^",type:"Intelligence & Reconaissance Brigade",locationName:"Wujiaya Village, Maiji District, Tianshui City, Gansu",coordinates:{lat:34.52213888888889,lon:105.90863611111112},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"Comms^",type:"Communications",locationName:"No. 437, Majiasi Village, Lianshang Township, Yuzhong County, Lanzhou City, Gansu ",coordinates:{lat:35.88762222222222,lon:104.02938888888889},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"Comms^",type:"Communications",locationName:"Dongjiawan Village, Yuzhong County, Lanzhou City, Gansu",coordinates:{lat:35.953875000000004,lon:104.02948055555555},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"3rd ECM",type:"Electronic Counter Measures Brigade",locationName:"Mancheng Village, Chengguan Town, Yongdeng County, Lanzhou City, Gansu",coordinates:{lat:36.673586111111106,lon:103.291525},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"31684^",type:"Unknown",locationName:"Lintao County, Dingxi City, Gansu",coordinates:{lat:35.38166944444445,lon:103.8484611111111},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:`https://m.sgss8.net/tpdq/21342435/4.htm
https://m.thepaper.cn/baijiahao_14197394`}},{name:"31688^",type:"Unknown",locationName:"Honggu District, Lanzhou",coordinates:{lat:36.33839444444445,lon:102.81421666666667},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"Unknown",type:"Unknown",locationName:"Damxung County, Lhasa, Tibet",coordinates:{lat:30.512027777777778,lon:91.09464722222222},details:{corps:"WTC",division:"",remarks:"Perhaps units belonging to Damxung airbase",phone:"",reference:""}},{name:"Tibet Military Region",type:"HQ",locationName:"No. 4 Jiangsu Road, Chengguan District, Lhasa City, Tibet\r",coordinates:{lat:29.647777777777776,lon:91.12205277777777},details:{corps:"WTC",division:"",remarks:"",phone:"",reference:""}},{name:"52nd CAB",type:"Mountains Motorised Combined Arms Brigade",locationName:"No. 69, Shuangyong North Road, Bayi Town, Bayi District, Nyingchi City, Tibet Autonomous Region",coordinates:{lat:29.6755,lon:94.35816666666666},details:{corps:"TMR, WTC",division:"",remarks:"Xth Synthetic Brigade?",phone:"184 8922 9273",reference:`https://www.bidcenter.com.cn/newscontent-120187929-1.html
https://tieba.baidu.com/p/4420035759
https://www.baidu.com/video/page?pd=video_page&nid=9275815794159202115&sign=7703775375477914436&word=77675%E9%83%A8%E9%98%9F%E7%AE%80%E4%BB%8B&oword=77675%E9%83%A8%E9%98%9F%E7%AE%80%E4%BB%8B&atn=index&frsrcid=4185&ext=%7B%22jsy%22%3A1%7D&top=%7B%22sfhs%22%3A1%2C%22_hold%22%3A2%7D&sl=4&fr0=A&fr1=A&lid=9805991580357478356&referlid=9805991580357478356&ms=1&frorder=2&_t=1705842278977
https://www.douyin.com/search/77675%E9%83%A8%E9%98%9F%E7%AE%80%E4%BB%8B71%E5%88%86%E9%98%9F
https://mil.sohu.com/a/743983091_121161787
https://v.youku.com/v_show/id_XNDk1NTg4NTc3Mg==.html?ivk_sa=1024320u
https://baijiahao.baidu.com/s?id=1752920382486338932&wfr=spider&for=pc
`}},{name:"1st Battalion^",type:"Infantry Battalion",locationName:"Bujiu village, Linzhi County",coordinates:{lat:29.74919722222222,lon:94.25805555555556},details:{corps:"52nd CAB, TMR, WTC",division:"",remarks:"",phone:"",reference:"https://forceindia.net/feature-report/chinas-unceasing-build-up/"}},{name:"2nd Battalion",type:"Infantry Battalion",locationName:"Yongjiu, Bayi District, Nyingchi, Tibet",coordinates:{lat:29.59826111111111,lon:94.35974999999999},details:{corps:"52nd CAB, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"3rd Battalion",type:"Infantry Battalion",locationName:"Yongjiu, Bayi District, Nyingchi, Tibet",coordinates:{lat:29.609625,lon:94.35628888888888},details:{corps:"52nd CAB, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"4th Battalion^",type:"Infantry Battalion",locationName:"Bujiu Town, Bayi District, Nyingchi, Tibet",coordinates:{lat:29.56855,lon:94.47464444444445},details:{corps:"52nd CAB, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"Artillery Regiment",type:"Artillery Regiment",locationName:"Nixi cun, Linzhi County",coordinates:{lat:29.75079722222222,lon:94.2476361111111},details:{corps:"52nd CAB, TMR, WTC",division:"",remarks:"",phone:"",reference:`https://www.douyin.com/video/7115387482400689411  
https://www.douyin.com/search/77678?source=normal_search&aid=ef41e2cf-cd40-4be0-ae66-f359d6ebfed2&enter_from=video_detail&focus_method=&ug_source=seo_topic_aggr&gid=7073650222299221286`}},{name:"53rd CAB",type:"High Mobility Combined Arms Brigade",locationName:"Zedang Town, Naidong County, Shannan Region, Tibet",coordinates:{lat:29.198094444444443,lon:91.75875277777777},details:{corps:"TMR, WTC",division:"",remarks:"Art Reg: 1100 troops, Inf Bt: 700 Troops",phone:"18189945249",reference:`http://101.201.181.170:8698/gl0xlbzjs/6522.jhtml
http://m.glocean.cn/product/719.html
https://www.sgss8.net/tpdq/29003448/
http://www.ccgp.gov.cn/cggg/dfgg/jzxcs/201809/t20180930_10817778.htm`}},{name:"1st Battalion^",type:"Infantry Battalion",locationName:"Wolong village, Linzhi City, Milin County",coordinates:{lat:29.119594444444445,lon:93.71302222222222},details:{corps:"53rd CAB, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"2nd Battalion",type:"Infantry Battalion",locationName:"Gangga village, Linzhi County",coordinates:{lat:28.58093611111111,lon:86.61666388888888},details:{corps:"53rd CAB, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"3rd Battalion^",type:"Infantry Battalion",locationName:"Linzhi County",coordinates:{lat:29.297844444444447,lon:94.33718611111111},details:{corps:"53rd CAB, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"4th Battalion",type:"Infantry Battalion",locationName:"Wolong village, Linzhi City, Milin County",coordinates:{lat:29.12699166666667,lon:93.70255555555556},details:{corps:"53rd CAB, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"Artillery Regiment",type:"Unknown",locationName:"Jiage village, Linzhi City, Milin County",coordinates:{lat:29.099094444444443,lon:93.43720833333333},details:{corps:"53rd CAB, TMR, WTC",division:"",remarks:"",phone:"",reference:`https://ly.scol.com.cn/thread?tid=2733770&fid=1775
http://www.udxd.com/news/show-93444.html`}},{name:"54th CAB^",type:"Heavy Combined Arms Brigade",locationName:"Dongga Bridge, Duilongdeqing County, Lhasa",coordinates:{lat:29.62827777777778,lon:90.99880555555556},details:{corps:"TMR, WTC",division:"",remarks:"Old HQ",phone:"",reference:`http://china-defense.blogspot.com/2009/10/54th-independent-infantry-regiment-unit.html
 https://china-defense.blogspot.com/2019/01/pla-unit-of-day-54th-mechanized-brigade.html
http://inews.ifeng.com/mip/47436932/news.shtml
https://www.youbianku.com/%e4%b8%ad%e5%9b%bd%e9%82%ae%e6%94%bf%e9%9b%86%e5%9b%a2%e5%85%ac%e5%8f%b8%e8%a5%bf%e8%97%8f%e8%87%aa%e6%b2%bb%e5%8c%ba%e5%a0%86%e9%be%99%e5%be%b7%e5%ba%86%e5%8c%ba77625%e9%83%a8%e9%98%9f%e9%82%ae%e6%94%bf%e4%bb%a3%e5%8a%9e%e6%89%80`}},{name:"54th CAB 1^",type:"Heavy Combined Arms Brigade",locationName:"Youtang, Gyantse County, Shigatse Prefecture",coordinates:{lat:28.874566666666666,lon:89.54395277777778},details:{corps:"TMR, WTC",division:"",remarks:"New HQ",phone:"",reference:`https://twitter.com/isekaimint/status/1604804942392266752?s=20&t=ldpacTvx07XWfw52tUKAew
https://weibo.com/6507792755/K2QSwc10e?type=comment
https://m.163.com/dy/article/HOOG46AG05534CXZ.html
https://www.thepaper.cn/newsDetail_forward_23473853
https://weibo.com/5333863259/MjQW3bLi6`}},{name:"85th SO Brigade",type:"Special Operations Brigade",locationName:"No. 6, Luding Middle Road, Chengguan District, Lhasa City, Tibet",coordinates:{lat:29.654319444444443,lon:91.08332777777777},details:{corps:"TMR, WTC",division:"",remarks:"",phone:"",reference:`http://www.21hubei.net/view/25-218149.html
https://www.ruipinad.com/article/3852127.html`}},{name:"85th AAB",type:"Army Aviation Brigade",locationName:"Sangda Village, Deqing County, Duilong, Lhasa City, Tibet",coordinates:{lat:29.591124999999998,lon:91.02275},details:{corps:"TMR, WTC",division:"",remarks:"",phone:"",reference:`https://www.aboluowang.com/2020/0523/1455023.html
https://www.bjlhcq.com/Requirement/?id=61585`}},{name:"85th AAB 2^",type:"Army Aviation Brigade",locationName:"Guoruo Village, Bayi District, Nyingchi Region, Tibet",coordinates:{lat:29.560833333333335,lon:94.47076111111112},details:{corps:"TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"85th Artillery Brigade",type:"Artillery Brigade",locationName:"No. 1, Zijiao Lin Road, Chengguan District, Lhasa City, Tibet",coordinates:{lat:29.629630555555558,lon:91.13694166666667},details:{corps:"TMR, WTC",division:"",remarks:"",phone:"",reference:"https://www.touqikan.com/bgzd/507495.html"}},{name:"85th AD Brigade",type:"Air Defense Brigade",locationName:"Luding North Road, Lhasa City, Tibet Autonomous Region",coordinates:{lat:29.679830555555558,lon:91.08260277777778},details:{corps:"TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"85th Engg Brigade",type:"Engineer and Chemical Defence Brigade",locationName:"Jinzhu West Road, Chengguan District, Lhasa City, Tibet",coordinates:{lat:29.644927777777777,lon:91.04136388888888},details:{corps:"TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"85th Engg Brigade 2^",type:"Vehicle Depot",locationName:"No. 137, Jina, Gongga County, Shannan Region, Tibet",coordinates:{lat:29.316077777777778,lon:90.74172777777778},details:{corps:"TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"85th Engg Brigade 3^",type:"Vehicle Depot",locationName:"Daga Township, Qushui County, Lhasa City, Tibet",coordinates:{lat:29.358083333333333,lon:90.70990555555557},details:{corps:"TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"7th ECM Brigade^",type:"Electronic Counter Measures Brigade",locationName:"Caigongtang Township, Chengguan District, Lhasa City, Tibet",coordinates:{lat:29.638188888888887,lon:91.21623055555555},details:{corps:"TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"Comms Unit^",type:"Communications",locationName:"No. 5 Luding South Road, Doilungdeqing County, Lhasa City, Tibet",coordinates:{lat:29.651555555555554,lon:91.08258611111111},details:{corps:"TMR, WTC",division:"",remarks:"",phone:"",reference:"http://101.201.181.170:8698/glxlbzjs/17068.jhtml"}},{name:"1st (I) Inf Battalion^",type:"Infantry Battalion",locationName:"Shigatse City , Gyantse",coordinates:{lat:28.92772777777778,lon:89.60071666666666},details:{corps:"TMR, WTC",division:"",remarks:"700 troops. Gyantse",phone:"",reference:""}},{name:"2nd (I) Inf Battalion",type:"Infantry Battalion",locationName:"Shigatse City, Gangba County",coordinates:{lat:28.916822222222223,lon:89.53775277777778},details:{corps:"TMR, WTC",division:"",remarks:"700 troops. Gangba.",phone:"",reference:"https://www.orfonline.org/research/pla-joint-exercises-in-tibet-implications-for-india-61735/"}},{name:"3rd (I) Inf Battalion",type:"Infantry Battalion",locationName:"Beibeng Township, Medog County",coordinates:{lat:29.244144444444444,lon:95.1686888888889},details:{corps:"TMR, WTC",division:"",remarks:"700 troops. Medog County,",phone:"",reference:""}},{name:"4th (I) Inf Battalion",type:"Infantry",locationName:"30, Mainling, Nyingchi, Tibet",coordinates:{lat:29.181711111111113,lon:94.19773055555557},details:{corps:"TMR, WTC",division:"",remarks:"700 troops.",phone:"",reference:"https://www.vifindia.org/article/2015/september/18/china-s-focus-on-military-activities-in-tibet"}},{name:"5th (I) Inf Battalion",type:"Infantry",locationName:"Shannan City, Luoza County",coordinates:{lat:"",lon:""},details:{corps:"TMR, WTC",division:"",remarks:"700 troops. Luoza County ",phone:"",reference:""}},{name:"Medog Garrison",type:"Infantry",locationName:"Medog County",coordinates:{lat:29.320069444444446,lon:95.3222},details:{corps:"TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"308th (I) Artillery Brigade^",type:"Artillery Brigade",locationName:"Lhasa",coordinates:{lat:29.648055555555555,lon:91.05074166666667},details:{corps:"TMR, WTC",division:"",remarks:"",phone:"",reference:"https://www.hongze.net/archiver/?tid-1287692.html"}},{name:"15th Engineering Brigade^",type:"Engineering Brigade",locationName:"Dazi, Lhasa",coordinates:{lat:29.84126388888889,lon:91.4663},details:{corps:"TMR, WTC",division:"",remarks:"",phone:"",reference:"https://ccasindia.org/issue_policy.php?ipid=36"}},{name:"651 (I) AD Brigade^",type:"Air Defence Brigade",locationName:"Bayi District, Nyingchi, Tibet",coordinates:{lat:29.68781111111111,lon:94.35932777777778},details:{corps:"TMR, WTC",division:"",remarks:"",phone:"",reference:"http://trishul-trident.blogspot.com/2020/05/plagf-high-altitude-plateau-warfare.html"}},{name:"351st BDR",type:"Border Defence Regiment",locationName:"Zayu, Nyingchi , Tibet ",coordinates:{lat:28.66054722222222,lon:97.462175},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:"https://www.bilibili.com/video/BV1Ag4y18784/"}},{name:"352nd BDR",type:"Border Defence Regiment",locationName:"Nyingchi, Motuo Beibeng ",coordinates:{lat:29.32828611111111,lon:95.32808333333332},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:"https://satellites.pro/China_map#29.324112,95.325751,16"}},{name:"353rd BDR",type:"Border Defence Regiment",locationName:"Nanyi Village, Milin County, Nyingchi, Tibet ",coordinates:{lat:29.169880555555558,lon:94.2005638888889},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:`https://v.ifeng.com/c/fc148b01-3490-4c80-b459-adb3049b8005  
https://m.thepaper.cn/baijiahao_11489945`}},{name:"354th BDR",type:"Border Defence Regiment",locationName:"Xiegu, Longzi County, Shannan Region, Tibet",coordinates:{lat:28.559569444444445,lon:92.82506944444444},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:"http://www.qqbm.net/xizang/longzixian/1445345.html"}},{name:"355th BDR",type:"Border Defence Regiment",locationName:"Quzhuomu Township, Kunna Town, Kunna County, Shannan",coordinates:{lat:28.258125,lon:91.76790277777778},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:`https://mil.news.sina.com.cn/2020-09-10/doc-iivhuipp3580765.shtml

https://mil.news.sina.com.cn/2020-09-11/doc-iivhuipp3776631.shtml
https://twitter.com/JosephWen___/status/1635885236138700800`}},{name:"356th BDR",type:"Border Defence Regiment",locationName:" No. 7, Chengdong Road, Yadong County, Shigatse City",coordinates:{lat:27.48828888888889,lon:88.90635277777778},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:"http://www.ccgp.gov.cn/cggg/dfgg/zbgg/202011/t20201101_15344591.htm"}},{name:"357th BDR^",type:"Border Defence Regiment",locationName:"Jiangga, Dingjie County, Shigatse",coordinates:{lat:28.364755555555558,lon:87.77429444444445},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"358th BDR",type:"Border Defence Regiment",locationName:"Saga County, Shigatse, Tibet",coordinates:{lat:29.326416666666667,lon:85.23346666666667},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:"http://101.201.181.170:8698/glxlbzjs/26544.jhtml"}},{name:"351 Tsamshu  BDR Base^",type:"Border Defence Regiment",locationName:"Xiachayu, Zayu, Nyingchi, Tibet",coordinates:{lat:28.52175833333333,lon:96.99725555555555},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:"https://www.bilibili.com/video/BV1Ag4y18784/"}},{name:"351 Shangzayu BDR Base",type:"Border Defence Regiment",locationName:"Shangzayu, Zayu, Nyingchi, Tibet",coordinates:{lat:28.721719444444442,lon:96.77649166666667},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:"https://www.bilibili.com/video/BV1Ag4y18784/"}},{name:"355 Puma Jiangtang Base^",type:"Border Defence Regiment Post",locationName:"Puma Jiangtang Township",coordinates:{lat:28.608083333333333,lon:90.19726944444444},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:"https://www-js7tv-cn.translate.goog/news/202007_225033.html?_x_tr_sch=http&_x_tr_sl=zh-CN&_x_tr_tl=en&_x_tr_hl=en&_x_tr_pto=sc"}},{name:"356 Zhanniangshe Base",type:"Border Defence Regiment Post",locationName:"Yadong County, Shigatse",coordinates:{lat:27.384230555555554,lon:88.86366666666666},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:"http://www.27zixun.com/junxiao/63225.html"}},{name:"355 Nyeru Base^",type:"Border Defence Regiment Post",locationName:"Nyeru Township, Kangmar County, Shigatse",coordinates:{lat:28.525463888888886,lon:89.85341388888888},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"355 Zhari Base",type:"Border Defence Regiment Post",locationName:"Zhari Township, Lhozhag County, Shannan",coordinates:{lat:28.368675,lon:90.65183611111112},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"355 Lakang Base",type:"Border Defence Regiment Post",locationName:"Lakang, Ndong District, Shannan, Tibet",coordinates:{lat:29.375819444444446,lon:91.83065833333333},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"355 Shengge Base",type:"Border Defence Regiment Post",locationName:"Shenggecun, Lhozhag County, Shannan",coordinates:{lat:28.193233333333332,lon:91.01006666666666},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"355 Sexiang Base",type:"Border Defence Regiment Post",locationName:"Sexiang Bianba Township, Lhozhag County, Shannan",coordinates:{lat:28.186805555555555,lon:90.82403333333333},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"357 Changlong Base^",type:"Border Defence Regiment Post",locationName:"Changlongxiang, Kamba County, Shigatse, Tibet",coordinates:{lat:28.20079722222222,lon:88.31979166666666},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"357 Sa'erxiang Base^",type:"Border Defence Regiment Post",locationName:"Sa'erxiang, Dinggy County, Shigatse, Tibet",coordinates:{lat:28.19686388888889,lon:87.74215833333334},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"357 Gangga Base^",type:"Border Defence Regiment Post",locationName:"Gangga Town, Tingri County, Shigatse, Tibet",coordinates:{lat:28.58167222222222,lon:86.61557499999999},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"357 Dingka Base^",type:"Border Defence Regiment Post",locationName:"Dingka, Namling County, Shigatse, Tibet",coordinates:{lat:29.908288888888887,lon:89.10888333333332},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"357 Takexun Base^",type:"Border Defence Regiment Post",locationName:"Takexun, Kamba County, Shigatse, Tibet",coordinates:{lat:28.212430555555557,lon:88.79011944444444},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"357 Chaguola Base^",type:"Border Defence Regiment Post",locationName:"Chaguola, Yadong County, Shigatse, Tibet",coordinates:{lat:28.07648888888889,lon:88.92293333333333},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"358 Gyirong Base^",type:"Border Defence Regiment Post",locationName:"Gyirong County, Shigatse, Tibet",coordinates:{lat:28.853519444444444,lon:85.29812222222222},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"354 Lhunze Base^",type:"Border Defence Regiment Post",locationName:"Lhunze, Shannan, Tibet",coordinates:{lat:"",lon:""},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"355 Cuona Base^",type:"Border Defence Regiment Post",locationName:"Cuona, Shannan",coordinates:{lat:28.00026111111111,lon:91.95931944444445},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"357 Tingri Base^",type:"Border Defence Regiment Post",locationName:"Shigatse City, Tingri County",coordinates:{lat:28.656455555555553,lon:87.1300111111111},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"355 Yadong Base^",type:"Border Defence Regiment Post",locationName:"Shigatse City, Yadong County",coordinates:{lat:27.50291111111111,lon:88.90062222222222},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"358 Zhongba Base^",type:"Border Defence Regiment Post",locationName:"Zhongba County, Shigatse, Tibet",coordinates:{lat:29.77791388888889,lon:84.03378333333333},details:{corps:"BDR, TMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"Military Camp^",type:"Unknown base",locationName:"Qieluoguo, Kamba County, Shigatse, Tibet",coordinates:{lat:28.23988611111111,lon:88.34954444444443},details:{corps:"WTC",division:"",remarks:"Xigatse Military Subdistrict ",phone:"",reference:`https://duckduckgo.com/?q=Gyantse&t=brave&ia=web&iaxm=maps&strict_bbox=0&bbox=29.10114088457032%2C93.43429189727851%2C29.096533236802806%2C93.44244581268379 
 
https://twitter.com/isekaimint/status/1612945589578113025?s=20&t=Xj5v0fyiHF5RR232AFNxOg%C2%A0

https://www.js7tv.cn/video/202301_293868.html`}},{name:"Duinaxiang^",type:"Unknown base",locationName:"Yadong County, Shigatse, Tibe",coordinates:{lat:28.022480555555553,lon:89.20392222222223},details:{corps:"WTC",division:"",remarks:"Semi-permanent base set up during Doklam standoff in 2017",phone:"",reference:"https://apps.sentinel-hub.com/eo-browser/?zoom=16&lat=28.02129&lng=89.20555&themeId=DEFAULT-THEME&visualizationUrl=https%3A%2F%2Fservices.sentinel-hub.com%2Fogc%2Fwms%2F42924c6c-257a-4d04-9b8e-36387513a99c&datasetId=S2L1C&fromTime=2017-10-17T00%3A00%3A00.000Z&toTime=2017-10-17T23%3A59%3A59.999Z&layerId=1_TRUE_COLOR&demSource3D=%22MAPZEN%22"}},{name:"Xinjiang Military Region HQ^",type:"HQ",locationName:"No. 137, Qingnian Road, Urumqi City, Xinjiang",coordinates:{lat:44.14675833333333,lon:87.88251944444444},details:{corps:"WTC",division:"",remarks:"90000 troops",phone:"",reference:""}},{name:"4th Inf Div",type:"Motorised Infantry Division",locationName:"Shengli Road, Kuche County, Aksu Region, Xinjiang ",coordinates:{lat:41.719255555555556,lon:82.96632222222223},details:{corps:"XMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"11th Reg",type:"Infantry Regiment",locationName:"Qianjin Road, Aksu City, Aksu Region, Xinjiang",coordinates:{lat:41.18151111111111,lon:80.25838333333333},details:{corps:"4th Div, XMR, WTC",division:"",remarks:"Has large training area",phone:"",reference:`http://www.27zixun.com/junxiao/63224.html
https://www.meipian.cn/3q4qgp8p`}},{name:"12th Reg",type:"Infantry Regiment",locationName:"Lanshan Community, Luntai County, Bazhou, Xinjiang",coordinates:{lat:41.79864444444444,lon:84.28526388888889},details:{corps:"4th Div, XMR, WTC",division:"",remarks:"Has large training area",phone:"",reference:"https://www.dianlanbao.com/news-4/5720.html"}},{name:"^ Artillery Reg",type:"Artillery Regiment",locationName:"Shuangyong Road, Baicheng County, Aksu Region, Xinjiang",coordinates:{lat:41.8138,lon:81.82228888888889},details:{corps:"4th Div, XMR, WTC",division:"",remarks:"Has large training area",phone:"",reference:`https://zhidao.baidu.com/question/542668770.html
https://www.sgss8.net/tpdq/28643045/`}},{name:"AD Reg",type:"Air Defence Regiment",locationName:"Yongjun Road, Kuche County, Aksu Region, Xinjiang",coordinates:{lat:41.72448055555556,lon:82.98030833333334},details:{corps:"4th Div, XMR, WTC",division:"",remarks:"Has large training area",phone:"",reference:"https://www.sgss8.net/tpdq/20659981/"}},{name:"Armour Reg",type:"Armoured Regiment",locationName:"Unity East Road, Hejing County, Bayingoleng ",coordinates:{lat:42.31755833333334,lon:86.39065555555557},details:{corps:"4th Div, XMR, WTC",division:"",remarks:"",phone:"",reference:"https://www.inrrp.com.cn/html/fceec93ccee5d2a9.html"}},{name:"6th Inf Div",type:"Mechanised Infantry Division",locationName:"No. 6 Xincheng Road, Shache County, Kashgar, Xinjiang",coordinates:{lat:38.41730833333333,lon:77.23838611111111},details:{corps:"XMR, WTC",division:"",remarks:`Highland Mechanised Infantry Division 
( 69211, 69212, 69213, 69214)`,phone:"",reference:"https://www.inrrp.com.cn/html/c98835a90783ed01.html"}},{name:"17th Reg",type:"Mechansied Infantry Regiment^",locationName:"Hotan City, Xinjiang Uygur Autonomous Region",coordinates:{lat:37.165825,lon:79.86478888888888},details:{corps:"6th Div, XMR, WTC",division:"",remarks:"",phone:"",reference:`https://bbs.zhulong.com/101010_group_678/detail9123054/
https://www.sgss8.net/tpdq/28643045/1.htm`}},{name:"18th Reg",type:"Mechansied Infantry Regiment",locationName:"No. 9, Kuonabaza Road, Shule County, Kashgar City",coordinates:{lat:39.41271666666667,lon:76.05633333333333},details:{corps:"6th Div, XMR, WTC",division:"",remarks:"",phone:"",reference:"https://www.sgss8.net/tpdq/27528225/"}},{name:"21st Arm Reg",type:"Armoured Regiment",locationName:"Menglote Road, Yecheng County, Kashgar Region, Xinjiang Uygur Autonomous Region",coordinates:{lat:37.82718611111112,lon:77.44825},details:{corps:"6th Div, XMR, WTC",division:"",remarks:"",phone:"",reference:`http://www.chinaqking.com/yc/2019/1538819.html

https://www.sgss8.net/tpdq/16995393/`}},{name:"Arty Reg",type:"Artillery Regiment",locationName:"No. 11, Wenhua Road, Shule County, Kashgar Region",coordinates:{lat:39.40735,lon:76.03836944444444},details:{corps:"6th Div, XMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"AD Reg^",type:"Air Defence Regiment",locationName:"Yarkant County, Kashgar Prefecture, Xinjiang",coordinates:{lat:38.42284444444444,lon:77.24926666666667},details:{corps:"6th Div, XMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"6th IR BDE^",type:"Intelligence and Reconnaissance Brigade ",locationName:"Ulabo, Dabancheng District, Urumqi City, Xinjiang ",coordinates:{lat:43.563761111111106,lon:87.70719444444445},details:{corps:"XMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"6th IS BDE 2^",type:"Information Security Brigade",locationName:"Cangfanggou Middle Road, Shayibake District, Urumqi City",coordinates:{lat:43.74642222222222,lon:87.54568333333333},details:{corps:"XMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"6th IS BDE 3^",type:"Information Security Brigade",locationName:"Cangfanggou East Road, Shayibake District, Urumqi City",coordinates:{lat:43.74398888888889,lon:87.57202222222222},details:{corps:"XMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"6th ECM Bde",type:"Eelectronic Counter Measures Brigade",locationName:"Beijing North Road, Xinshi District, Urumqi City, Xinjiang ",coordinates:{lat:43.90338055555556,lon:87.53035},details:{corps:"XMR, WTC",division:"",remarks:"",phone:"",reference:"https://mp.weixin.qq.com/s?__biz=MzIwNDUyOTIxMQ==&mid=2247487579&idx=2&sn=46d5f8ebbdcf6b49aaf5b54dd9279cef&chksm=973f9b0fa04812191df4386201a5dd20e79cf0acd2bf68ac4bb22e0539bc2df2b2d337e695f7&scene=27"}},{name:"8th Inf Div^",type:"Motorised Infantry Division",locationName:" No. 27, Beijing East Road, Wusu City, Tacheng Region, Xinjiang",coordinates:{lat:44.42393055555555,lon:84.86025},details:{corps:"XMR, WTC",division:"",remarks:`12th Border Defence Regiment (Tawang)?\r
13th Border Defence Regiment?`,phone:"",reference:""}},{name:"22nd Inf Reg",type:"Motorised Infantry Regiment",locationName:"Shaoshan Road, Dushanzi District, Karamay City, Xinjiang ",coordinates:{lat:44.340386111111115,lon:84.87426944444444},details:{corps:"8th Div, XMR, WTC",division:"",remarks:"Has large training area",phone:"",reference:"https://www.sgss8.net/tpdq/28642949/3.htm"}},{name:"24th Inf Reg",type:"Motorised Infantry Regiment",locationName:"Yinyan Road, Shihezi City, Xinjiang Uygur Autonomous Region",coordinates:{lat:44.31475,lon:86.12147499999999},details:{corps:"8th Div, XMR, WTC",division:"",remarks:"Has small training area",phone:"",reference:"https://bus.cncn.com/shihezi/z_69233%B2%BF%B6%D3"}},{name:"162nd Arty Reg",type:"Artillery Regiment",locationName:"Jinshan Road, Shawan County, Tacheng Region, Xinjiang",coordinates:{lat:44.316575,lon:85.6022111111111},details:{corps:"8th Div, XMR, WTC",division:"",remarks:"Sandaohezi Town, Shawan County",phone:"",reference:"http://m.27zixun.com/bingzhong/29213.html"}},{name:"AD Reg^",type:"Air Defence Regiment",locationName:"Beijing West Road, Kuitun City, Ili Kazakh Autonomous Prefecture, Xinjiang ",coordinates:{lat:44.427788888888884,lon:84.69139444444446},details:{corps:"8th Div, XMR, WTC",division:"",remarks:"",phone:"",reference:`https://www.wumaow.org/tu/10405835.html
https://www.wumaow.org/tu/10390624.html`}},{name:"Armd Reg",type:"Armoured Regiment",locationName:"Xinhua Road, Shawan County, Tacheng Region, Xinjiang ",coordinates:{lat:44.317550000000004,lon:85.59591944444443},details:{corps:"8th Div, XMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"11th Inf Div^",type:"Motorised Infantry Division",locationName:"No. 116, Beijing South Road, Urumqi, Xinjiang",coordinates:{lat:43.81971111111111,lon:87.55732499999999},details:{corps:"XMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"31st Reg",type:"Infantry Regiment",locationName:"Wuqi Road, Jimusar County, Changji Hui Autonomous Prefecture, Xinjiang ",coordinates:{lat:43.99466388888889,lon:89.13589166666668},details:{corps:"11th Div, XMR, WTC",division:"",remarks:"Has large training area",phone:"",reference:`https://www.wumaow.org/tu/10638421.html
http://www.mod.gov.cn/gfbw/gfjy_index/rdtp_214140/4882418.html
https://www.ixigua.com/7071217444970299936?logTag=b32bfb703be5ecd034ca`}},{name:"32nd Reg",type:"Infantry Regiment",locationName:"312, Gaochang District, Turpan City, Xinjiang",coordinates:{lat:42.971833333333336,lon:89.19092500000001},details:{corps:"11th Div, XMR, WTC",division:"",remarks:"Has large training area",phone:"",reference:`https://v.qq.com/x/page/30OnhdGxtoG.html
https://m.fx361.com/news/2020/1222/15221330.html`}},{name:"Arty Reg",type:"Artillery Regiment",locationName:"No. 39 Beiwan Street, Tianshan District, Urumqi, Xinjiang",coordinates:{lat:43.77605,lon:87.63335833333333},details:{corps:"11th Div, XMR, WTC",division:"",remarks:"Has large training area",phone:"",reference:""}},{name:"AD Reg",type:"Air Defence Regiment",locationName:"Shangda Road Village, Fukang City, Changji Hui Autonomous Prefecture, Xinjiang",coordinates:{lat:44.14148888888889,lon:88.0312},details:{corps:"11th Div, XMR, WTC",division:"",remarks:"Has small training area",phone:"",reference:"https://www.sohu.com/a/159261836_772558"}},{name:"4th transport brigade",type:"Unknown",locationName:"Xieyitilike, Kargilik County, Kashgar Prefecture, Xinjiang",coordinates:{lat:37.86965,lon:77.47219722222222},details:{corps:"XMR",division:"",remarks:"LJ90605",phone:"",reference:"https://www.facebook.com/photo/?fbid=6171062199673797&set=pcb.6583562011654579"}},{name:"2nd Arty Bde",type:"Artillery Brigade",locationName:" Xishan Road, Shayibak District, Urumqi, Xinjiang ",coordinates:{lat:43.80421944444444,lon:87.54214166666667},details:{corps:"XMR, WTC",division:"",remarks:"",phone:"",reference:"http://www.cgpnews.cn/articles/39681"}},{name:"13th (I) AD Bde",type:"Air Defence Brigade",locationName:"No.2, East Hot Spring Road, Urumqi, Xinjiang ",coordinates:{lat:43.82510555555556,lon:87.69627777777778},details:{corps:"XMR, WTC",division:"",remarks:"Female soldiers in SAM units",phone:"",reference:`http://www.mod.gov.cn/gfbw/gfjy_index/xjdx/4906434.html
https://www.wumaow.org/tu/10104888.html
`}},{name:"13th (I) AD Bde 2^",type:"Air Defence Brigade",locationName:"Liudaowan, Shuimagou District, Urumqi",coordinates:{lat:43.82872777777778,lon:87.64041944444445},details:{corps:"XMR, WTC",division:"",remarks:"",phone:"",reference:`http://www.mod.gov.cn/gfbw/gfjy_index/xjdx/4906434.html
https://www.wumaow.org/tu/10104888.html`}},{name:"84th SOB ",type:"Special Operations Brigade ",locationName:"397 Yingbin Avenue, Kashgar City ",coordinates:{lat:43.80215555555555,lon:87.56365833333334},details:{corps:"XMR, WTC",division:"",remarks:"",phone:"",reference:`https://m.sohu.com/n/443251554/
http://www.tezhanjidi.com/tzbd/part/20190813492.html`}},{name:"84th ECB",type:"Engineering & Chemical Defence Brigade",locationName:"No. 100 Boge da Road, Tianshan District, Wushi, Xinjiang",coordinates:{lat:43.75919444444445,lon:87.65656944444444},details:{corps:"XMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"84th AAv Bde",type:"Army Aviation Brigade",locationName:"Maoqian Village, Changji City, Changji Hui Autonomous Prefecture, Xinjiang",coordinates:{lat:44.115033333333336,lon:87.46026944444445},details:{corps:"XMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"84th AAv Bde 2",type:"Army Aviation Brigade",locationName:"Yangdamanxiang, Shule County, Kashgar Prefecture, Xinjiang",coordinates:{lat:39.395738888888886,lon:76.19229444444444},details:{corps:"XMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"1st (I) Reg",type:"Infantry Regiment",locationName:"No. 146, Wuxing North Road, Shuimogou District, Urumqi, Xinjiang",coordinates:{lat:43.820925,lon:87.63501388888889},details:{corps:"XMR, WTC",division:"",remarks:"",phone:"",reference:"https://www.sgss8.net/tpdq/16920628/"}},{name:"2nd (I) Reg",type:"Infantry Regiment",locationName:"No. 376, Tianshan East Road, Kuche County",coordinates:{lat:41.7057,lon:83.00249166666667},details:{corps:"XMR, WTC",division:"",remarks:"",phone:"",reference:"https://www.skxox.com/20190419/1010400058.html"}},{name:"2nd CDR",type:"Chemical Defence Regiment",locationName:"No. 146, Wuxing North Road, Shuimogou District,",coordinates:{lat:43.822275000000005,lon:87.63822777777779},details:{corps:"XMR, WTC",division:"",remarks:"With 1st (I) Reg 69009,",phone:"",reference:"https://zh.wikipedia.org/zh-hans/%E9%99%86%E5%86%9B%E9%98%B2%E5%8C%96%E7%AC%AC%E4%BA%8C%E5%9B%A2"}},{name:"6th Information Assurance Brigade",type:"Intelligence",locationName:"Wenquan East Road, Shuimogou District, Urumqi",coordinates:{lat:43.826191666666666,lon:87.69421111111112},details:{corps:"XMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"Engg^",type:"Boat & Bridging",locationName:"Kupu Aila Huojiamu, Kashgar, Kashgar Prefecture, Xinjiang",coordinates:{lat:39.532725,lon:75.98587500000001},details:{corps:"XMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"Unknown",type:"Unknown",locationName:"Yawuleke, Kashgar, Kashgar Prefecture, Xinjiang",coordinates:{lat:39.576236111111115,lon:75.96197500000001},details:{corps:"XMR, WTC",division:"",remarks:"Semi-permanent base",phone:"",reference:""}},{name:"Unknown",type:"Unknown",locationName:"Artux, Kizilsu Kyrgyz Autonomous Prefecture, Xinjiang",coordinates:{lat:39.63588055555555,lon:75.97426944444445},details:{corps:"XMR, WTC",division:"",remarks:"Perhaps BDR. has helipad",phone:"",reference:""}},{name:"Unknown",type:"Unknown",locationName:"Ka Laqigu",coordinates:{lat:37.20963611111112,lon:75.37264722222221},details:{corps:"XMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"361st BDR",type:"Border Defence Regiment ",locationName:"No. 14, Middle School Road, Shiquanhe Town, Gar County, Ali ",coordinates:{lat:32.49663888888889,lon:80.08575555555555},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"362nd BDR^",type:"Border Defence Regiment ",locationName:"Ritu County, Ali ",coordinates:{lat:33.37880277777778,lon:79.73140555555555},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:`https://www.iiss.org/blogs/analysis/2020/06/china-india-border  

http://biz.rfidworld.com.cn/Tender/2021-09/21023.html`}},{name:"363rd BDR",type:"Border Defence Regiment ",locationName:"Zepu County, Kashgar Region, Xinjiang",coordinates:{lat:38.17610555555555,lon:77.231725},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:"https://baike.baidu.com/item/69316%E9%83%A8%E9%98%9F%E5%A4%A9%E6%96%87%E7%82%B9%E8%BE%B9%E9%98%B2%E8%BF%9E/18523843"}},{name:"364th BDR",type:"Border Defence Regiment ",locationName:"Tashkorgan, Akta County, Xinjiang",coordinates:{lat:37.773944444444446,lon:75.23504444444444},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:`https://www.sgss8.net/tpdq/18377422/
https://www.mayitb.com/purchasenotice/one?purchasenoticeid=463345007&brieftype=%E6%8E%A8%E8%8D%90%E6%8B%9B%E6%A0%87`}},{name:"365th BDR",type:"Border Defence Regiment ",locationName:"Azihan Road, Artush City, Xinjiang",coordinates:{lat:39.706186111111116,lon:76.17027777777778},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"366th BDR",type:"Border Defence Regiment ",locationName:"Wushi County, Xinjiang",coordinates:{lat:41.20011111111111,lon:79.20655833333333},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"367th BDR",type:"Border Defence Regiment ",locationName:"No. 114 Jiefang Road, Zhaosu County, Xinjiang",coordinates:{lat:43.15884444444444,lon:81.10691944444444},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:"https://zhidao.baidu.com/question/1305999904558664259.html?fr=search&word=69349&ie=gbk"}},{name:"368th BDR",type:"Border Defence Regiment ",locationName:" No. 67, Chengdong Road, Huiyuan Town, Huocheng County",coordinates:{lat:43.99485555555556,lon:80.91045833333334},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"369th BDR",type:"Border Defence Regiment ",locationName:"Hongxing Road, Bole City, Bole, Mongolian Autonomous Prefecture, Xinjiang ",coordinates:{lat:44.87863888888889,lon:82.0636611111111},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:`http://www.chncase.cn:9090/case/case/2844892
https://tyjrswt.henan.gov.cn/2022/05-25/2455264.html`}},{name:"370th BDR",type:"Border Defence Regiment ",locationName:"No. 1, North Kapchik Road, Toli County, Xiaobaiyang",coordinates:{lat:45.95070555555556,lon:83.60383888888889},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:`https://mapcarta.com/N3168026661
http://101.201.181.170:8698/glxlbzjs/13648.jhtml`}},{name:"371st BDR^",type:"Border Defence Regiment ",locationName:"Jingshikesu, Emin County, Tacheng, Xinjiang",coordinates:{lat:46.35951666666667,lon:83.86504444444444},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:`http://www.ccgp.gov.cn/cggg/dfgg/cjgg/202009/t20200922_15118815.htm
 https://news.sina.com.cn/o/2017-07-27/doc-ifyinwmp0327893.shtml`}},{name:"372nd BDR",type:"Border Defence Regiment ",locationName:"Keketuohai, Yingbin Road, Fuyun County, Altai Region, Xinjiang",coordinates:{lat:46.332947222222224,lon:89.54304166666667},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"373rd BDR",type:"Border Defence Regiment ",locationName:"Dalhan Beiwan, Unity South Road, Habahe County, Altai Region, Xinjiang",coordinates:{lat:48.05014444444444,lon:86.41029722222223},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:"https://www.js7tv.cn/news/202004_213756.html"}},{name:"374th BDR",type:"Border Defence Regiment ",locationName:"Qitai Orchard Second Village, Changji, Xinjiang",coordinates:{lat:44.00974444444444,lon:89.61385555555555},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:"http://www.ccgp.gov.cn/cggg/dfgg/jzxcs/202010/t20201009_15197158.htm"}},{name:"375th BDR",type:"Border Defence Regiment ",locationName:"Hami Barikol, Xinjiang",coordinates:{lat:43.600719444444444,lon:93.03445277777777},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"361st Shibuqi BDR",type:"Border Defence Regiment  Post",locationName:"Zanda County, Ngari Prefecture, Tibet",coordinates:{lat:31.810980555555556,lon:78.808875},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"361st Pulan BDR Coy",type:"Border Defence Regiment  Post",locationName:"Burang County, Ngari Prefecture, Tibet",coordinates:{lat:30.302455555555557,lon:81.17896388888889},details:{corps:"BDR, XMR, WTC",division:"",remarks:"Pulan Border Defense Company",phone:"",reference:"https://www-tibet-cn.translate.goog/cn/news/zx/202109/t20210921_7066159.html?_x_tr_sch=http&_x_tr_sl=zh-CN&_x_tr_tl=en&_x_tr_hl=en&_x_tr_pto=sc"}},{name:"361st Siranta BDR Coy",type:"Border Defence Regiment  Post",locationName:"Siranta/Xilanta",coordinates:{lat:30.755702777777778,lon:80.59554999999999},details:{corps:"BDR, XMR, WTC",division:"",remarks:"Siranta Border Defence Company ",phone:"",reference:"https://www-tlyshi-com.translate.goog/%E8%A5%BF%E5%85%B0%E5%A1%94%E8%BE%B9%E9%98%B2%E8%BF%9E.html?_x_tr_sl=zh-CN&_x_tr_tl=en&_x_tr_hl=en&_x_tr_pto=sc"}},{name:"361st Bolin BDR Coy",type:"Border Defence Regiment  Post",locationName:"Bolin, Zanda County",coordinates:{lat:31.298483333333333,lon:79.54526388888888},details:{corps:"BDR, XMR, WTC",division:"",remarks:"Bolin Border Defence Company ",phone:"",reference:"https://k-sina-cn.translate.goog/article_2160553221_m80c76d0503300jydb.html?_x_tr_sl=zh-CN&_x_tr_tl=en&_x_tr_hl=en&_x_tr_pto=sc"}},{name:"361st Daba BDR Coy",type:"Border Defence Regiment  Post",locationName:"Daba, Zanda County",coordinates:{lat:31.22778333333333,lon:79.92505555555556},details:{corps:"BDR, XMR, WTC",division:"",remarks:"Daba Border Defence Company ",phone:"",reference:"https://slide-mil-news-sina-com-cn.translate.goog/image_8_199_11753.html?_x_tr_sch=http&_x_tr_sl=zh-CN&_x_tr_tl=en&_x_tr_hl=en&_x_tr_pto=sc"}},{name:"362nd Kurnak Fort BDR Coy",type:"Border Defence Regiment  Post",locationName:"Pangong Lake. North",coordinates:{lat:33.763619444444444,lon:78.99073888888888},details:{corps:"BDR, XMR, WTC",division:"",remarks:`Kurnak Fort Border Defence Company 
1st Coy 362nd BDR`,phone:"",reference:"https://www.iiss.org/blogs/analysis/2020/06/china-india-border"}},{name:"362nd Purchu BDR Coy",type:"Border Defence Regiment  Post",locationName:"Spanggur Lake",coordinates:{lat:33.56451944444444,lon:78.79903888888889},details:{corps:"BDR, XMR, WTC",division:"",remarks:`Purchu Border Defence Company 
2nd Coy 362nd BDR`,phone:"",reference:"https://www.iiss.org/blogs/analysis/2020/06/china-india-border"}},{name:"363rd Kongka BDR Coy",type:"Border Defence Regiment  Post",locationName:"Kongka Pass ",coordinates:{lat:34.329675,lon:79.10959722222222},details:{corps:"BDR, XMR, WTC",division:"",remarks:`Kongka Pass Border Defence Company 
3rd Coy 363rd BDR`,phone:"",reference:"https://www.iiss.org/blogs/analysis/2020/06/china-india-border"}},{name:"363rd Tiantian BDR Coy",type:"Border Defence Regiment  Post",locationName:"Hotan County, Hotan Prefecture",coordinates:{lat:35.33041666666667,lon:78.17851111111112},details:{corps:"BDR, XMR, WTC",division:"",remarks:`Tiantian (Tianwendian) Border Defence Company 
 3rd Coy 363 BDR`,phone:"",reference:""}},{name:"363rd Shenxianwan BDR Coy",type:"Border Defence Regiment  Post",locationName:"Immortal Bay, Pishan County, Hotan Prefecture, Xinjiang",coordinates:{lat:35.56861388888889,lon:77.84540555555554},details:{corps:"BDR, XMR, WTC",division:"",remarks:"5382m, highest in PLA,",phone:"",reference:""}},{name:"369th Alashankou BDR Coy^",type:"Border Defence Regiment  Post",locationName:"Alashankou, Bortala Mongol Autonomous Prefecture, Xinjiang",coordinates:{lat:45.170449999999995,lon:82.55496388888889},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:"https://tyjrswt.henan.gov.cn/2022/05-25/2455264.html"}},{name:"369th Hejiaoke BDR Coy",type:"Border Defence Regiment  Post",locationName:"Toli County, Tacheng Prefecture, Xinjiang",coordinates:{lat:45.453358333333334,lon:82.61436666666665},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:"https://tieba.baidu.com/p/1324306182?pn=3"}},{name:"371st Baktu BDR Coy",type:"Border Defence Regiment  Post",locationName:"Baketu, Tacheng, Tacheng Prefecture, Xinjiang",coordinates:{lat:46.682455555555556,lon:82.80063333333334},details:{corps:"BDR, XMR, WTC",division:"",remarks:"Tacheng Baktu Frontier Defense Company",phone:"",reference:"https://bbs.360che.com/thread-629014-2-1.html"}},{name:"372nd BDR Coy^",type:"Border Defence Regiment  Post",locationName:"Wenhua West Road, Fuyun County, Altay Prefecture, Xinjiang",coordinates:{lat:46.99293055555555,lon:89.54908055555555},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:"http://www.sttcq.com/td/18/188535.html"}},{name:"373rd Baihaba BDR base",type:"Border Defence Regiment  Post",locationName:"Baihaba Village, Habahe County, Xinjiang",coordinates:{lat:48.69859444444444,lon:86.78105555555555},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:"https://www.js7tv.cn/news/202004_213756.html"}},{name:"375th Laoye Temple BDR Coy",type:"Border Defence Regiment  Post",locationName:"Laoye Temple, Barkl Kazakh Autonomous County, Hami, Xinjiang",coordinates:{lat:44.7286,lon:94.06141111111111},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:"http://www.ccgp.gov.cn/cggg/dfgg/zbgg/201907/t20190718_12484789.htm"}},{name:"375th Su Haitu BDR base",type:"Border Defence Regiment  Post",locationName:"Suhaitu, Barkl Kazakh Autonomous County, Hami, Xinjiang",coordinates:{lat:45.00929166666667,lon:91.83840833333333},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:"https://tieba.baidu.com/p/5085596"}},{name:"375th Xiamaya BDR base^",type:"Border Defence Regiment  Post",locationName:"Xiamayaxiang, Yiwu County, Hami, Xinjiang",coordinates:{lat:43.21734444444445,lon:95.26942222222222},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:"https://tieba.baidu.com/p/5085596"}},{name:"Sarang BDR Coy",type:"Border Defence Regiment  Post",locationName:"Zanda County, Ngari Prefecture, Tibet",coordinates:{lat:31.566475,lon:79.05096666666667},details:{corps:"BDR, XMR, WTC",division:"",remarks:"Pre-fab shelters ",phone:"",reference:`"https://k.sina.com.cn/article_6203200278_m171bd531603300tb5y.html?from=mil&_x_tr_sl=zh-CN&_x_tr_tl=en&_x_tr_hl=en&_x_tr_pto=sc   

https://zhuanlan-zhihu-com.translate.goog/p/512196199?_x_tr_sl=zh-CN&_x_tr_tl=en&_x_tr_hl=en&_x_tr_pto=sc"`}},{name:"Manzha BDR Coy",type:"Border Defence Regiment  Post",locationName:"",coordinates:{lat:32.155255555555556,lon:78.80286111111111},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:`"https://www.youtube.com/watch?v=YfXDwHGoHHc

https://rmh-pdnews-cn.translate.goog/Pc/ArtInfoApi/article?id=25368183&_x_tr_sl=zh-CN&_x_tr_tl=en&_x_tr_hl=en&_x_tr_pto=sc"

https://tv.cctv.com/2023/01/17/VIDE8DrZUFKETVbQ7EJ87tEL230117.shtml?spm=C52346.PiumOrlYLNUM.E0VXtwLj8YU7.5  `}},{name:"Zhipuzi BDR Coy",type:"Border Defence Regiment  Post",locationName:"Qipu Jilie",coordinates:{lat:32.57601944444445,lon:78.6084361111111},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:"https://www-sohu-com.translate.goog/a/539677714_121124546?_x_tr_sl=zh-CN&_x_tr_tl=en&_x_tr_hl=en&_x_tr_pto=sc https://www-baike-com.translate.goog/wikiid/2788553576753742538?from=wiki_content&prd=innerlink&_x_tr_sl=zh-CN&_x_tr_tl=en&_x_tr_hl=en&_x_tr_pto=sc"}},{name:"Zhaxigang BDR Coy",type:"Border Defence Regiment  Post",locationName:"",coordinates:{lat:32.526152777777774,lon:79.63345000000001},details:{corps:"BDR, XMR, WTC",division:"",remarks:"Zhaxigang (Tashigang) Border Defence company ",phone:"",reference:`https://www-wenming-cn.translate.goog/sbhr_pd/hrhs/201208/t20120816_808340.shtml?_x_tr_sch=http&_x_tr_sl=zh-CN&_x_tr_tl=en&_x_tr_hl=en&_x_tr_pto=sc

https://k-sina-cn.translate.goog/article_2820236807_ma81966070530118vx.html?from=mil&cre=wappage&mod=r&loc=2&r=0&rfunc=71&tj=wap_news_relate&_x_tr_sl=zh-CN&_x_tr_tl=en&_x_tr_hl=en&_x_tr_pto=sc`}},{name:"Rimchang BDR Coy",type:"Border Defence Regiment  Post",locationName:"Banmozhang, Rutog County, Ngari Prefecture, Tibet",coordinates:{lat:33.77005,lon:79.07153055555555},details:{corps:"BDR, XMR, WTC",division:"",remarks:"Rimchang Company - 2nd Coy 362nd BDR^ ",phone:"",reference:""}},{name:"Qiekan BDR Coy",type:"Border Defence Regiment  Post",locationName:"Oude, Rutog County, Ngari Prefecture, Tibet",coordinates:{lat:32.86972222222222,lon:79.60701944444443},details:{corps:"BDR, XMR, WTC",division:"",remarks:"Has radars",phone:"",reference:"https://www-81-cn.translate.goog/jsjz/2020-09/15/content_9903182.htm?_x_tr_sch=http&_x_tr_sl=zh-CN&_x_tr_tl=en&_x_tr_hl=en&_x_tr_pto=sc"}},{name:"Domchiry BDR  Coy",type:"Border Defence Regiment  Post",locationName:"Dumchele Market",coordinates:{lat:33.076302777777784,lon:79.17018055555556},details:{corps:"BDR, XMR, WTC",division:"",remarks:"Dumuqilie^",phone:"",reference:""}},{name:"Khunjerab BDR  Coy",type:"Border Defence Regiment  Post",locationName:"",coordinates:{lat:36.93279444444444,lon:75.55448055555556},details:{corps:"BDR, XMR, WTC",division:"",remarks:"Shares border with Pakistan",phone:"",reference:"https://www-mod-gov-cn.translate.goog/education/2018-07/21/content_4819946.htm?_x_tr_sch=http&_x_tr_sl=zh-CN&_x_tr_tl=en&_x_tr_hl=en&_x_tr_pto=sc"}},{name:"Kokturuk BDR Coy",type:"Border Defence Regiment  Post",locationName:"",coordinates:{lat:37.15724722222222,lon:74.65874444444445},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:"https://www-mod-gov-cn.translate.goog/power/2018-07/21/content_4819902.htm?_x_tr_sch=http&_x_tr_sl=zh-CN&_x_tr_tl=en&_x_tr_hl=en&_x_tr_pto=sc"}},{name:"Tokmansu BDR Coy",type:"Border Defence Regiment  Post",locationName:"",coordinates:{lat:37.16084722222222,lon:74.8199861111111},details:{corps:"BDR, XMR, WTC",division:"",remarks:`Tokmansu Frontier Defence Company
Tibet-Afghanistan border`,phone:"",reference:"https://photo-81-cn.translate.goog/pla/2020-05/11/content_9809010.htm?_x_tr_sl=zh-CN&_x_tr_tl=en&_x_tr_hl=en&_x_tr_pto=sc"}},{name:"Ming Tiegai BDR Coy",type:"Border Defence Regiment  Post",locationName:"Mingtiegai",coordinates:{lat:37.12232777777778,lon:75.01645277777777},details:{corps:"BDR, XMR, WTC",division:"",remarks:"Wakhan Corridor ",phone:"",reference:"https://www-lapeople-com.translate.goog/news/95346.html?_x_tr_sl=zh-CN&_x_tr_tl=en&_x_tr_hl=en&_x_tr_pto=sc"}},{name:"Karachigu BDR Coy",type:"Border Defence Regiment  Post",locationName:"Ka Laqigu",coordinates:{lat:37.20996944444445,lon:75.37597222222222},details:{corps:"BDR, XMR, WTC",division:"",remarks:"Has helipads and training area",phone:"",reference:"https://www-81-cn.translate.goog/2014wlbgjyl/2014-04/02/content_5837383.htm?_x_tr_sch=http&_x_tr_sl=zh-CN&_x_tr_tl=en&_x_tr_hl=en&_x_tr_pto=sc"}},{name:"Smkhana BDR Coy",type:"Border Defence Regiment  Post",locationName:"Simhana, Jigen",coordinates:{lat:39.69635555555555,lon:73.92515555555556},details:{corps:"BDR, XMR, WTC",division:"",remarks:"Kyrgyzstan border",phone:"",reference:""}},{name:"Maidan BDR Coy",type:"Border Defence Regiment  Post",locationName:"Mayidancun",coordinates:{lat:40.190949999999994,lon:76.03035},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"Kurumduk BDR Coy",type:"Border Defence Regiment  Post",locationName:"",coordinates:{lat:40.33377222222222,lon:76.39696111111111},details:{corps:"BDR, XMR, WTC",division:"",remarks:"Has helipads",phone:"",reference:""}},{name:"Alishangang BDR Coy",type:"Border Defence Regiment  Post",locationName:"Qusum Town",coordinates:{lat:32.21138333333334,lon:79.19349722222222},details:{corps:"BDR, XMR, WTC",division:"",remarks:"",phone:"",reference:"https://www-81-cn.translate.goog/2017zt/2018-01/22/content_7916912.htm?_x_tr_sch=http&_x_tr_sl=zh-CN&_x_tr_tl=en&_x_tr_hl=en&_x_tr_pto=sc"}},{name:"Tiantian trenches",type:"Border Defence Regiment  Post",locationName:"Hotan County, Hotan Prefecture",coordinates:{lat:35.33625555555556,lon:78.19217777777779},details:{corps:"BDR, XMR, WTC",division:"",remarks:"Dug in positions, Helipad",phone:"",reference:""}},{name:"Sugai Teku Rule BDR Base^",type:"Border Defence Regiment  Post",locationName:"Pishan County, Hotan Prefecture, Xinjiang",coordinates:{lat:36.340405555555556,lon:78.05230833333333},details:{corps:"BDR, XMR, WTC",division:"",remarks:"Close to heliport.  Probably a Company HQ",phone:"",reference:""}},{name:"Niagzu Base",type:"Border Base",locationName:"",coordinates:{lat:33.974830555555556,lon:78.87840833333333},details:{corps:"WTC",division:"",remarks:"Has helipad.",phone:"",reference:""}},{name:"Kongka Pass Base",type:"Border Base",locationName:"",coordinates:{lat:34.363911111111115,lon:79.14083333333333},details:{corps:"WTC",division:"",remarks:"Rear base and staging area",phone:"",reference:""}},{name:"Sirijap Base",type:"Border Base",locationName:"Pangong Tso North bank Forward Post 2",coordinates:{lat:33.75417222222222,lon:78.84458888888888},details:{corps:"WTC",division:"",remarks:"",phone:"",reference:""}},{name:"Pangong Tso North",type:"Border Base",locationName:"Pangong Tso North bank Forward Post",coordinates:{lat:33.73853888888889,lon:78.79311388888888},details:{corps:"WTC",division:"",remarks:"",phone:"",reference:""}},{name:"Chushul 1",type:"Border Base",locationName:"Chushul Forwrad Post 1",coordinates:{lat:33.602783333333335,lon:78.82617777777777},details:{corps:"WTC",division:"",remarks:"",phone:"",reference:""}},{name:"Changguoxiang",type:"Border Base",locationName:"Saga County, Shigatse, Tibet",coordinates:{lat:29.297880555555558,lon:84.43440555555556},details:{corps:"WTC",division:"",remarks:"BDR Base^",phone:"",reference:""}},{name:"South Pangong post",type:"Border Base",locationName:"",coordinates:{lat:33.62766666666667,lon:78.78807222222223},details:{corps:"WTC",division:"",remarks:"On ridge top",phone:"",reference:""}},{name:"South Pangong post 2",type:"Border Base",locationName:"Pangong Tso South Forward Post",coordinates:{lat:33.65968888888889,lon:78.74523888888889},details:{corps:"WTC",division:"",remarks:"",phone:"",reference:""}},{name:"South Pangong post 3",type:"Border Base",locationName:"Pangong Tso South Forward Post",coordinates:{lat:33.66148333333333,lon:78.73589444444444},details:{corps:"WTC",division:"",remarks:"On ridge top",phone:"",reference:""}},{name:"Kalasu Post",type:"Border Base",locationName:"Tashkurgan, Kashgar Prefecture, Xinjiang",coordinates:{lat:38.191516666666665,lon:74.92524722222223},details:{corps:"WTC",division:"",remarks:"",phone:"",reference:""}},{name:"Kulma Pass",type:"Border Base",locationName:"Kulma Pass Post",coordinates:{lat:38.149969444444444,lon:74.80610277777778},details:{corps:"WTC",division:"",remarks:"",phone:"",reference:""}},{name:"Galwan Forward",type:"Border base",locationName:"Galwan, Aksai Chin",coordinates:{lat:34.63225555555556,lon:78.61847499999999},details:{corps:"WTC",division:"",remarks:"Galwan supply base	",phone:"",reference:""}},{name:"Sirijap Base",type:"Border base",locationName:"Pagong Tso",coordinates:{lat:33.740008333333336,lon:78.87683888888888},details:{corps:"WTC",division:"",remarks:"Base with radars",phone:"",reference:"https://twitter.com/Kyangs_Thang/status/1609555396884320257?s=20&t=5gpXIrIeYROaFHCrPYw5Rw"}},{name:"Pagong Lake north",type:"Border base",locationName:"Pagong Tso",coordinates:{lat:33.74196388888889,lon:78.89615833333335},details:{corps:"WTC",division:"",remarks:"Dug in positions",phone:"",reference:""}},{name:"Hot springs 1",type:"Border base",locationName:"Hot springs, Aksai Chin",coordinates:{lat:34.40778611111111,lon:78.91948333333333},details:{corps:"WTC",division:"",remarks:"Dug in positions",phone:"",reference:""}},{name:"Hot springs 2",type:"Border base",locationName:"Hot springs, Aksai Chin",coordinates:{lat:34.42762777777777,lon:78.92041944444445},details:{corps:"WTC",division:"",remarks:"Dug in positions, Helipad",phone:"",reference:""}},{name:"Hot springs 3",type:"Border base",locationName:"Hot springs, Aksai Chin",coordinates:{lat:34.446238888888885,lon:78.92621944444446},details:{corps:"WTC",division:"",remarks:"Dug in positions, Helipad",phone:"",reference:""}},{name:"Hot springs 4",type:"Border base",locationName:"Hot springs, Aksai Chin",coordinates:{lat:34.47024444444445,lon:78.91280555555556},details:{corps:"WTC",division:"",remarks:"Dug in positions",phone:"",reference:""}},{name:"Hot springs 5",type:"Border base",locationName:"Hot springs, Aksai Chin",coordinates:{lat:34.416780555555555,lon:78.98084444444444},details:{corps:"WTC",division:"",remarks:"Supply depo",phone:"",reference:""}},{name:"Gar Base",type:"Unknown",locationName:"Gar County, Ngari Prefecture,",coordinates:{lat:32.48121388888889,lon:80.122},details:{corps:"WTC",division:"",remarks:"Mid sized military base, new",phone:"",reference:""}},{name:"Gar Base 2",type:"Unknown",locationName:"Gar County, Ngari Prefecture,",coordinates:{lat:32.45003333333334,lon:80.14772222222223},details:{corps:"WTC",division:"",remarks:"Mid sized semi-permanent military base, new",phone:"",reference:""}},{name:"Zanda base",type:"Unknown",locationName:"Zanda County, Ngari Prefecture, Tibet",coordinates:{lat:31.50063888888889,lon:79.777275},details:{corps:"WTC",division:"",remarks:"Mid sized military base, new",phone:"",reference:""}},{name:"Kalong Qiongwa",type:"Unknown",locationName:"Rutog County, Ngari Prefecture, Tibet",coordinates:{lat:33.40703611111111,lon:79.806725},details:{corps:"WTC",division:"",remarks:"Large military base",phone:"",reference:""}},{name:"11th Training Base",type:"Training Base",locationName:"No. 591 Donghuan Road, Korla ",coordinates:{lat:41.65456111111111,lon:86.30559444444444},details:{corps:"XMR, WTC",division:"",remarks:"",phone:"",reference:"https://new.qq.com/rain/a/20220625A05J7200  https://www.sgss8.net/tpdq/16920628/"}},{name:"Tingawati ",type:"Training Base",locationName:"Aksu City, Aksu Prefecture, Xinjiang",coordinates:{lat:41.19520277777777,lon:80.28311388888889},details:{corps:"WTC",division:"",remarks:"",phone:"",reference:""}},{name:"Training",type:"Training Base",locationName:"Doilungdqn District, Lhasa, Tibet",coordinates:{lat:29.61305,lon:90.97783611111112},details:{corps:"WTC",division:"",remarks:"Vehicle training^",phone:"",reference:""}},{name:"Training",type:"Training Base",locationName:"Doilungdqn District, Lhasa, Tibet",coordinates:{lat:29.60101666666667,lon:91.087925},details:{corps:"WTC",division:"",remarks:"Infantry training^",phone:"",reference:""}},{name:"Training",type:"Training Base",locationName:"Golmud, Haixi Mongol and Tibetan Autonomous Prefecture, Qinghai",coordinates:{lat:36.02898333333333,lon:94.84524166666667},details:{corps:"WTC",division:"",remarks:"Comprehensive Training Base^",phone:"",reference:""}},{name:"Training",type:"Training Base",locationName:"Baiuhe, Korla, Bayingolin Mongol Autonomous Prefecture, Xinjiang",coordinates:{lat:41.69630833333333,lon:86.26506111111111},details:{corps:"WTC",division:"",remarks:"Comprehensive Training Base^",phone:"",reference:""}},{name:"Training",type:"Training Base",locationName:"Baxiezicun, Korla, Bayingolin Mongol Autonomous Prefecture, Xinjiang",coordinates:{lat:41.645725,lon:86.34231944444444},details:{corps:"WTC",division:"",remarks:"Comprehensive Training Base^",phone:"",reference:""}},{name:"Training",type:"Training Base",locationName:"Tu Telieke, Kashgar, Kashgar Prefecture, Xinjiang",coordinates:{lat:39.56379722222222,lon:76.00011111111111},details:{corps:"WTC",division:"",remarks:"",phone:"",reference:""}},{name:"Training",type:"Training Base",locationName:"Dagz District, Lhasa, Tibet",coordinates:{lat:29.676825,lon:91.33084722222222},details:{corps:"WTC",division:"",remarks:"",phone:"",reference:""}},{name:"Training",type:"Training Base",locationName:"Rutog County, Ngari Prefecture, Tibet",coordinates:{lat:33.51361388888889,lon:80.40043333333334},details:{corps:"WTC",division:"",remarks:"Mililtary exercise in Aug 2022",phone:"",reference:"https://twitter.com/isekaimint/status/1560360697279795209/photo/4"}},{name:"Maili",type:"Firing Range",locationName:"Saga County, Shigatse, Tibet",coordinates:{lat:29.313480555555557,lon:85.21015277777778},details:{corps:"WTC",division:"",remarks:"",phone:"",reference:""}},{name:"Training^",type:"Training Base",locationName:"Qigeleke, Xinjiang, Kashgar Prefecture, Kashgar",coordinates:{lat:39.512766666666664,lon:75.92397222222223},details:{corps:"WTC",division:"",remarks:"Vehicle training^",phone:"",reference:""}},{name:"Wuzunsayi",type:"Training Base",locationName:"Wuzunsayi, Kashgar, Kashgar Prefecture, Xinjiang",coordinates:{lat:39.54965833333333,lon:75.94916666666667},details:{corps:"WTC",division:"",remarks:"",phone:"",reference:""}},{name:"Qingtongxia Training",type:"Training Base",locationName:" Wudatai, Qingtongxia City, Wuzhong City, Ningxia Hui Autonomous Region",coordinates:{lat:37.88028333333333,lon:106.03129444444444},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"5 CTB",type:"Training Base",locationName:"No. 23 Yingbin Road, Liangzhou District, Wuwei City, Gansu ",coordinates:{lat:37.918105555555556,lon:102.62371388888889},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"5 CTB 2^",type:"Training Base",locationName:"Xiaan Village, Ganzhou District, Zhangye City, Gansu Province",coordinates:{lat:38.933302777777776,lon:100.48416388888889},details:{corps:"77th GA, WTC",division:"",remarks:"Perhaps 55th Brigade^^	77th GA, WTC	Infantry Brigade		68307	No. 99, Jincheng Road, Ganzhou District, Zhangye City, Gansu ",phone:"",reference:`http://www.gsds.gov.cn/gongzuodongtai/20161115/0939138560787.htm
http://gsds.gov.cn/dangshixuanchuan/jiaoyujidi/20161130/143728716afef.htm`}},{name:"5 CTB 3^",type:"Training Base",locationName:"Dianzizha Village, Ganzhou District, Zhangye City, Gansu Province",coordinates:{lat:38.856319444444445,lon:100.39382777777779},details:{corps:"77th GA, WTC",division:"",remarks:"",phone:"",reference:""}},{name:"351 BDR Training",type:"Firing range",locationName:"Xiachayu, Zayu, Nyingchi, Tibet",coordinates:{lat:28.527544444444445,lon:96.986},details:{corps:"BDR, XMR, WTC",division:"",remarks:"Firing range",phone:"",reference:""}},{name:"Bronze Gorge Training Base",type:"Training Base",locationName:"Qingtongxia, Wuzhong, Ningxia",coordinates:{lat:37.86966666666667,lon:105.86415555555556},details:{corps:"WTC",division:"",remarks:"",phone:"",reference:""}},{name:"Wudatai Training",type:"Unknown",locationName:"Wudatai, Qingtongxia, Wuzhong, Ningxia",coordinates:{lat:37.87430277777778,lon:106.0295388888889},details:{corps:"61st Inf Div, 76th GA, WTC",division:"",remarks:"Vehicle training^",phone:"",reference:""}},{name:"Training^",type:"Training Base",locationName:"Litong District, Wuzhong, Ningxia",coordinates:{lat:38.007641666666665,lon:106.18005555555555},details:{corps:"WTC",division:"",remarks:"Small new base",phone:"",reference:""}},{name:"Daliang Mountain Training Base",type:"Firing range",locationName:"Longtanggou, Xide County, Liangshan Yi Autonomous Prefecture, Sichuan Province",coordinates:{lat:28.396941666666667,lon:102.53421388888889},details:{corps:"WTC",division:"",remarks:"78029",phone:"",reference:`Joseph Wen
https://zh.wikipedia.org/zh-tw/%E4%B8%AD%E5%9B%BD%E4%BA%BA%E6%B0%91%E8%A7%A3%E6%94%BE%E5%86%9B%E9%99%86%E5%86%9B%E5%A4%A7%E5%87%89%E5%B1%B1%E5%90%88%E5%90%8C%E6%88%98%E6%9C%AF%E8%AE%AD%E7%BB%83%E5%9F%BA%E5%9C%B0`}},{name:"Zhaxigang BDR",type:"Unknown",locationName:"",coordinates:{lat:32.522952777777775,lon:79.6320611111111},details:{corps:"",division:"",remarks:"Near Zhaxigang BDR Coy",phone:"",reference:""}},{name:"Galwan",type:"Unknown",locationName:"Aksai Chin",coordinates:{lat:34.660783333333335,lon:78.57841111111111},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Gogra",type:"Unknown",locationName:"Aksai Chin",coordinates:{lat:34.32766111111111,lon:79.1067861111111},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"361 Daba BDR",type:"Unknown",locationName:" Zanda County ",coordinates:{lat:31.220919444444444,lon:79.92805555555556},details:{corps:"",division:"",remarks:"361st Daba BDR Coy",phone:"",reference:""}},{name:"Xiachayu",type:"Unknown",locationName:"Zayu, Nyingchi, Tibet",coordinates:{lat:28.449525,lon:97.06199444444444},details:{corps:"",division:"",remarks:"Perhaps BDR",phone:"",reference:""}},{name:"Shendga",type:"Unknown",locationName:"Karuo District, Chamdo, Tibet",coordinates:{lat:31.17123888888889,lon:97.16708333333334},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Xiachayu BDR^",type:"Unknown",locationName:"Zayu, Nyingchi, Tibet",coordinates:{lat:28.355372222222222,lon:97.00883888888889},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Gainaguo",type:"Unknown",locationName:"Damxung County, Lhasa, Tibet",coordinates:{lat:30.120769444444445,lon:90.50878888888889},details:{corps:"",division:"",remarks:"Vehicle storage",phone:"",reference:""}},{name:"Langniuqu",type:"Unknown",locationName:"Damxung County, Lhasa, Tibet",coordinates:{lat:29.949944444444444,lon:90.36899166666666},details:{corps:"",division:"",remarks:"Large training & exercise area",phone:"",reference:""}},{name:"Gongtang",type:"Unknown",locationName:"Lhasa, Tibet",coordinates:{lat:29.63517222222222,lon:91.22150277777779},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Menzhun",type:"Unknown",locationName:"Doilungdqn District, Lhasa, Tibet",coordinates:{lat:29.52449722222222,lon:91.01406666666666},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Duobu Yuri",type:"Unknown",locationName:"Gar County, Ngari Prefecture, Tibet",coordinates:{lat:32.56744166666667,lon:80.05819166666666},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Yaka",type:"Unknown",locationName:"Shanshan County, Turpan, Xinjiang",coordinates:{lat:42.892922222222225,lon:90.18027222222223},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Kezi Letu'er",type:"Unknown",locationName:"Gaochang District, Turpan, Xinjiang",coordinates:{lat:42.982394444444445,lon:89.19909166666667},details:{corps:"",division:"",remarks:"32nd Regiment^ XMR training",phone:"",reference:""}},{name:"Wulapocun",type:"Unknown",locationName:"Tianshan District, rmqi, Xinjiang",coordinates:{lat:43.687013888888885,lon:87.57310555555556},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Wulabo",type:"Unknown",locationName:"Tianshan District, rmqi, Xinjiang",coordinates:{lat:43.70294166666667,lon:87.60825833333332},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Hongyan",type:"Unknown",locationName:"Tianshan District, rmqi, Xinjiang",coordinates:{lat:43.7476,lon:87.67122222222223},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Baiuhe",type:"Unknown",locationName:"Korla, Bayingolin Mongol Autonomous Prefecture, Xinjiang",coordinates:{lat:41.69991944444444,lon:86.27258888888889},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Yan hu",type:"Unknown",locationName:"Toutunhe District, rmqi, Xinjiang",coordinates:{lat:43.85062777777778,lon:87.42638611111111},details:{corps:"",division:"",remarks:"Vehicles",phone:"",reference:""}},{name:"Jianquanyi Street",type:"Unknown",locationName:"Tianshan District, rmqi, Xinjiang",coordinates:{lat:43.80118611111111,lon:87.66860833333334},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Dongdaliang W Street",type:"Unknown",locationName:"Tianshan District, rmqi, Xinjiang",coordinates:{lat:43.79295,lon:87.64601666666667},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Huaergou Street",type:"Unknown",locationName:"Tianshan District, rmqi, Xinjiang",coordinates:{lat:43.74673333333333,lon:87.63913333333333},details:{corps:"",division:"",remarks:"Vehicles",phone:"",reference:""}},{name:"Banjiegou",type:"Unknown",locationName:"Tianshan District, rmqi, Xinjiang",coordinates:{lat:43.71799722222222,lon:87.67079722222223},details:{corps:"",division:"",remarks:"Vehicles",phone:"",reference:""}},{name:"Hongyanchi",type:"Unknown",locationName:"Tianshan District, rmqi, Xinjiang",coordinates:{lat:43.70857777777778,lon:87.59289166666666},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Zanda (north)",type:"Unknown",locationName:"Zanda County, Ngari Prefecture, Tibet",coordinates:{lat:31.49844722222222,lon:79.78113055555555},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Xianhong Tuchang",type:"Unknown",locationName:"rmqi County, rmqi, Xinjiang",coordinates:{lat:43.84194166666667,lon:87.42675},details:{corps:"",division:"",remarks:"Vehicles",phone:"",reference:""}},{name:"Maliaodi",type:"Unknown",locationName:"Saybag District, rmqi, Xinjiang",coordinates:{lat:43.817975000000004,lon:87.53838611111111},details:{corps:"",division:"",remarks:"Vehicles",phone:"",reference:""}},{name:"Suowu Erbayi",type:"Unknown",locationName:"Yizhou, Hami, Xinjiang",coordinates:{lat:43.08475555555556,lon:92.80556666666666},details:{corps:"",division:"",remarks:"Aircraft",phone:"",reference:""}},{name:"Bailuhe 2",type:"Unknown",locationName:"Korla, Bayingolin Mongol",coordinates:{lat:41.720444444444446,lon:86.28748055555555},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Niumo Hu",type:"Unknown",locationName:"Saybag District, rmqi, Xinjiang",coordinates:{lat:43.80837777777778,lon:87.44916111111111},details:{corps:"",division:"",remarks:"Special Forces",phone:"",reference:""}},{name:"Xincheng",type:"Unknown",locationName:"Korla, Bayingolin Mongol Autonomous Prefecture, Xinjiang",coordinates:{lat:41.707172222222226,lon:86.20726388888889},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Lanshan Community",type:"Unknown",locationName:"Luntai County, Bazhou, Xinjiang",coordinates:{lat:41.810377777777774,lon:84.278575},details:{corps:"",division:"",remarks:"12th Reg, XMR, WTC	",phone:"",reference:""}},{name:"Guo Dao",type:"Unknown",locationName:"Xinyuan County, Ili, Xinjiang",coordinates:{lat:43.541799999999995,lon:83.31095555555555},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Shanghai S Road",type:"Unknown",locationName:"Samzhubz District, Shigatse, Tibet",coordinates:{lat:29.252516666666665,lon:88.8886138888889},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Sama",type:"Unknown",locationName:"Samzhubz District, Shigatse, Tibet",coordinates:{lat:29.229544444444443,lon:88.88931666666667},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Sayibage",type:"Unknown",locationName:"Yarkant County, Kashgar Prefecture, Xinjiang",coordinates:{lat:38.21935277777778,lon:77.12026388888889},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Zhangmu^",type:"Unknown",locationName:"Samzhubz District, Shigatse, Tibet",coordinates:{lat:29.26535833333333,lon:88.84495833333332},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Senge Zangbu^",type:"Unknown",locationName:"Gar County, Ngari Prefecture, Tibet",coordinates:{lat:32.43741111111111,lon:79.8043},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Jiang Gale",type:"Unknown",locationName:"Shufu County, Kashgar Prefecture, Xinjiang",coordinates:{lat:39.420830555555554,lon:75.93219722222223},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Huangdixiang",type:"Unknown",locationName:"Huangdixiang, Shule",coordinates:{lat:39.54739444444444,lon:75.94916666666667},details:{corps:"",division:"",remarks:"Vehicles",phone:"",reference:""}},{name:"Axi",type:"Unknown",locationName:"Axi, Lhasa",coordinates:{lat:29.60101666666667,lon:91.087925},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Aksu",type:"Unknown",locationName:"Aksu",coordinates:{lat:41.19520277777777,lon:80.28311388888889},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Dagan Ditch Bridge",type:"Unknown",locationName:"",coordinates:{lat:36.02898333333333,lon:94.84524166666667},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Ruomuqu",type:"Unknown",locationName:"Lhasa",coordinates:{lat:29.610225,lon:90.98004722222223},details:{corps:"",division:"",remarks:"",phone:"",reference:""}},{name:"Unidentified^",type:"Unidentified",locationName:"Aksu",coordinates:{lat:41.15391111111111,lon:80.2168361111111},details:{corps:"Unknown",division:"",remarks:"",phone:"",reference:""}},{name:"Qinghai-Tibet Military Railway Station",type:"Logistics",locationName:"Xining City, Qinghai",coordinates:{lat:36.37027222222222,lon:94.89665000000001},details:{corps:"Unknown",division:"",remarks:"Qinghai-Tibet Military Station Department, https://zh.wikipedia.org/wiki/%E4%B8%AD%E5%9B%BD%E4%BA%BA%E6%B0%91%E8%A7%A3%E6%94%BE%E5%86%9B%E9%99%86%E5%86%9B%E9%9D%92%E8%97%8F%E5%85%B5%E7%AB%99%E9%83%A8",phone:"",reference:""}},{name:"Unidentified^",type:"Unidentified",locationName:"Xining City, Qinghai",coordinates:{lat:36.44403888888888,lon:94.81003333333334},details:{corps:"Unknown",division:"",remarks:"New large base with barracks and vehicle sheds",phone:"",reference:""}},{name:"Unidentified^",type:"Unidentified",locationName:"Miao'ergoucun Badui, Urumqi",coordinates:{lat:43.51250833333334,lon:87.50108333333333},details:{corps:"Unknown",division:"",remarks:"",phone:"",reference:""}},{name:"Malan Nuclear Test Base ",type:"Testing",locationName:"Nairenker Township , Heshuo County , Bayingoleng",coordinates:{lat:42.386916666666664,lon:87.30896666666666},details:{corps:"Unknown",division:"",remarks:"Directly under the Aerospace System Department of the Strategic Support Force",phone:"",reference:""}},{name:"Unidentified^",type:"Unidentified",locationName:"Baju, Lhasa",coordinates:{lat:29.65360833333333,lon:91.05372222222222},details:{corps:"Unknown",division:"",remarks:"Vehicle, storage or garage^",phone:"",reference:""}},{name:"Unidentified^",type:"Unidentified",locationName:"Donggashakang, Lhasa",coordinates:{lat:29.644469444444443,lon:91.02836666666667},details:{corps:"Unknown",division:"",remarks:"Vehicle, storage or garage^",phone:"",reference:""}}],c_=a_.map(n=>({...n,source:"PAK"})),d_=l_.map(n=>({...n,source:"CHN"})),Mg=[...c_,...d_],x2=new Map,q4=(n,e)=>{const t=`${n.name}-${e}`;if(x2.has(t))return x2.get(t);const i=new Promise(r=>{const s=MT(f.jsx(n,{style:{color:"white",fontSize:"24px"}})),o=document.createElement("canvas");o.width=48,o.height=48;const l=o.getContext("2d");if(!l){r("");return}l.beginPath(),l.arc(24,24,22,0,2*Math.PI,!1),l.fillStyle="#FFFFFF",l.fill(),l.beginPath(),l.arc(24,24,18,0,2*Math.PI,!1),l.fillStyle=e,l.fill();const c=new Image,d=new Blob([s],{type:"image/svg+xml;charset=utf-8"}),u=URL.createObjectURL(d);c.onload=()=>{l.drawImage(c,12,12,24,24),URL.revokeObjectURL(u),r(o.toDataURL())},c.src=u});return x2.set(t,i),i},u_={"hotan military":{displayName:"Hotan Military",latitude:37.00049733314965,longitude:79.92633589091545,kmlKey:"Hotan Military"},"kirana hills":{displayName:"Kirana Hills",latitude:31.95784166666667,longitude:72.69160277777779,kmlKey:"Kirana Hills"}},C2=n=>{const e=n.toLowerCase();return e.includes("hq")||e.includes("command")?{category:"Headquarters",color:"#DAA520",icon:JT}:e.includes("group army")||e.includes("corps")||e.includes("strike")?{category:"Corps / Army",color:"#DC143C",icon:My}:e.includes("armoured")||e.includes("tank")?{category:"Armoured",color:"#FF8C00",icon:s_}:e.includes("artillery")||e.includes("firepower")?{category:"Artillery",color:"#00CED1",icon:n_}:e.includes("aviation")||e.includes("air force")?{category:"Aviation",color:"#9932CC",icon:KT}:e.includes("air defence")||e.includes("defense")?{category:"Air Defence",color:"#1E90FF",icon:w5}:e.includes("special")?{category:"Special Forces",color:"#4B0082",icon:r_}:e.includes("infantry")||e.includes("combined")||e.includes("mountain")?{category:"Infantry",color:"#228B22",icon:V4}:e.includes("border")?{category:"Border Guard",color:"#006400",icon:o_}:e.includes("service")||e.includes("support")||e.includes("logistics")?{category:"Support",color:"#696969",icon:e_}:e.includes("hospital")||e.includes("medical")?{category:"Medical",color:"#FF69B4",icon:i_}:{category:"Other",color:"#808080",icon:V4}},h_=n=>{var t,i,r;const e=encodeURIComponent(JSON.stringify({name:n.name,type:n.type,locationName:n.locationName,coordinates:n.coordinates,details:n.details,source:n.source}));return`
    <style>
      .cesium-infoBox-description table { width: 100%; border-collapse: collapse; font-family: sans-serif; font-size: 13px; }
      .cesium-infoBox-description th { text-align: left; border-bottom: 1px solid #555; padding: 5px; color: #ccc; }
      .cesium-infoBox-description td { padding: 5px; border-bottom: 1px solid #444; }
      .cesium-infoBox-description a { color: #00E5FF; text-decoration: none; }
      .intel-workspace-btn {
        display: block;
        width: 100%;
        margin-top: 15px;
        padding: 12px 16px;
        background: linear-gradient(180deg, #ff0064 0%, #cc0050 100%);
        border: 1px solid #ff3388;
        border-radius: 6px;
        color: white;
        font-size: 13px;
        font-weight: bold;
        text-transform: uppercase;
        letter-spacing: 1px;
        cursor: pointer;
        text-align: center;
        transition: all 0.2s ease;
        box-shadow: 0 4px 15px rgba(255, 0, 100, 0.3);
      }
      .intel-workspace-btn:hover {
        background: linear-gradient(180deg, #ff3388 0%, #ff0064 100%);
        box-shadow: 0 6px 20px rgba(255, 0, 100, 0.5);
        transform: translateY(-1px);
      }
    </style>
    <table class="cesium-infoBox-defaultTable">
      <tbody>
        <tr><th>Type</th><td>${n.type||"N/A"}</td></tr>
        <tr><th>Location</th><td>${n.locationName||"N/A"}</td></tr>
        ${(t=n.details)!=null&&t.corps?`<tr><th>Corps</th><td>${n.details.corps}</td></tr>`:""}
        ${(i=n.details)!=null&&i.remarks?`<tr><th>Remarks</th><td>${n.details.remarks}</td></tr>`:""}
        ${(r=n.details)!=null&&r.reference?`<tr><th>Reference</th><td><a href="${n.details.reference}" target="_blank">Open Link</a></td></tr>`:""}
      </tbody>
    </table>    <button class="intel-workspace-btn" data-unit="${e}">
       Enter Intel Workspace
    </button>
  `},p_=[[25.1264,62.3225],[25.4,63.8],[26.2,65.5],[27,66],[27.8,66.6],[29,66.5],[30.18,66.99],[30.5,68.5],[31.4,70.3],[32.1,71.5],[32.5,72.3],[33.6,73.05],[34,73.2],[34.8,72.8],[35.2,73.2],[35.5,74.5],[35.8,74.6],[35.92,74.31],[36.3,74.8],[36.6,75],[36.85,75.42],[37.5,75.5],[38.5,75.7],[39.47,75.99]],f_=[[25.1264,62.3225],[24.86,67.01],[25.37,68.37],[27.71,68.86],[29.38,71.68],[31.55,74.34],[32.08,74.19],[33.6,73.05]],g_=[[25.1264,62.3225],[26.23,63.04],[27,66],[30.18,66.99],[31.83,70.9],[32.33,71.18],[33.6,73.05]],m_=[[33.6,73.05],[34,73.2],[34.77,72.36],[35.51,72.99],[35.33,74.65],[35.92,74.31],[36.31,74.65],[36.85,75.42],[39.47,75.99]],y_=[[25.1264,62.3225],[24.86,67.01],[27.71,68.86],[30.2,71.47],[31.42,73.08],[32.08,72.67],[33.6,73.05]],v_=["Gwadar Port","","","","","","Quetta","","","","","Islamabad","","","","","","Gilgit","","","Khunjerab Pass","","","Kashgar"],x_=["Gwadar","Karachi","Hyderabad","Sukkur","Multan","Lahore","","Islamabad"],C_=["Gwadar","Turbat","Khuzdar","Quetta","Zhob","D.I. Khan","Islamabad"],w_=["Islamabad","Abbottabad","Mansehra","Besham","Chilas","Gilgit","Hunza","Khunjerab","Kashgar"],S_=["Gwadar","Karachi","Sukkur","Bahawalpur","Faisalabad","Sargodha","Islamabad"],um={main:{id:"main",name:"Main CPEC Corridor",path:p_,labels:v_,color:"RED",lineWidth:5,showLabels:!0},eastern:{id:"eastern",name:"Eastern Route",path:f_,labels:x_,color:"CYAN",lineWidth:3,showLabels:!1},western:{id:"western",name:"Western Route",path:g_,labels:C_,color:"YELLOW",lineWidth:3,showLabels:!1},central:{id:"central",name:"Central Route",path:y_,labels:S_,color:"LIME",lineWidth:3,showLabels:!1},northern:{id:"northern",name:"Northern Route",path:m_,labels:w_,color:"MAGENTA",lineWidth:3,showLabels:!1}},b_=Object.values(um).map(n=>({id:n.id,name:n.name,color:n.color})),A_=$.forwardRef((n,e)=>{const{onEnterIntelWorkspace:t}=n,i=$.useRef(null),r=$.useRef(null),s=$.useRef(null),o=$.useRef([]),l=$.useRef(null),c=$.useRef({outer:null,middle:null,inner:null,center:null}),d=$.useRef({currentRadius:500,targetRadius:500,animationId:null}),u=$.useRef(null),[h,p]=$.useState("ALL"),[m,C]=$.useState("ALL"),[v,A]=$.useState(!1),[y,S]=$.useState(!1),w=$.useMemo(()=>{const I=new Map;return Mg.forEach(F=>{const M=C2(F.type);I.set(M.category,{color:M.color,icon:M.icon})}),Array.from(I.entries()).sort()},[]);$.useEffect(()=>{if(!u.current)return;const I=u.current.entities.values,F=Cesium.JulianDate.now();I.forEach(M=>{var R,L,H,ie;const U=(L=(R=M.properties)==null?void 0:R.getValue(F))==null?void 0:L.category,z=(ie=(H=M.properties)==null?void 0:H.getValue(F))==null?void 0:ie.source;let W=v;W&&(h!=="ALL"&&U!==h&&(W=!1),m!=="ALL"&&z!==m&&(W=!1)),M.show=W}),r.current&&r.current.scene.requestRender()},[h,v,m]),$.useEffect(()=>{if(!i.current)return;Cesium.GoogleMaps.defaultApiKey="AIzaSyBvIToHVCENj_iNpzrk7Wpvn3xMPKXFmOA";const I=new Cesium.Viewer(i.current,{timeline:!1,animation:!1,baseLayerPicker:!1,fullscreenButton:!0,geocoder:!1,homeButton:!1,infoBox:!0,sceneModePicker:!1,selectionIndicator:!0,navigationHelpButton:!1,navigationInstructionsInitiallyVisible:!1,globe:!1,creditContainer:document.createElement("div"),requestRenderMode:!1}),F=I.infoBox.frame;if(F){F.setAttribute("sandbox","allow-same-origin allow-scripts allow-popups allow-forms");const R=()=>{var L;try{const H=F.contentDocument||((L=F.contentWindow)==null?void 0:L.document);if(!H)return;new MutationObserver(()=>{const G=H.querySelector(".intel-workspace-btn");G&&!G.getAttribute("data-listener-attached")&&(G.setAttribute("data-listener-attached","true"),G.addEventListener("click",()=>{const ne=G.getAttribute("data-unit");ne&&window.postMessage({type:"ENTER_INTEL_WORKSPACE",unitData:ne},"*")}))}).observe(H.body||H,{childList:!0,subtree:!0})}catch(H){console.error("Error setting up button listener:",H)}};F.addEventListener("load",R),setTimeout(R,100)}I.targetFrameRate=60,r.current=I,s.current=new AE(I.camera),I.scene.sun&&(I.scene.sun.show=!1);const M=new Cesium.CustomDataSource("ArmyUnits");I.dataSources.add(M),u.current=M,M.clustering.enabled=!0,M.clustering.pixelRange=15,M.clustering.minimumClusterSize=3;const U=new Cesium.PinBuilder;return M.clustering.clusterEvent.addEventListener((R,L)=>{L.label.show=!0,L.label.text=R.length.toLocaleString(),L.label.font="bold 12px sans-serif",L.label.showBackground=!1,L.billboard.show=!0,L.billboard.id=L.label.id,L.billboard.verticalOrigin=Cesium.VerticalOrigin.BOTTOM,L.billboard.disableDepthTestDistance=Number.POSITIVE_INFINITY,R.length>=20?L.billboard.image=U.fromText(`${R.length}`,Cesium.Color.RED,48).toDataURL():R.length>=10?L.billboard.image=U.fromText(`${R.length}`,Cesium.Color.ORANGE,48).toDataURL():L.billboard.image=U.fromText(`${R.length}`,Cesium.Color.BLUE,48).toDataURL()}),(async()=>{var H,ie;const R=new Map;Mg.forEach(G=>{const ne=C2(G.type),X=`${ne.icon.name}-${ne.color}`;R.has(X)||R.set(X,{icon:ne.icon,color:ne.color})});const L=Array.from(R.values()).map(({icon:G,color:ne})=>q4(G,ne));await Promise.all(L);for(const G of Mg){if(!((H=G.coordinates)!=null&&H.lat)||!((ie=G.coordinates)!=null&&ie.lon))continue;const ne=C2(G.type),X=await q4(ne.icon,ne.color);M.entities.add({name:G.name,show:!1,description:h_(G),position:Cesium.Cartesian3.fromDegrees(Number(G.coordinates.lon),Number(G.coordinates.lat)),properties:{category:ne.category,source:G.source},billboard:{image:X,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND,eyeOffset:new Cesium.Cartesian3(0,0,-50),disableDepthTestDistance:Number.POSITIVE_INFINITY},label:{text:G.name,font:"bold 13px sans-serif",style:Cesium.LabelStyle.FILL_AND_OUTLINE,fillColor:Cesium.Color.WHITE,outlineColor:Cesium.Color.BLACK,outlineWidth:3,pixelOffset:new Cesium.Cartesian2(0,-50),horizontalOrigin:Cesium.HorizontalOrigin.CENTER,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND,eyeOffset:new Cesium.Cartesian3(0,0,-100),disableDepthTestDistance:Number.POSITIVE_INFINITY,distanceDisplayCondition:new Cesium.DistanceDisplayCondition(0,5e5)}})}I.scene.requestRender()})(),(async()=>{try{const R=await Cesium.createGooglePhotorealistic3DTileset();R.skipLevelOfDetail=!0,R.maximumScreenSpaceError=8;const L=new Cesium.UrlTemplateImageryProvider({url:"https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}@2x.png",subdomains:["a","b","c","d"],credit:"Map tiles by CartoDB"});R.imageryLayers.addImageryProvider(L),I.scene.primitives.add(R)}catch(R){console.error(R)}})(),()=>{r.current&&(r.current.destroy(),r.current=null)}},[]),$.useEffect(()=>{const I=F=>{var M,U;if(((M=F.data)==null?void 0:M.type)==="ENTER_INTEL_WORKSPACE"&&((U=F.data)!=null&&U.unitData))try{const z=JSON.parse(decodeURIComponent(F.data.unitData));r.current&&(r.current.selectedEntity=void 0),t&&t(z)}catch(z){console.error("Error parsing unit data:",z)}};return window.addEventListener("message",I),()=>window.removeEventListener("message",I)},[t]),$.useEffect(()=>{r.current&&r.current.camera.setView({destination:Cesium.Cartesian3.fromDegrees(r.current.camera.positionCartographic.longitude*(180/Math.PI),r.current.camera.positionCartographic.latitude*(180/Math.PI),15e6)})},[]);const k=I=>{switch(I){case"RED":return Cesium.Color.fromCssColorString("#FF3333");case"CYAN":return Cesium.Color.fromCssColorString("#00FFFF");case"YELLOW":return Cesium.Color.fromCssColorString("#FFFF00");case"LIME":return Cesium.Color.fromCssColorString("#00FF00");case"MAGENTA":return Cesium.Color.fromCssColorString("#FF00FF");case"ORANGE":return Cesium.Color.fromCssColorString("#FFA500");case"GREEN":return Cesium.Color.fromCssColorString("#00FF00");default:return Cesium.Color.WHITE}},E=I=>{if(!r.current)return;const F=(M,U,z,W=3,R=!1)=>{M.forEach(([ie,G],ne)=>{const X=R&&U[ne]&&U[ne].length>0,te=r.current.entities.add({position:Cesium.Cartesian3.fromDegrees(G,ie),point:new Cesium.PointGraphics({pixelSize:X?10:4,color:z,outlineColor:Cesium.Color.BLACK,outlineWidth:1}),label:X?new Cesium.LabelGraphics({text:U[ne],font:"10pt sans-serif",fillColor:z,outlineColor:Cesium.Color.BLACK,outlineWidth:1,style:1,pixelOffset:new Cesium.Cartesian3(0,-25,0),horizontalOrigin:Cesium.HorizontalOrigin.CENTER,verticalOrigin:Cesium.VerticalOrigin.TOP}):void 0});o.current.push(te)});const L=M.map(([ie,G])=>Cesium.Cartesian3.fromDegrees(G,ie)),H=r.current.entities.add({polyline:new Cesium.PolylineGraphics({positions:L,width:W,material:z,clampToGround:!0})});o.current.push(H)};I.forEach(M=>{const U=um[M];U&&F(U.path,U.labels,k(U.color),M==="main"?5:U.lineWidth,U.showLabels)}),r.current.scene.requestRender()},T=()=>{r.current&&(N(),E(Object.keys(um)))},_=I=>{r.current&&(N(),E([I]))},P=()=>{r.current&&(N(),E(Object.keys(um)))},N=()=>{r.current&&(o.current.forEach(I=>r.current.entities.remove(I)),o.current=[],r.current.scene.requestRender())},B=I=>{var z,W;if(!I.trim()||!r.current||!u.current)return!1;const F=I.toLowerCase().trim(),M=Mg.find(R=>{var L,H;return R.name.toLowerCase().includes(F)||((L=R.type)==null?void 0:L.toLowerCase().includes(F))||((H=R.locationName)==null?void 0:H.toLowerCase().includes(F))});if(M&&((z=M.coordinates)!=null&&z.lat)&&((W=M.coordinates)!=null&&W.lon)){v||A(!0),s.current&&s.current.rotateAndZoomTo(Number(M.coordinates.lon),Number(M.coordinates.lat),{zoomHeight:5e4});const L=u.current.entities.values.find(H=>{var ie;return((ie=H.name)==null?void 0:ie.toLowerCase())===M.name.toLowerCase()});return L&&(L.show=!0,r.current.selectedEntity=L),!0}const U=u_[F];if(U){s.current&&s.current.rotateAndZoomTo(U.longitude,U.latitude,{zoomHeight:1e4});const R=r.current.dataSources;for(let L=0;L<R.length;L++){const H=R.get(L);if(H.name&&H.name.includes(U.kmlKey)){H.show=!0;const ie=H.entities.values;ie.length>0&&(r.current.selectedEntity=ie[0]);break}}return!0}return!1};$.useImperativeHandle(e,()=>({flyTo:(I,F,M=2e3)=>{s.current&&s.current.rotateAndZoomTo(I,F,{zoomHeight:M})},flyToBounds:I=>{s.current&&s.current.flyToBoundingBox(I)},showCPECRoute:T,hideCPECRoute:N,showSingleRoute:_,showAllRoutes:P,searchUnit:B,getScreenPosition:(I,F)=>{if(!r.current)return null;const M=Cesium.Cartesian3.fromDegrees(I,F),U=Cesium.SceneTransforms.worldToWindowCoordinates(r.current.scene,M);return U?{x:U.x,y:U.y}:null},addTargetEntity:(I,F,M,U=500)=>{if(!r.current)return;d.current.animationId&&(cancelAnimationFrame(d.current.animationId),d.current.animationId=null),l.current&&r.current.entities.remove(l.current),r.current.entities.values.filter(X=>{var te;return(te=X.name)==null?void 0:te.startsWith("Target")}).forEach(X=>r.current.entities.remove(X)),d.current.currentRadius=U,d.current.targetRadius=U;const W=new Cesium.CallbackProperty(()=>d.current.currentRadius,!1),R=new Cesium.CallbackProperty(()=>d.current.currentRadius*.7,!1),L=new Cesium.CallbackProperty(()=>d.current.currentRadius*.4,!1),H=r.current.entities.add({name:`Target: ${M}`,position:Cesium.Cartesian3.fromDegrees(I,F),ellipse:new Cesium.EllipseGraphics({semiMajorAxis:W,semiMinorAxis:W,material:Cesium.Color.fromCssColorString("rgba(255, 0, 100, 0.3)"),outline:!0,outlineColor:Cesium.Color.fromCssColorString("#ff0064"),outlineWidth:3,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND})}),ie=r.current.entities.add({name:`Target Ring 2: ${M}`,position:Cesium.Cartesian3.fromDegrees(I,F),ellipse:new Cesium.EllipseGraphics({semiMajorAxis:R,semiMinorAxis:R,material:Cesium.Color.TRANSPARENT,outline:!0,outlineColor:Cesium.Color.fromCssColorString("rgba(255, 0, 100, 0.5)"),outlineWidth:2,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND})}),G=r.current.entities.add({name:`Target Ring 3: ${M}`,position:Cesium.Cartesian3.fromDegrees(I,F),ellipse:new Cesium.EllipseGraphics({semiMajorAxis:L,semiMinorAxis:L,material:Cesium.Color.TRANSPARENT,outline:!0,outlineColor:Cesium.Color.fromCssColorString("rgba(255, 0, 100, 0.7)"),outlineWidth:2,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND})}),ne=r.current.entities.add({name:`Target Center: ${M}`,position:Cesium.Cartesian3.fromDegrees(I,F),point:new Cesium.PointGraphics({pixelSize:12,color:Cesium.Color.fromCssColorString("#ff0064"),outlineColor:Cesium.Color.WHITE,outlineWidth:2,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND})});c.current={outer:H,middle:ie,inner:G,center:ne},r.current._targetPosition={lon:I,lat:F,name:M},l.current=H,r.current.scene.requestRender()},updateTargetRings:I=>{if(!r.current||!r.current._targetPosition)return;d.current.animationId&&(cancelAnimationFrame(d.current.animationId),d.current.animationId=null),d.current.targetRadius=I;const M=400,U=performance.now(),z=d.current.currentRadius,W=I-z,R=H=>1-Math.pow(1-H,3),L=H=>{const ie=H-U,G=Math.min(ie/M,1),ne=R(G);d.current.currentRadius=z+W*ne,r.current&&r.current.scene.requestRender(),G<1?d.current.animationId=requestAnimationFrame(L):(d.current.currentRadius=I,d.current.animationId=null,r.current&&r.current.scene.requestRender())};d.current.animationId=requestAnimationFrame(L)},removeTargetEntity:()=>{if(!r.current)return;d.current.animationId&&(cancelAnimationFrame(d.current.animationId),d.current.animationId=null),d.current.currentRadius=500,d.current.targetRadius=500,r.current.entities.values.filter(F=>{var M;return(M=F.name)==null?void 0:M.startsWith("Target")}).forEach(F=>r.current.entities.remove(F)),c.current={outer:null,middle:null,inner:null,center:null},l.current=null,r.current._targetPosition=null,r.current.scene.requestRender()},flyToUnit:(I,F,M=5e4)=>{s.current&&s.current.rotateAndZoomTo(I,F,{zoomHeight:M})}})),$.useEffect(()=>{const I=r.current;if(!I)return;let F=!1;const M=z=>{z.entities.values.forEach(R=>{R.label&&(R.label.show=!0,R.label.disableDepthTestDistance=Number.POSITIVE_INFINITY,R.label.heightReference=Cesium.HeightReference.CLAMP_TO_GROUND,R.label.eyeOffset=new Cesium.Cartesian3(0,0,-100)),R.billboard&&(R.billboard.show=!0,R.billboard.disableDepthTestDistance=Number.POSITIVE_INFINITY,R.billboard.heightReference=Cesium.HeightReference.CLAMP_TO_GROUND,R.billboard.eyeOffset=new Cesium.Cartesian3(0,0,-50)),R.polygon&&(R.polygon.heightReference=Cesium.HeightReference.CLAMP_TO_GROUND,R.polygon.extrudedHeightReference=Cesium.HeightReference.CLAMP_TO_GROUND,R.polygon.height===void 0&&(R.polygon.height=0)),R.polyline&&(R.polyline.clampToGround=!0),R.point&&(R.point.heightReference=Cesium.HeightReference.CLAMP_TO_GROUND,R.point.disableDepthTestDistance=Number.POSITIVE_INFINITY),R.show=!0}),z.show=!0};return(async()=>{const z=["/kml/Ormara/Ormara.kml","/kml/Hotan Military/Hotan Military.kml","/kml/Kirana Hills/Kirana Hills.kml"];for(const W of z)try{if(F)return;const R=await Cesium.KmlDataSource.load(W);if(F)return;M(R),I.dataSources.add(R),console.log(`Successfully loaded KML: ${W}`)}catch(R){console.warn(`Failed to load KML file: ${W}`,R)}})(),()=>{F=!0}},[]);const D=()=>{const I=!v;A(I),I?(S(!0),setTimeout(()=>S(!1),5e3)):S(!1)};return f.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[f.jsx("div",{ref:i,style:{width:"100%",height:"100%"}}),y&&f.jsxs("div",{style:{position:"absolute",top:"100px",right:"20px",backgroundColor:"rgba(0, 0, 0, 0.9)",color:"white",padding:"16px 20px",borderRadius:"12px",border:"1px solid rgba(0, 229, 255, 0.5)",fontFamily:"sans-serif",fontSize:"13px",zIndex:1e3,boxShadow:"0 8px 32px rgba(0, 229, 255, 0.2)",backdropFilter:"blur(8px)",maxWidth:"280px",animation:"fadeInOut 5s ease-in-out forwards"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",borderBottom:"1px solid rgba(255,255,255,0.2)",paddingBottom:"8px"},children:[f.jsx("span",{style:{fontSize:"18px"},children:""}),f.jsx("span",{style:{fontWeight:"bold",color:"#00E5FF",fontSize:"14px"},children:"Understanding Clusters"})]}),f.jsxs("p",{style:{color:"#aaa",fontSize:"12px",margin:"0 0 12px 0",lineHeight:"1.4"},children:["Numbers on the map represent ",f.jsx("strong",{style:{color:"#fff"},children:"clusters"}),"  groups of military units in close proximity. The color indicates cluster size:"]}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[f.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",backgroundColor:"#1E90FF",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"bold",flexShrink:0},children:"5"}),f.jsx("span",{style:{color:"#ccc"},children:"Small cluster (2-9 units)"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[f.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",backgroundColor:"#FFA500",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"bold",flexShrink:0},children:"15"}),f.jsx("span",{style:{color:"#ccc"},children:"Medium cluster (10-19 units)"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[f.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",backgroundColor:"#FF0000",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"bold",flexShrink:0},children:"25"}),f.jsx("span",{style:{color:"#ccc"},children:"Large cluster (20+ units)"})]})]}),f.jsx("div",{style:{marginTop:"12px",paddingTop:"10px",borderTop:"1px solid rgba(255,255,255,0.2)",color:"#888",fontSize:"11px",textAlign:"center"},children:" Zoom in to see individual units"})]}),f.jsxs("div",{onClick:D,style:{position:"absolute",top:"100px",left:"20px",backgroundColor:v?"rgba(0, 229, 255, 0.8)":"rgba(0, 0, 0, 0.6)",color:"white",padding:"8px 16px",borderRadius:"4px",border:"1px solid rgba(255,255,255,0.3)",cursor:"pointer",fontFamily:"sans-serif",fontSize:"14px",fontWeight:"bold",zIndex:100,display:"flex",alignItems:"center",gap:"8px",backdropFilter:"blur(4px)",transition:"all 0.2s ease"},children:[v?f.jsx(GT,{}):f.jsx(VT,{}),v?"Hide Units":"Show All Unit Types"]}),v&&f.jsxs("div",{style:{position:"absolute",top:140,left:20,backgroundColor:"rgba(0, 0, 0, 0.8)",color:"white",padding:"15px",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.2)",fontFamily:"sans-serif",fontSize:"14px",zIndex:100,boxShadow:"0 4px 6px rgba(0,0,0,0.3)",maxHeight:"80vh",overflowY:"auto"},children:[f.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"16px",borderBottom:"1px solid #555",paddingBottom:"5px"},children:"Unit Types"}),f.jsxs("div",{style:{marginBottom:"15px",borderBottom:"1px solid #555",paddingBottom:"10px"},children:[f.jsxs("div",{onClick:()=>C("ALL"),style:{display:"flex",alignItems:"center",marginBottom:"6px",cursor:"pointer",fontWeight:m==="ALL"?"bold":"normal",color:m==="ALL"?"#00E5FF":"white"},children:[f.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"white",marginRight:"10px",border:"2px solid #555"}}),"All Sources"]}),f.jsxs("div",{onClick:()=>C("CHN"),style:{display:"flex",alignItems:"center",marginBottom:"6px",cursor:"pointer",opacity:m==="ALL"||m==="CHN"?1:.5,color:m==="CHN"?"#FF0000":"white"},children:[f.jsx(U4,{style:{marginRight:"10px",color:"red"}})," Show Chinese Units"]}),f.jsxs("div",{onClick:()=>C("PAK"),style:{display:"flex",alignItems:"center",marginBottom:"6px",cursor:"pointer",opacity:m==="ALL"||m==="PAK"?1:.5,color:m==="PAK"?"#00FF00":"white"},children:[f.jsx(U4,{style:{marginRight:"10px",color:"green"}})," Show Pakistan Units"]})]}),f.jsxs("div",{onClick:()=>p("ALL"),style:{display:"flex",alignItems:"center",marginBottom:"8px",cursor:"pointer",fontWeight:h==="ALL"?"bold":"normal",color:h==="ALL"?"#00E5FF":"white"},children:[f.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"white",marginRight:"10px",border:"2px solid #555"}}),"Show All Types"]}),w.map(([I,{color:F,icon:M}])=>f.jsxs("div",{onClick:()=>p(I),style:{display:"flex",alignItems:"center",marginBottom:"6px",cursor:"pointer",opacity:h==="ALL"||h===I?1:.5,fontWeight:h===I?"bold":"normal"},children:[f.jsx(M,{style:{color:F,marginRight:"10px"}}),I]},I))]})]})}),Y4={lat:32,lng:70},Q4=[[25.1264,62.3225],[28.9,66.5],[33.6844,73.0479],[35.9208,74.3089],[36.85,75.1],[39.4677,75.9938]],Z4={lat:25.201862,lon:64.674147};class E_{constructor(){O(this,"cache");O(this,"nominatimBaseUrl");this.cache=new Map,this.nominatimBaseUrl="https://nominatim.openstreetmap.org/search"}async search(e){if(this.cache.has(e))return this.cache.get(e)||null;if(e.toLowerCase()==="cpec"){const t={lat:Y4.lat,lon:Y4.lng,displayName:"China-Pakistan Economic Corridor (CPEC)",bbox:this.calculateCPECBoundingBox(),isCPEC:!0};return this.cache.set(e,t),t}if(e.toLowerCase()==="ormara"){const t={lat:Z4.lat,lon:Z4.lon,displayName:"Ormara Coastal Area - Jinnah Naval Base",isOrmara:!0};return this.cache.set(e,t),t}try{const t=await this.searchNominatim(e);return t?(this.cache.set(e,t),t):null}catch(t){return console.error("Geocoding error:",t),null}}calculateCPECBoundingBox(){const e=Q4.map(l=>l[0]),t=Q4.map(l=>l[1]),i=Math.min(...e),r=Math.max(...e),s=Math.min(...t),o=Math.max(...t);return[i,r,s,o]}async searchNominatim(e){const t=new URLSearchParams({q:e,format:"json",limit:"1"}),i=await fetch(`${this.nominatimBaseUrl}?${t.toString()}`);if(!i.ok)throw new Error(`Nominatim API error: ${i.statusText}`);const r=await i.json();if(r&&r.length>0){const s=r[0];return{lat:parseFloat(s.lat),lon:parseFloat(s.lon),displayName:s.display_name,bbox:s.boundingbox?[parseFloat(s.boundingbox[0]),parseFloat(s.boundingbox[1]),parseFloat(s.boundingbox[2]),parseFloat(s.boundingbox[3])]:void 0}}return null}}const k_=new E_,T_=({isVisible:n,onClose:e})=>{const[t,i]=$.useState(0),[r,s]=$.useState(!1),[o,l]=$.useState(!1),[c,d]=$.useState(null),[u,h]=$.useState({x:0,y:0}),p=[{src:"/assets/cpec-map.jpg",title:"CPEC Route Overview Map",description:"Complete China-Pakistan Economic Corridor route from Kashgar to Gwadar Port"},{src:"/assets/cpec2.jpg",title:"CPEC Route Overview Map",description:"Complete China-Pakistan Economic Corridor route from Kashgar to Gwadar Port"},{src:"/assets/cpec3.jpg",title:"CPEC Route Overview Map",description:"Complete China-Pakistan Economic Corridor route from Kashgar to Gwadar Port"},{src:"/assets/cpec4.jpg",title:"CPEC Route Overview Map",description:"Complete China-Pakistan Economic Corridor route from Kashgar to Gwadar Port"},{src:"/assets/cpec5.jpg",title:"CPEC Route Overview Map",description:"Complete China-Pakistan Economic Corridor route from Kashgar to Gwadar Port"}],m=()=>{i(k=>(k+1)%p.length)},C=()=>{i(k=>(k-1+p.length)%p.length)},v=k=>{i(k)},A=k=>{r&&(l(!0),d({x:k.clientX-u.x,y:k.clientY-u.y}))},y=()=>{l(!1)},S=k=>{!o||!r||!c||h({x:k.clientX-c.x,y:k.clientY-c.y})},w=()=>{l(!1)};return $.useEffect(()=>{r||h({x:0,y:0})},[r,t]),n?f.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.95)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e4,fontFamily:"monospace"},onClick:e,children:f.jsxs("div",{style:{width:"90vw",maxWidth:"1000px",height:"80vh",background:"rgba(0, 0, 0, 0.9)",border:"2px solid #00ffff",borderRadius:"8px",padding:"20px",position:"relative",display:"flex",flexDirection:"column"},onClick:k=>k.stopPropagation(),children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",borderBottom:"1px solid #333",paddingBottom:"15px"},children:[f.jsx("h2",{style:{color:"#00ffff",fontSize:"20px",margin:0,letterSpacing:"2px",textTransform:"uppercase"},children:"CPEC PROJECT GALLERY"}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("button",{onClick:()=>s(!0),style:{background:"rgba(0,255,255,0.15)",border:"1px solid #00ffff",color:"#00ffff",borderRadius:"4px",padding:"6px 10px",fontSize:"14px",cursor:"pointer",fontFamily:"monospace",opacity:r?.5:1},disabled:r,title:"Zoom In",children:""}),f.jsx("button",{onClick:()=>s(!1),style:{background:"rgba(0,255,255,0.15)",border:"1px solid #00ffff",color:"#00ffff",borderRadius:"4px",padding:"6px 10px",fontSize:"14px",cursor:"pointer",fontFamily:"monospace",opacity:r?1:.5},disabled:!r,title:"Zoom Out",children:""}),f.jsx("button",{onClick:e,style:{background:"transparent",border:"1px solid #ff4444",color:"#ff4444",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontFamily:"monospace"},children:" CLOSE"})]})]}),f.jsxs("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",position:"relative",marginBottom:"20px",width:"100%",height:"100%",overflow:"hidden",cursor:r?o?"grabbing":"grab":"default",userSelect:"none"},onMouseDown:A,onMouseUp:y,onMouseMove:S,onMouseLeave:w,children:[f.jsx("img",{src:p[t].src,alt:p[t].title,style:{width:r?"180%":"100%",height:r?"180%":"100%",maxWidth:r?"none":"100%",maxHeight:r?"none":"100%",objectFit:"contain",border:"1px solid #333",borderRadius:"4px",background:"#222",boxShadow:"0 0 24px #001133",display:"block",transition:"width 0.3s, height 0.3s",transform:r?`translate(${u.x}px, ${u.y}px)`:"none",cursor:r?o?"grabbing":"grab":"default"},onDragStart:k=>k.preventDefault(),onError:k=>{const E=k.target;E.style.display="none",E.nextElementSibling.setAttribute("style","display: flex")}}),f.jsxs("div",{style:{display:"none",width:"400px",height:"300px",background:"linear-gradient(45deg, #001133, #003366)",border:"1px solid #00ffff",borderRadius:"4px",justifyContent:"center",alignItems:"center",flexDirection:"column",color:"#00ffff",fontSize:"14px",textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"24px",marginBottom:"10px"},children:""}),f.jsx("div",{children:p[t].title}),f.jsx("div",{style:{fontSize:"10px",color:"#666",marginTop:"10px"},children:"IMAGE NOT AVAILABLE"})]}),f.jsx("button",{onClick:C,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(0, 255, 255, 0.2)",border:"1px solid #00ffff",color:"#00ffff",padding:"15px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"18px",fontFamily:"monospace"},children:""}),f.jsx("button",{onClick:m,style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(0, 255, 255, 0.2)",border:"1px solid #00ffff",color:"#00ffff",padding:"15px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"18px",fontFamily:"monospace"},children:""})]}),f.jsxs("div",{style:{background:"rgba(0, 255, 255, 0.1)",padding:"15px",borderRadius:"4px",marginBottom:"15px"},children:[f.jsx("div",{style:{color:"#00ffff",fontSize:"14px",fontWeight:"bold",marginBottom:"5px"},children:p[t].title}),f.jsx("div",{style:{color:"#ccc",fontSize:"12px",lineHeight:"1.4"},children:p[t].description})]}),f.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:p.map((k,E)=>f.jsx("button",{onClick:()=>v(E),style:{width:"12px",height:"12px",borderRadius:"50%",border:"1px solid #00ffff",background:E===t?"#00ffff":"transparent",cursor:"pointer",padding:0}},E))}),f.jsxs("div",{style:{position:"absolute",top:"60px",right:"20px",color:"#666",fontSize:"12px",background:"rgba(0, 0, 0, 0.7)",padding:"5px 10px",borderRadius:"4px"},children:[t+1," / ",p.length]})]})}):null},__=({isVisible:n,onClose:e,onViewKeyOfficials:t,selectedRoute:i,onRouteSelect:r})=>{const[s,o]=$.useState(!1),[l,c]=$.useState(!1),[d,u]=$.useState(""),[h,p]=$.useState(!1),m=v=>{switch(v){case"RED":return"#FF3333";case"CYAN":return"#00FFFF";case"YELLOW":return"#FFFF00";case"LIME":return"#00FF00";case"MAGENTA":return"#FF00FF";case"ORANGE":return"#FFA500";case"GREEN":return"#00FF00";default:return"#ffffff"}},C=async()=>{c(!0);const v=["ACCESSING OSINT DATABASE...","RETRIEVING CLASSIFIED IMAGERY...","DECRYPTING SATELLITE DATA...","VERIFYING INTELLIGENCE SOURCES...","LOADING VISUAL INTELLIGENCE..."];for(let A=0;A<v.length;A++)u(v[A]),await new Promise(y=>setTimeout(y,600));c(!1),u(""),o(!0)};return n?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>p(!1),title:"Expand CPEC Sidebar",style:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",background:"rgba(0, 0, 0, 0.9)",border:"1px solid #00ffff",borderRight:"none",borderRadius:"4px 0 0 4px",color:"#00ffff",fontSize:"18px",cursor:"pointer",padding:"15px 8px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.4s ease-in-out",zIndex:499,opacity:h?1:0,pointerEvents:h?"auto":"none"},onMouseEnter:v=>{v.currentTarget.style.background="rgba(0, 255, 255, 0.2)"},onMouseLeave:v=>{v.currentTarget.style.background="rgba(0, 0, 0, 0.9)"},children:f.jsx(LS,{})}),f.jsx("button",{onClick:()=>p(!0),title:"Minimize Sidebar",style:{position:"absolute",right:h?"-50px":"350px",top:"50%",transform:"translateY(-50%)",background:"rgba(0, 0, 0, 0.9)",border:"1px solid #00ffff",borderRight:"none",borderRadius:"4px 0 0 4px",color:"#00ffff",fontSize:"14px",cursor:"pointer",padding:"12px 8px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.4s ease-in-out",zIndex:501,opacity:h?0:1,pointerEvents:h?"none":"auto"},onMouseEnter:v=>{v.currentTarget.style.background="rgba(0, 255, 255, 0.2)"},onMouseLeave:v=>{v.currentTarget.style.background="rgba(0, 0, 0, 0.9)"},children:f.jsx(C5,{})}),f.jsxs("div",{style:{position:"absolute",top:0,right:h?"-350px":"0px",width:"350px",height:"100vh",background:"rgba(0, 0, 0, 0.9)",color:"white",padding:"20px",boxSizing:"border-box",zIndex:500,fontFamily:"monospace",overflow:"auto",transition:"right 0.4s ease-in-out"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",borderBottom:"1px solid #333",paddingBottom:"15px"},children:[f.jsx("h2",{style:{color:"#00ffff",fontSize:"18px",margin:0,letterSpacing:"2px"},children:"CPEC INTELLIGENCE"}),f.jsx("button",{onClick:e,style:{background:"none",border:"none",color:"white",fontSize:"20px",cursor:"pointer",padding:"5px"},children:""})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"20px"},children:[f.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#ff0000",animation:"pulse 1.5s ease-in-out infinite alternate"}}),f.jsx("span",{style:{fontSize:"12px",color:"#ff0000"},children:"LIVE"})]}),f.jsxs("div",{style:{marginBottom:"25px"},children:[f.jsx("div",{style:{color:"#00ffff",fontSize:"12px",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"1px"},children:" TARGET REGION"}),f.jsx("div",{style:{background:"rgba(0, 255, 255, 0.1)",padding:"12px",borderRadius:"4px",fontSize:"15px",lineHeight:"1.4",fontWeight:"bold"},children:"China-Pakistan Economic Corridor connecting Gwadar Port to Kashgar via Karakoram Highway."})]}),f.jsx("div",{style:{marginBottom:"25px"},children:f.jsxs("div",{onClick:C,style:{width:"100%",height:"120px",background:"linear-gradient(45deg, #001133, #003366)",borderRadius:"4px",position:"relative",overflow:"hidden",cursor:"pointer",border:"1px solid transparent",transition:"all 0.3s ease"},onMouseEnter:v=>{v.currentTarget.style.border="1px solid #00ffff",v.currentTarget.style.background="linear-gradient(45deg, #001144, #004477)"},onMouseLeave:v=>{v.currentTarget.style.border="1px solid transparent",v.currentTarget.style.background="linear-gradient(45deg, #001133, #003366)"},children:[f.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"24px",color:"#00ffff",opacity:.7},children:""}),f.jsx("div",{style:{position:"absolute",top:"8px",right:"8px",fontSize:"10px",color:"#00ffff",opacity:.8},children:"CLICK TO VIEW GALLERY"}),f.jsx("div",{style:{position:"absolute",bottom:"8px",left:"8px",fontSize:"10px",color:"#00ffff"},children:"SOURCE: CPEC PROJECT MAP (MEDIA GRAPHIC)"})]})}),f.jsx("button",{onClick:t,style:{width:"100%",background:"rgba(0, 255, 255, 0.2)",border:"1px solid #00ffff",color:"#00ffff",padding:"12px",borderRadius:"4px",fontSize:"12px",cursor:"pointer",marginBottom:"15px",textTransform:"uppercase",letterSpacing:"1px"},children:" VIEW KEY OFFICIALS"}),f.jsx("button",{style:{width:"100%",background:"#00ffff",color:"#000",border:"none",padding:"15px",borderRadius:"4px",fontSize:"12px",cursor:"pointer",marginBottom:"25px",textTransform:"uppercase",letterSpacing:"1px",fontWeight:"bold"},children:" ENTER INTEL WORKSPACE"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px"},children:[f.jsxs("div",{children:[f.jsx("div",{style:{fontSize:"10px",color:"#888",marginBottom:"5px",textTransform:"uppercase"},children:"Investment"}),f.jsx("div",{style:{color:"#00ffff",fontSize:"18px",fontWeight:"bold"},children:"$62B"})]}),f.jsxs("div",{children:[f.jsx("div",{style:{fontSize:"10px",color:"#888",marginBottom:"5px",textTransform:"uppercase"},children:"Length"}),f.jsx("div",{style:{color:"#00ffff",fontSize:"18px",fontWeight:"bold"},children:"3,000 KM"})]}),f.jsxs("div",{children:[f.jsx("div",{style:{fontSize:"10px",color:"#888",marginBottom:"5px",textTransform:"uppercase"},children:"Status"}),f.jsx("div",{style:{color:"#00ff00",fontSize:"18px",fontWeight:"bold"},children:"ACTIVE"})]}),f.jsxs("div",{children:[f.jsx("div",{style:{fontSize:"10px",color:"#888",marginBottom:"5px",textTransform:"uppercase"},children:"Security"}),f.jsx("div",{style:{color:"#00ff00",fontSize:"18px",fontWeight:"bold"},children:"HIGH"})]})]}),f.jsxs("div",{style:{borderTop:"1px solid #333",paddingTop:"15px",fontSize:"10px",color:"#555"},children:[f.jsx("div",{children:"SYS.V.2.0.4"}),f.jsx("div",{children:" SECURE CONNECTION"})]}),f.jsxs("div",{style:{marginTop:"25px",borderTop:"1px solid #333",paddingTop:"20px"},children:[f.jsx("div",{style:{color:"#00ffff",fontSize:"12px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"2px",marginBottom:"15px",borderBottom:"1px solid rgba(0, 255, 255, 0.3)",paddingBottom:"8px"},children:"CPEC ROUTES"}),f.jsxs("div",{onClick:()=>r(null),style:{display:"flex",alignItems:"center",gap:"10px",padding:"8px 10px",marginBottom:"8px",cursor:"pointer",borderRadius:"6px",background:i===null?"rgba(0, 255, 255, 0.2)":"transparent",border:i===null?"1px solid rgba(0, 255, 255, 0.5)":"1px solid transparent",transition:"all 0.2s ease"},onMouseEnter:v=>{i!==null&&(v.currentTarget.style.background="rgba(0, 255, 255, 0.1)")},onMouseLeave:v=>{i!==null&&(v.currentTarget.style.background="transparent")},children:[f.jsx("div",{style:{width:"20px",height:"4px",background:"linear-gradient(90deg, #ff4444, #00ffff, #ffa500, #00ff00, #ff00ff)",borderRadius:"2px"}}),f.jsx("span",{style:{color:i===null?"#00ffff":"#ffffff",fontSize:"11px",fontWeight:i===null?"bold":"normal"},children:"ALL ROUTES"})]}),b_.map(v=>f.jsxs("div",{onClick:()=>r(v.id),style:{display:"flex",alignItems:"center",gap:"10px",padding:"8px 10px",marginBottom:"4px",cursor:"pointer",borderRadius:"6px",background:i===v.id?"rgba(0, 255, 255, 0.2)":"transparent",border:i===v.id?"1px solid rgba(0, 255, 255, 0.5)":"1px solid transparent",transition:"all 0.2s ease"},onMouseEnter:A=>{i!==v.id&&(A.currentTarget.style.background="rgba(0, 255, 255, 0.1)")},onMouseLeave:A=>{i!==v.id&&(A.currentTarget.style.background="transparent")},children:[f.jsx("div",{style:{width:"20px",height:"4px",background:m(v.color),borderRadius:"2px",boxShadow:`0 0 6px ${m(v.color)}`}}),f.jsx("span",{style:{color:i===v.id?m(v.color):"#cccccc",fontSize:"11px",fontWeight:i===v.id?"bold":"normal",textTransform:"uppercase"},children:v.name})]},v.id)),f.jsx("div",{style:{marginTop:"12px",paddingTop:"8px",borderTop:"1px solid rgba(0, 255, 255, 0.2)",fontSize:"9px",color:"rgba(255, 255, 255, 0.5)",textAlign:"center"},children:"CLICK TO FILTER ROUTES"})]}),f.jsx("style",{children:`
          @keyframes pulse {
            from { opacity: 1; }
            to { opacity: 0.3; }
          }
        `}),l&&f.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.95)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:15e3,fontFamily:"monospace"},children:[f.jsx("div",{style:{color:"#00ff00",fontSize:"24px",marginBottom:"30px",letterSpacing:"3px",textTransform:"uppercase"},children:"OSINT VISUAL INTELLIGENCE"}),f.jsx("div",{style:{color:"#ffff00",fontSize:"16px",marginBottom:"40px",animation:"pulse 1.5s ease-in-out infinite alternate",textAlign:"center",minHeight:"20px"},children:d}),f.jsx("div",{style:{width:"300px",height:"2px",background:"rgba(0, 255, 0, 0.3)",borderRadius:"1px",overflow:"hidden",position:"relative"},children:f.jsx("div",{style:{width:"100px",height:"100%",background:"linear-gradient(90deg, transparent, #00ff00, transparent)",animation:"loading 2s linear infinite"}})}),f.jsx("div",{style:{color:"#666",fontSize:"10px",marginTop:"20px",letterSpacing:"1px"},children:"CLASSIFIED VISUAL DATA - AUTHORIZED ACCESS"})]}),f.jsx(T_,{isVisible:s,onClose:()=>o(!1)})]})]}):null},vn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Ny=[.001,0,0,.001,0,0],w2=1.35,pi={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},fo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},sp="pdfjs_internal_editor_",le={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},ve={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},R_={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},By={TRIANGLES:1,LATTICE:2},jt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},hm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},vt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Sc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},_1={ERRORS:0,WARNINGS:1,INFOS:5},op={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Xu={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},P_={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let R1=_1.WARNINGS;function I_(n){Number.isInteger(n)&&(R1=n)}function D_(){return R1}function P1(n){R1>=_1.INFOS&&console.info(`Info: ${n}`)}function se(n){R1>=_1.WARNINGS&&console.warn(`Warning: ${n}`)}function je(n){throw new Error(n)}function xe(n,e){n||je(e)}function M_(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function FS(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=O_(n)}catch{}}const i=e?URL.parse(n,e):URL.parse(n);return M_(i)?i:null}function OS(n,e,t=!1){const i=URL.parse(n);return i?(i.hash=e,i.href):t&&FS(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function oe(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const yc=function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class J4 extends yc{constructor(e,t){super(e,"PasswordException"),this.code=t}}class S2 extends yc{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Ly extends yc{constructor(e){super(e,"InvalidPDFException")}}class _0 extends yc{constructor(e,t,i){super(e,"ResponseException"),this.status=t,this.missing=i}}class N_ extends yc{constructor(e){super(e,"FormatError")}}class Ca extends yc{constructor(e){super(e,"AbortException")}}function jS(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&je("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),o=n.subarray(r,s);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function sg(n){typeof n!="string"&&je("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function B_(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function L_(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function F_(){try{return new Function(""),!0}catch{return!1}}class Qt{static get isLittleEndian(){return oe(this,"isLittleEndian",L_())}static get isEvalSupported(){return oe(this,"isEvalSupported",F_())}static get isOffscreenCanvasSupported(){return oe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return oe(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return oe(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return oe(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return oe(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return oe(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const b2=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Xs,pm,Fy;class Z{static makeHexColor(e,t,i){return`#${b2[e]}${b2[t]}${b2[i]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,i=0){const r=e[i],s=e[i+1];e[i]=r*t[0]+s*t[2]+t[4],e[i+1]=r*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,i=0){const r=t[0],s=t[1],o=t[2],l=t[3],c=t[4],d=t[5];for(let u=0;u<6;u+=2){const h=e[i+u],p=e[i+u+1];e[i+u]=h*r+p*o+c,e[i+u+1]=h*s+p*l+d}}static applyInverseTransform(e,t){const i=e[0],r=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(i*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-i*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,i){const r=t[0],s=t[1],o=t[2],l=t[3],c=t[4],d=t[5],u=e[0],h=e[1],p=e[2],m=e[3];let C=r*u+c,v=C,A=r*p+c,y=A,S=l*h+d,w=S,k=l*m+d,E=k;if(s!==0||o!==0){const T=s*u,_=s*p,P=o*h,N=o*m;C+=P,y+=P,A+=N,v+=N,S+=T,E+=T,k+=_,w+=_}i[0]=Math.min(i[0],C,A,v,y),i[1]=Math.min(i[1],S,k,w,E),i[2]=Math.max(i[2],C,A,v,y),i[3]=Math.max(i[3],S,k,w,E)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const i=e[0],r=e[1],s=e[2],o=e[3],l=i**2+r**2,c=i*s+r*o,d=s**2+o**2,u=(l+d)/2,h=Math.sqrt(u**2-(l*d-c**2));t[0]=Math.sqrt(u+h||1),t[1]=Math.sqrt(u-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[i,s,r,o]}static pointBoundingBox(e,t,i){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}static rectBoundingBox(e,t,i,r,s){s[0]=Math.min(s[0],e,i),s[1]=Math.min(s[1],t,r),s[2]=Math.max(s[2],e,i),s[3]=Math.max(s[3],t,r)}static bezierBoundingBox(e,t,i,r,s,o,l,c,d){d[0]=Math.min(d[0],e,l),d[1]=Math.min(d[1],t,c),d[2]=Math.max(d[2],e,l),d[3]=Math.max(d[3],t,c),b(this,Xs,Fy).call(this,e,i,s,l,t,r,o,c,3*(-e+3*(i-s)+l),6*(e-2*i+s),3*(i-e),d),b(this,Xs,Fy).call(this,e,i,s,l,t,r,o,c,3*(-t+3*(r-o)+c),6*(t-2*r+o),3*(r-t),d)}}Xs=new WeakSet,pm=function(e,t,i,r,s,o,l,c,d,u){if(d<=0||d>=1)return;const h=1-d,p=d*d,m=p*d,C=h*(h*(h*e+3*d*t)+3*p*i)+m*r,v=h*(h*(h*s+3*d*o)+3*p*l)+m*c;u[0]=Math.min(u[0],C),u[1]=Math.min(u[1],v),u[2]=Math.max(u[2],C),u[3]=Math.max(u[3],v)},Fy=function(e,t,i,r,s,o,l,c,d,u,h,p){if(Math.abs(d)<1e-12){Math.abs(u)>=1e-12&&b(this,Xs,pm).call(this,e,t,i,r,s,o,l,c,-h/u,p);return}const m=u**2-4*h*d;if(m<0)return;const C=Math.sqrt(m),v=2*d;b(this,Xs,pm).call(this,e,t,i,r,s,o,l,c,(-u+C)/v,p),b(this,Xs,pm).call(this,e,t,i,r,s,o,l,c,(-u-C)/v,p)},x(Z,Xs);function O_(n){return decodeURIComponent(escape(n))}let A2=null,eC=null;function j_(n){return A2||(A2=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,eC=new Map([["","t"]])),n.replaceAll(A2,(e,t,i)=>t?t.normalize("NFKC"):eC.get(i))}function zS(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),jS(n)}const $c="pdfjs_internal_id_";function z_(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[i,r,...s]=t;if(!n(i)&&!Number.isInteger(i)||!e(r))return!1;const o=s.length;let l=!0;switch(r.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;l=!1;break;default:return!1}for(const c of s)if(!(typeof c=="number"||l&&c===null))return!1;return!0}function xn(n,e,t){return Math.min(Math.max(n,e),t)}function WS(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(jS(n))}function W_(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):sg(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class ap{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(s){var c;if(!s)return;let o=null;const l=s.name;if(l==="#text")o=s.value;else if(ap.shouldBuildText(l))(c=s==null?void 0:s.attributes)!=null&&c.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const d of s.children)r(d)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class $S{static setupStorage(e,t,i,r,s){const o=r.getValue(t,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",l=>{r.setValue(t,{value:l.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?e.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",l=>{r.setValue(t,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",l=>{r.setValue(t,{value:l.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const l of i.children)l.attributes.value===o.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const c=l.target.options,d=c.selectedIndex===-1?"":c[c.selectedIndex].value;r.setValue(t,{value:d})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:o}=t,l=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[c,d]of Object.entries(o))if(d!=null)switch(c){case"class":d.length&&e.setAttribute(c,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!l||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,d)}l&&s.addLinkAttributes(e,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(e,o.dataId,t,i)}static render(e){var h,p;const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:i});const l=s!=="richText",c=e.div;if(c.append(o),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=m}l&&c.setAttribute("class","xfaLayer xfaFont");const d=[];if(r.children.length===0){if(r.value){const m=document.createTextNode(r.value);o.append(m),l&&ap.shouldBuildText(r.name)&&d.push(m)}return{textDivs:d}}const u=[[r,-1,o]];for(;u.length>0;){const[m,C,v]=u.at(-1);if(C+1===m.children.length){u.pop();continue}const A=m.children[++u.at(-1)[1]];if(A===null)continue;const{name:y}=A;if(y==="#text"){const w=document.createTextNode(A.value);d.push(w),v.append(w);continue}const S=(h=A==null?void 0:A.attributes)!=null&&h.xmlns?document.createElementNS(A.attributes.xmlns,y):document.createElement(y);if(v.append(S),A.attributes&&this.setAttributes({html:S,element:A,storage:t,intent:s,linkService:i}),((p=A.children)==null?void 0:p.length)>0)u.push([A,-1,S]);else if(A.value){const w=document.createTextNode(A.value);l&&ap.shouldBuildText(y)&&d.push(w),S.append(w)}}for(const m of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const ns="http://www.w3.org/2000/svg",Ba=class Ba{};O(Ba,"CSS",96),O(Ba,"PDF",72),O(Ba,"PDF_TO_CSS_UNITS",Ba.CSS/Ba.PDF);let wa=Ba;async function og(n,e="text"){if(oh(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class ag{constructor({viewBox:e,userUnit:t,scale:i,rotation:r,offsetX:s=0,offsetY:o=0,dontFlip:l=!1}){this.viewBox=e,this.userUnit=t,this.scale=i,this.rotation=r,this.offsetX=s,this.offsetY=o,i*=t;const c=(e[2]+e[0])/2,d=(e[3]+e[1])/2;let u,h,p,m;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,h=0,p=0,m=1;break;case 90:u=0,h=1,p=1,m=0;break;case 270:u=0,h=-1,p=-1,m=0;break;case 0:u=1,h=0,p=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(p=-p,m=-m);let C,v,A,y;u===0?(C=Math.abs(d-e[1])*i+s,v=Math.abs(c-e[0])*i+o,A=(e[3]-e[1])*i,y=(e[2]-e[0])*i):(C=Math.abs(c-e[0])*i+s,v=Math.abs(d-e[1])*i+o,A=(e[2]-e[0])*i,y=(e[3]-e[1])*i),this.transform=[u*i,h*i,p*i,m*i,C-u*i*c-p*i*d,v-h*i*c-m*i*d],this.width=A,this.height=y}get rawDims(){const e=this.viewBox;return oe(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new ag({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){const i=[e,t];return Z.applyTransform(i,this.transform),i}convertToViewportRectangle(e){const t=[e[0],e[1]];Z.applyTransform(t,this.transform);const i=[e[2],e[3]];return Z.applyTransform(i,this.transform),[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){const i=[e,t];return Z.applyInverseTransform(i,this.transform),i}}class S5 extends yc{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function I1(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function b5(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function $_(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function H_(n,e="document.pdf"){if(typeof n!="string")return e;if(I1(n))return se('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=(l=>{try{return new URL(l)}catch{try{return new URL(decodeURIComponent(l))}catch{try{return new URL(l,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(l),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return e;const r=l=>{try{let c=decodeURIComponent(l);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:l):c}catch{return l}},s=/\.pdf$/i,o=i.pathname.split("/").at(-1);if(s.test(o))return r(o);if(i.searchParams.size>0){const l=Array.from(i.searchParams.values()).reverse();for(const d of l)if(s.test(d))return r(d);const c=Array.from(i.searchParams.keys()).reverse();for(const d of c)if(s.test(d))return r(d)}if(i.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(c)return r(c[0])}return e}class tC{constructor(){O(this,"started",Object.create(null));O(this,"times",[])}time(e){e in this.started&&se(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||se(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}}function oh(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function qi(n){n.preventDefault()}function pt(n){n.preventDefault(),n.stopPropagation()}function U_(n){console.log("Deprecated API usage: "+n)}var dp;class R0{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;a(this,dp)||g(this,dp,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=a(this,dp).exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const d=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,d==="-"?(o+=u,l+=h):d==="+"&&(o-=u,l-=h),new Date(Date.UTC(i,r,s,o,l,c))}}dp=new WeakMap,x(R0,dp);function G_(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new ag({viewBox:s,userUnit:1,scale:e,rotation:t})}function lg(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(se(`Not a valid color format: "${n}"`),[0,0,0])}function V_(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,lg(i))}e.remove()}function nt(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform();return[e,t,i,r,s,o]}function Cr(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform().invertSelf();return[e,t,i,r,s,o]}function hc(n,e,t=!1,i=!0){if(e instanceof ag){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:o}=n,l=Qt.isCSSRoundSupported,c=`var(--total-scale-factor) * ${r}px`,d=`var(--total-scale-factor) * ${s}px`,u=l?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,h=l?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!t||e.rotation%180===0?(o.width=u,o.height=h):(o.width=h,o.height=u)}i&&n.setAttribute("data-main-rotation",e.rotation)}class Jr{constructor(){const{pixelRatio:e}=Jr;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,i,r,s=-1){let o=1/0,l=1/0,c=1/0;i=Jr.capPixels(i,s),i>0&&(o=Math.sqrt(i/(e*t))),r!==-1&&(l=r/e,c=r/t);const d=Math.min(o,l,c);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,i):i}return e}}const Oy=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class X_{static get isDarkMode(){var e;return oe(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class K_{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:i}=window.getComputedStyle(e);return e.remove(),oe(this,"commentForegroundColor",lg(i))}}function q_(n,e,t,i){i=Math.min(Math.max(i??1,0),1);const r=255*(1-i);return n=Math.round(n*i+r),e=Math.round(e*i+r),t=Math.round(t*i+r),[n,e,t]}function nC(n,e){const t=n[0]/255,i=n[1]/255,r=n[2]/255,s=Math.max(t,i,r),o=Math.min(t,i,r),l=(s+o)/2;if(s===o)e[0]=e[1]=0;else{const c=s-o;switch(e[1]=l<.5?c/(s+o):c/(2-s-o),s){case t:e[0]=((i-r)/c+(i<r?6:0))*60;break;case i:e[0]=((r-t)/c+2)*60;break;case r:e[0]=((t-i)/c+4)*60;break}}e[2]=l}function jy(n,e){const t=n[0],i=n[1],r=n[2],s=(1-Math.abs(2*r-1))*i,o=s*(1-Math.abs(t/60%2-1)),l=r-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+l,e[1]=o+l,e[2]=l;break;case 1:e[0]=o+l,e[1]=s+l,e[2]=l;break;case 2:e[0]=l,e[1]=s+l,e[2]=o+l;break;case 3:e[0]=l,e[1]=o+l,e[2]=s+l;break;case 4:e[0]=o+l,e[1]=l,e[2]=s+l;break;case 5:case 6:e[0]=s+l,e[1]=l,e[2]=o+l;break}}function iC(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function rC(n,e,t){jy(n,t),t.map(iC);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];jy(e,t),t.map(iC);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const sC=new Map;function Y_(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let i=sC.get(t);if(i)return i;const r=new Float32Array(9),s=r.subarray(0,3),o=r.subarray(3,6);nC(n,o);const l=r.subarray(6,9);nC(e,l);const c=l[2]<.5,d=c?12:4.5;if(o[2]=c?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),rC(o,l,s)<d){let u,h;c?(u=o[2],h=1):(u=0,h=o[2]);const p=.005;for(;h-u>p;){const m=o[2]=(u+h)/2;c===rC(o,l,s)<d?u=m:h=m}o[2]=c?h:u}return jy(o,s),i=Z.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),sC.set(t,i),i}function HS({html:n,dir:e,className:t},i){const r=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const o=n.split(/(?:\r\n?|\n)/);for(let l=0,c=o.length;l<c;++l){const d=o[l];s.append(document.createTextNode(d)),l<c-1&&s.append(document.createElement("br"))}r.append(s)}else $S.render({xfaHtml:n,div:r,intent:"richText"});r.firstElementChild.classList.add("richText",t),i.append(r)}function US(n){const e=new Path2D;if(!n)return e;for(let t=0,i=n.length;t<i;)switch(n[t++]){case Xu.moveTo:e.moveTo(n[t++],n[t++]);break;case Xu.lineTo:e.lineTo(n[t++],n[t++]);break;case Xu.curveTo:e.bezierCurveTo(n[t++],n[t++],n[t++],n[t++],n[t++],n[t++]);break;case Xu.quadraticCurveTo:e.quadraticCurveTo(n[t++],n[t++],n[t++],n[t++]);break;case Xu.closePath:e.closePath();break;default:se(`Unrecognized drawing path operator: ${n[t-1]}`);break}return e}var go,mo,Ri,Pi,up,yo,td,nd,hp,W0,GS,qt,VS,XS,bc,ah;const os=class os{constructor(e){x(this,qt);x(this,go,null);x(this,mo,null);x(this,Ri);x(this,Pi,null);x(this,up,null);x(this,yo,null);x(this,td,null);x(this,nd,null);g(this,Ri,e),a(os,hp)||g(os,hp,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=g(this,go,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=a(this,Ri)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",qi,{signal:t}),e.addEventListener("pointerdown",b(os,W0,GS),{signal:t}));const i=g(this,Pi,document.createElement("div"));i.className="buttons",e.append(i);const r=a(this,Ri).toolbarPosition;if(r){const{style:s}=e,o=a(this,Ri)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return a(this,go)}hide(){var e;a(this,go).classList.add("hidden"),(e=a(this,mo))==null||e.hideDropdown()}show(){var e,t;a(this,go).classList.remove("hidden"),(e=a(this,up))==null||e.shown(),(t=a(this,yo))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=a(this,Ri),i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",a(os,hp)[e]),b(this,qt,bc).call(this,i)&&i.addEventListener("click",r=>{t.delete()},{signal:t._signal}),a(this,Pi).append(i)}async addAltText(e){const t=await e.render();b(this,qt,bc).call(this,t),a(this,Pi).append(t,a(this,qt,ah)),g(this,up,e)}addComment(e,t=null){if(a(this,yo))return;const i=e.renderForToolbar();if(!i)return;b(this,qt,bc).call(this,i);const r=g(this,td,a(this,qt,ah));t?(a(this,Pi).insertBefore(i,t),a(this,Pi).insertBefore(r,t)):a(this,Pi).append(i,r),g(this,yo,e),e.toolbar=this}addColorPicker(e){if(a(this,mo))return;g(this,mo,e);const t=e.renderButton();b(this,qt,bc).call(this,t),a(this,Pi).append(t,a(this,qt,ah))}async addEditSignatureButton(e){const t=g(this,nd,await e.renderEditButton(a(this,Ri)));b(this,qt,bc).call(this,t),a(this,Pi).append(t,a(this,qt,ah))}removeButton(e){var t,i;switch(e){case"comment":(t=a(this,yo))==null||t.removeToolbarCommentButton(),g(this,yo,null),(i=a(this,td))==null||i.remove(),g(this,td,null);break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,i){if(!t&&e==="comment")return;const r=a(this,Pi).querySelector(i);r&&e==="comment"&&this.addComment(t,r)}updateEditSignatureButton(e){a(this,nd)&&(a(this,nd).title=e)}remove(){var e;a(this,go).remove(),(e=a(this,mo))==null||e.destroy(),g(this,mo,null)}};go=new WeakMap,mo=new WeakMap,Ri=new WeakMap,Pi=new WeakMap,up=new WeakMap,yo=new WeakMap,td=new WeakMap,nd=new WeakMap,hp=new WeakMap,W0=new WeakSet,GS=function(e){e.stopPropagation()},qt=new WeakSet,VS=function(e){a(this,Ri)._focusEventsAllowed=!1,pt(e)},XS=function(e){a(this,Ri)._focusEventsAllowed=!0,pt(e)},bc=function(e){const t=a(this,Ri)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",b(this,qt,VS).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",b(this,qt,XS).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",qi,{signal:t}),!0)},ah=function(){const e=document.createElement("div");return e.className="divider",e},x(os,W0),x(os,hp,null);let zy=os;var pp,Ha,cs,no,KS,qS,Wy;class Q_{constructor(e){x(this,no);x(this,pp,null);x(this,Ha,null);x(this,cs);g(this,cs,e)}show(e,t,i){const[r,s]=b(this,no,qS).call(this,t,i),{style:o}=a(this,Ha)||g(this,Ha,b(this,no,KS).call(this));e.append(a(this,Ha)),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){a(this,Ha).remove()}}pp=new WeakMap,Ha=new WeakMap,cs=new WeakMap,no=new WeakSet,KS=function(){const e=g(this,Ha,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=a(this,cs)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",qi,{signal:t});const i=g(this,pp,document.createElement("div"));return i.className="buttons",e.append(i),a(this,cs).hasCommentManager()&&b(this,no,Wy).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{a(this,cs).commentSelection("floating_button")}),b(this,no,Wy).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{a(this,cs).highlightSelection("floating_button")}),e},qS=function(e,t){let i=0,r=0;for(const s of e){const o=s.y+s.height;if(o<i)continue;const l=s.x+(t?s.width:0);if(o>i){r=l,i=o;continue}t?l>r&&(r=l):l<r&&(r=l)}return[t?1-r:r,i]},Wy=function(e,t,i,r){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const o=document.createElement("span");s.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",i);const l=a(this,cs)._signal;l instanceof AbortSignal&&!l.aborted&&(s.addEventListener("contextmenu",qi,{signal:l}),s.addEventListener("click",r,{signal:l})),a(this,pp).append(s)};function YS(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}var Ua,Ga,id,Va;const Re=class Re{static initializeAndAddPointerId(e){(a(Re,Ga)||g(Re,Ga,new Set)).add(e)}static setPointer(e,t){a(Re,Ua)||g(Re,Ua,t),a(Re,Va)??g(Re,Va,e)}static setTimeStamp(e){g(Re,id,e)}static isSamePointerId(e){return a(Re,Ua)===e}static isSamePointerIdOrRemove(e){var t;return a(Re,Ua)===e?!0:((t=a(Re,Ga))==null||t.delete(e),!1)}static isSamePointerType(e){return a(Re,Va)===e}static isInitializedAndDifferentPointerType(e){return a(Re,Va)!==null&&!Re.isSamePointerType(e)}static isSameTimeStamp(e){return a(Re,id)===e}static isUsingMultiplePointers(){var e;return((e=a(Re,Ga))==null?void 0:e.size)>=1}static clearPointerType(){g(Re,Va,null)}static clearPointerIds(){g(Re,Ua,NaN),g(Re,Ga,null)}static clearTimeStamp(){g(Re,id,NaN)}};Ua=new WeakMap,Ga=new WeakMap,id=new WeakMap,Va=new WeakMap,x(Re,Ua,NaN),x(Re,Ga,null),x(Re,id,NaN),x(Re,Va,null);let sn=Re;var $0;class Z_{constructor(){x(this,$0,0)}get id(){return`${sp}${St(this,$0)._++}`}}$0=new WeakMap;var rd,fp,on,sd,fm;const I5=class I5{constructor(){x(this,sd);x(this,rd,zS());x(this,fp,0);x(this,on,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return oe(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:i,size:r,type:s}=e;return b(this,sd,fm).call(this,`${t}_${i}_${r}_${s}`,e)}async getFromUrl(e){return b(this,sd,fm).call(this,e,e)}async getFromBlob(e,t){const i=await t;return b(this,sd,fm).call(this,e,i)}async getFromId(e){a(this,on)||g(this,on,new Map);const t=a(this,on).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)}getFromCanvas(e,t){a(this,on)||g(this,on,new Map);let i=a(this,on).get(e);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${a(this,rd)}_${St(this,fp)._++}`,refCounter:1,isSvg:!1},a(this,on).set(e,i),a(this,on).set(i.id,i),i}getSvgUrl(e){const t=a(this,on).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;a(this,on)||g(this,on,new Map);const t=a(this,on).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:i}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(i.width,i.height);s.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=s.convertToBlob()}(r=i.close)==null||r.call(i),t.bitmap=null}isValidId(e){return e.startsWith(`image_${a(this,rd)}_`)}};rd=new WeakMap,fp=new WeakMap,on=new WeakMap,sd=new WeakSet,fm=async function(e,t){a(this,on)||g(this,on,new Map);let i=a(this,on).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${a(this,rd)}_${St(this,fp)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(i.url=t,r=await og(t,"blob")):t instanceof File?r=i.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const s=I5._isSVGFittingCanvas,o=new FileReader,l=new Image,c=new Promise((d,u)=>{l.onload=()=>{i.bitmap=l,i.isSvg=!0,d()},o.onload=async()=>{const h=i.svgUrl=o.result;l.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},l.onerror=o.onerror=u});o.readAsDataURL(r),await c}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){se(r),i=null}return a(this,on).set(e,i),i&&a(this,on).set(i.id,i),i};let $y=I5;var ft,vo,gp,tt;class J_{constructor(e=128){x(this,ft,[]);x(this,vo,!1);x(this,gp);x(this,tt,-1);g(this,gp,e)}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:l=!1}){if(r&&e(),a(this,vo))return;const c={cmd:e,undo:t,post:i,type:s};if(a(this,tt)===-1){a(this,ft).length>0&&(a(this,ft).length=0),g(this,tt,0),a(this,ft).push(c);return}if(o&&a(this,ft)[a(this,tt)].type===s){l&&(c.undo=a(this,ft)[a(this,tt)].undo),a(this,ft)[a(this,tt)]=c;return}const d=a(this,tt)+1;d===a(this,gp)?a(this,ft).splice(0,1):(g(this,tt,d),d<a(this,ft).length&&a(this,ft).splice(d)),a(this,ft).push(c)}undo(){if(a(this,tt)===-1)return;g(this,vo,!0);const{undo:e,post:t}=a(this,ft)[a(this,tt)];e(),t==null||t(),g(this,vo,!1),g(this,tt,a(this,tt)-1)}redo(){if(a(this,tt)<a(this,ft).length-1){g(this,tt,a(this,tt)+1),g(this,vo,!0);const{cmd:e,post:t}=a(this,ft)[a(this,tt)];e(),t==null||t(),g(this,vo,!1)}}hasSomethingToUndo(){return a(this,tt)!==-1}hasSomethingToRedo(){return a(this,tt)<a(this,ft).length-1}cleanType(e){if(a(this,tt)!==-1){for(let t=a(this,tt);t>=0;t--)if(a(this,ft)[t].type!==e){a(this,ft).splice(t+1,a(this,tt)-t),g(this,tt,t);return}a(this,ft).length=0,g(this,tt,-1)}}destroy(){g(this,ft,null)}}ft=new WeakMap,vo=new WeakMap,gp=new WeakMap,tt=new WeakMap;var H0,QS;class cg{constructor(e){x(this,H0);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Qt.platform;for(const[i,r,s={}]of e)for(const o of i){const l=o.startsWith("mac+");t&&l?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!l&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(b(this,H0,QS).call(this,t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:l=null}}=i;l&&!l(e,t)||(r.bind(e,...o,t)(),s||pt(t))}}H0=new WeakSet,QS=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const U0=class U0{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return V_(e),oe(this,"_colors",e)}convert(e){const t=lg(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,o)=>s===t[o]))return U0._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?Z.makeHexColor(...t):e}};O(U0,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Hy=U0;var od,qn,ad,at,Et,ld,Ii,cd,Di,an,xo,Co,dd,wo,Tr,Mi,Xa,mp,yp,ud,vp,_r,So,hd,bo,Rr,G0,Ao,pd,xp,Eo,Ka,fd,ko,Cp,xt,ke,ds,To,_o,wp,gd,Sp,Ro,Pr,us,bp,Ap,Ni,V,gm,Uy,ZS,JS,lh,e8,t8,n8,Gy,i8,r8,s8,o8,pn,is,a8,l8,Vy,c8,ch,Xy;const Uc=class Uc{constructor(e,t,i,r,s,o,l,c,d,u,h,p,m,C,v,A){x(this,V);x(this,od,new AbortController);x(this,qn,null);x(this,ad,null);x(this,at,new Map);x(this,Et,new Map);x(this,ld,null);x(this,Ii,null);x(this,cd,null);x(this,Di,new J_);x(this,an,null);x(this,xo,null);x(this,Co,null);x(this,dd,0);x(this,wo,new Set);x(this,Tr,null);x(this,Mi,null);x(this,Xa,new Set);O(this,"_editorUndoBar",null);x(this,mp,!1);x(this,yp,!1);x(this,ud,!1);x(this,vp,null);x(this,_r,null);x(this,So,null);x(this,hd,null);x(this,bo,!1);x(this,Rr,null);x(this,G0,new Z_);x(this,Ao,!1);x(this,pd,!1);x(this,xp,!1);x(this,Eo,null);x(this,Ka,null);x(this,fd,null);x(this,ko,null);x(this,Cp,null);x(this,xt,le.NONE);x(this,ke,new Set);x(this,ds,null);x(this,To,null);x(this,_o,null);x(this,wp,null);x(this,gd,null);x(this,Sp,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});x(this,Ro,[0,0]);x(this,Pr,null);x(this,us,null);x(this,bp,null);x(this,Ap,null);x(this,Ni,null);const y=this._signal=a(this,od).signal;g(this,us,e),g(this,bp,t),g(this,Ap,i),g(this,ld,r),g(this,an,s),g(this,To,o),g(this,gd,c),this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:y}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:y}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:y}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:y}),l._on("setpreference",this.onSetPreference.bind(this),{signal:y}),l._on("switchannotationeditorparams",S=>this.updateParams(S.type,S.value),{signal:y}),window.addEventListener("pointerdown",()=>{g(this,pd,!0)},{capture:!0,signal:y}),window.addEventListener("pointerup",()=>{g(this,pd,!1)},{capture:!0,signal:y}),b(this,V,e8).call(this),b(this,V,o8).call(this),b(this,V,Gy).call(this),g(this,Ii,c.annotationStorage),g(this,vp,c.filterFactory),g(this,_o,d),g(this,hd,u||null),g(this,mp,h),g(this,yp,p),g(this,ud,m),g(this,Cp,C||null),this.viewParameters={realScale:wa.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=A!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=Uc.prototype,t=o=>a(o,us).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return c!=="text"&&c!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return oe(this,"_keyboardManager",new cg([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&a(o,us).contains(l)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&a(o,us).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,i,r,s,o,l,c,d;(e=a(this,Ni))==null||e.resolve(),g(this,Ni,null),(t=a(this,od))==null||t.abort(),g(this,od,null),this._signal=null;for(const u of a(this,Et).values())u.destroy();a(this,Et).clear(),a(this,at).clear(),a(this,Xa).clear(),(i=a(this,ko))==null||i.clear(),g(this,qn,null),a(this,ke).clear(),a(this,Di).destroy(),(r=a(this,ld))==null||r.destroy(),(s=a(this,an))==null||s.destroy(),(o=a(this,To))==null||o.destroy(),(l=a(this,Rr))==null||l.hide(),g(this,Rr,null),(c=a(this,fd))==null||c.destroy(),g(this,fd,null),g(this,ad,null),a(this,_r)&&(clearTimeout(a(this,_r)),g(this,_r,null)),a(this,Pr)&&(clearTimeout(a(this,Pr)),g(this,Pr,null)),(d=this._editorUndoBar)==null||d.destroy(),g(this,gd,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return a(this,Cp)}get useNewAltTextFlow(){return a(this,yp)}get useNewAltTextWhenAddingImage(){return a(this,ud)}get hcmFilter(){return oe(this,"hcmFilter",a(this,_o)?a(this,vp).addHCMFilter(a(this,_o).foreground,a(this,_o).background):"none")}get direction(){return oe(this,"direction",getComputedStyle(a(this,us)).direction)}get _highlightColors(){return oe(this,"_highlightColors",a(this,hd)?new Map(a(this,hd).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return oe(this,"highlightColors",null);const t=new Map,i=!!a(this,_o);for(const[r,s]of e){const o=r.endsWith("_HCM");if(i&&o){t.set(r.replace("_HCM",""),s);continue}!i&&!o&&t.set(r,s)}return oe(this,"highlightColors",t)}get highlightColorNames(){return oe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),g(this,Co,e)}setMainHighlightColorPicker(e){g(this,fd,e)}editAltText(e,t=!1){var i;(i=a(this,ld))==null||i.editAltText(this,e,t)}hasCommentManager(){return!!a(this,an)}editComment(e,t,i,r){var s;(s=a(this,an))==null||s.showDialog(this,e,t,i,r)}selectComment(e,t){const i=a(this,Et).get(e),r=i==null?void 0:i.getEditorByUID(t);r==null||r.toggleComment(!0,!0)}updateComment(e){var t;(t=a(this,an))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=a(this,an))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=a(this,an))==null||t.removeComments([e.uid])}toggleComment(e,t,i=void 0){var r;(r=a(this,an))==null||r.toggleCommentPopup(e,t,i)}makeCommentColor(e,t){var i;return e&&((i=a(this,an))==null?void 0:i.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=a(this,an))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(a(this,Et).has(e-1))return;const{resolve:t,promise:i}=Promise.withResolvers(),r=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",r),t())};this._eventBus.on("editorsrendered",r),await i}getSignature(e){var t;(t=a(this,To))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return a(this,To)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":g(this,ud,t);break}}onPageChanging({pageNumber:e}){g(this,dd,e-1)}focusMainContainer(){a(this,us).focus()}findParent(e,t){for(const i of a(this,Et).values()){const{x:r,y:s,width:o,height:l}=i.div.getBoundingClientRect();if(e>=r&&e<=r+o&&t>=s&&t<=s+l)return i}return null}disableUserSelect(e=!1){a(this,bp).classList.toggle("noUserSelect",e)}addShouldRescale(e){a(this,Xa).add(e)}removeShouldRescale(e){a(this,Xa).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*wa.PDF_TO_CSS_UNITS;for(const i of a(this,Xa))i.onScaleChanging();(t=a(this,Co))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:l}=i,c=i.toString(),u=b(this,V,gm).call(this,i).closest(".textLayer"),h=this.getSelectionBoxes(u);if(!h)return;i.empty();const p=b(this,V,Uy).call(this,u),m=a(this,xt)===le.NONE,C=()=>{const v=p==null?void 0:p.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:l,text:c});m&&this.showAllEditors("highlight",!0,!0),t&&(v==null||v.editComment())};if(m){this.switchToMode(le.HIGHLIGHT,C);return}C()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!a(this,Ii))return null;const t=`${sp}${e}`,i=a(this,Ii).getRawValue(t);return i&&a(this,Ii).remove(t),i}addToAnnotationStorage(e){!e.isEmpty()&&a(this,Ii)&&!a(this,Ii).has(e.id)&&a(this,Ii).setValue(e.id,e)}a11yAlert(e,t=null){const i=a(this,Ap);i&&(i.setAttribute("data-l10n-id",e),t?i.setAttribute("data-l10n-args",JSON.stringify(t)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,a(this,bo)&&(g(this,bo,!1),b(this,V,lh).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of a(this,ke))if(t.div.contains(e)){g(this,Ka,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!a(this,Ka))return;const[e,t]=a(this,Ka);g(this,Ka,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){b(this,V,Gy).call(this),this.setEditingState(!0)}removeEditListeners(){b(this,V,i8).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of a(this,Mi))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of a(this,Mi))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=a(this,qn))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of a(this,ke)){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of a(this,Mi))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){se(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const c of i){const d=await r.deserialize(c);if(!d)return;s.push(d)}const o=()=>{for(const c of s)b(this,V,Vy).call(this,c);b(this,V,Xy).call(this,s)},l=()=>{for(const c of s)c.remove()};this.addCommands({cmd:o,undo:l,mustExec:!0})}catch(s){se(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),a(this,xt)!==le.NONE&&!this.isEditorHandlingKeyboard&&Uc._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,a(this,bo)&&(g(this,bo,!1),b(this,V,lh).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(b(this,V,t8).call(this),b(this,V,r8).call(this),b(this,V,pn).call(this,{isEditing:a(this,xt)!==le.NONE,isEmpty:b(this,V,ch).call(this),hasSomethingToUndo:a(this,Di).hasSomethingToUndo(),hasSomethingToRedo:a(this,Di).hasSomethingToRedo(),hasSelectedEditor:!1})):(b(this,V,n8).call(this),b(this,V,s8).call(this),b(this,V,pn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!a(this,Mi)){g(this,Mi,e);for(const t of a(this,Mi))b(this,V,is).call(this,t.defaultPropertiesToUpdate)}}getId(){return a(this,G0).id}get currentLayer(){return a(this,Et).get(a(this,dd))}getLayer(e){return a(this,Et).get(e)}get currentPageIndex(){return a(this,dd)}addLayer(e){a(this,Et).set(e.pageIndex,e),a(this,Ao)?e.enable():e.disable()}removeLayer(e){a(this,Et).delete(e.pageIndex)}async updateMode(e,t=null,i=!1,r=!1,s=!1){var o,l,c,d,u,h;if(a(this,xt)!==e&&!(a(this,Ni)&&(await a(this,Ni).promise,!a(this,Ni)))){if(g(this,Ni,Promise.withResolvers()),(o=a(this,Co))==null||o.commitOrRemove(),a(this,xt)===le.POPUP&&((l=a(this,an))==null||l.hideSidebar()),(c=a(this,an))==null||c.destroyPopup(),g(this,xt,e),e===le.NONE){this.setEditingState(!1),b(this,V,l8).call(this);for(const p of a(this,at).values())p.hideStandaloneCommentButton();(d=this._editorUndoBar)==null||d.hide(),this.toggleComment(null),a(this,Ni).resolve();return}for(const p of a(this,at).values())p.addStandaloneCommentButton();e===le.SIGNATURE&&await((u=a(this,To))==null?void 0:u.loadSignatures()),this.setEditingState(!0),await b(this,V,a8).call(this),this.unselectAll();for(const p of a(this,Et).values())p.updateMode(e);if(e===le.POPUP){a(this,ad)||g(this,ad,await a(this,gd).getAnnotationsByType(new Set(a(this,Mi).map(C=>C._editorType))));const p=new Set,m=[];for(const C of a(this,at).values()){const{annotationElementId:v,hasComment:A,deleted:y}=C;v&&p.add(v),A&&!y&&m.push(C.getData())}for(const C of a(this,ad)){const{id:v,popupRef:A,contentsObj:y}=C;A&&(y!=null&&y.str)&&!p.has(v)&&!a(this,wo).has(v)&&m.push(C)}(h=a(this,an))==null||h.showSidebar(m)}if(!t){i&&this.addNewEditorFromKeyboard(),a(this,Ni).resolve();return}for(const p of a(this,at).values())p.uid===t?(this.setSelected(p),s?p.editComment():r?p.enterInEditMode():p.focus()):p.unselect();a(this,Ni).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==a(this,xt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(a(this,Mi)){switch(e){case ve.CREATE:this.currentLayer.addNewEditor(t);return;case ve.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(a(this,wp)||g(this,wp,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const i of a(this,ke))i.updateParams(e,t);else for(const i of a(this,Mi))i.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var s;for(const o of a(this,at).values())o.editorType===e&&o.show(t);(((s=a(this,wp))==null?void 0:s.get(ve.HIGHLIGHT_SHOW_ALL))??!0)!==t&&b(this,V,is).call(this,[[ve.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(a(this,xp)!==e){g(this,xp,e);for(const t of a(this,Et).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of a(this,at).values())t.pageIndex===e&&(yield t)}getEditor(e){return a(this,at).get(e)}addEditor(e){a(this,at).set(e.id,e)}removeEditor(e){var t,i;e.div.contains(document.activeElement)&&(a(this,_r)&&clearTimeout(a(this,_r)),g(this,_r,setTimeout(()=>{this.focusMainContainer(),g(this,_r,null)},0))),a(this,at).delete(e.id),e.annotationElementId&&((t=a(this,ko))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!a(this,wo).has(e.annotationElementId))&&((i=a(this,Ii))==null||i.remove(e.id))}addDeletedAnnotationElement(e){a(this,wo).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return a(this,wo).has(e)}removeDeletedAnnotationElement(e){a(this,wo).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){a(this,qn)!==e&&(g(this,qn,e),e&&b(this,V,is).call(this,e.propertiesToUpdate))}updateUI(e){a(this,V,c8)===e&&b(this,V,is).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){b(this,V,is).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(a(this,ke).has(e)){a(this,ke).delete(e),e.unselect(),b(this,V,pn).call(this,{hasSelectedEditor:this.hasSelection});return}a(this,ke).add(e),e.select(),b(this,V,is).call(this,e.propertiesToUpdate),b(this,V,pn).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.uid}),(t=a(this,Co))==null||t.commitOrRemove();for(const i of a(this,ke))i!==e&&i.unselect();a(this,ke).clear(),a(this,ke).add(e),e.select(),b(this,V,is).call(this,e.propertiesToUpdate),b(this,V,pn).call(this,{hasSelectedEditor:!0})}isSelected(e){return a(this,ke).has(e)}get firstSelectedEditor(){return a(this,ke).values().next().value}unselect(e){e.unselect(),a(this,ke).delete(e),b(this,V,pn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return a(this,ke).size!==0}get isEnterHandled(){return a(this,ke).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;a(this,Di).undo(),b(this,V,pn).call(this,{hasSomethingToUndo:a(this,Di).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:b(this,V,ch).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){a(this,Di).redo(),b(this,V,pn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:a(this,Di).hasSomethingToRedo(),isEmpty:b(this,V,ch).call(this)})}addCommands(e){a(this,Di).add(e),b(this,V,pn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:b(this,V,ch).call(this)})}cleanUndoStack(e){a(this,Di).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...a(this,ke)],i=()=>{var o;(o=this._editorUndoBar)==null||o.show(r,t.length===1?t[0].editorType:t.length);for(const l of t)l.remove()},r=()=>{for(const o of t)b(this,V,Vy).call(this,o)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=a(this,qn))==null||e.commitOrRemove()}hasSomethingToControl(){return a(this,qn)||this.hasSelection}selectAll(){for(const e of a(this,ke))e.commit();b(this,V,Xy).call(this,a(this,at).values())}unselectAll(){var e;if(!(a(this,qn)&&(a(this,qn).commitOrRemove(),a(this,xt)!==le.NONE))&&!((e=a(this,Co))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of a(this,ke))t.unselect();a(this,ke).clear(),b(this,V,pn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;a(this,Ro)[0]+=e,a(this,Ro)[1]+=t;const[r,s]=a(this,Ro),o=[...a(this,ke)],l=1e3;a(this,Pr)&&clearTimeout(a(this,Pr)),g(this,Pr,setTimeout(()=>{g(this,Pr,null),a(this,Ro)[0]=a(this,Ro)[1]=0,this.addCommands({cmd:()=>{for(const c of o)a(this,at).has(c.id)&&(c.translateInPage(r,s),c.translationDone())},undo:()=>{for(const c of o)a(this,at).has(c.id)&&(c.translateInPage(-r,-s),c.translationDone())},mustExec:!1})},l));for(const c of o)c.translateInPage(e,t),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),g(this,Tr,new Map);for(const e of a(this,ke))a(this,Tr).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!a(this,Tr))return!1;this.disableUserSelect(!1);const e=a(this,Tr);g(this,Tr,null);let t=!1;for(const[{x:r,y:s,pageIndex:o},l]of e)l.newX=r,l.newY=s,l.newPageIndex=o,t||(t=r!==l.savedX||s!==l.savedY||o!==l.savedPageIndex);if(!t)return!1;const i=(r,s,o,l)=>{if(a(this,at).has(r.id)){const c=a(this,Et).get(l);c?r._setParentAndPosition(c,s,o):(r.pageIndex=l,r.x=s,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:o,newPageIndex:l}]of e)i(r,s,o,l)},undo:()=>{for(const[r,{savedX:s,savedY:o,savedPageIndex:l}]of e)i(r,s,o,l)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(a(this,Tr))for(const i of a(this,Tr).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||a(this,ke).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return a(this,qn)===e}getActive(){return a(this,qn)}getMode(){return a(this,xt)}isEditingMode(){return a(this,xt)!==le.NONE}get imageManager(){return oe(this,"imageManager",new $y)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let d=0,u=t.rangeCount;d<u;d++)if(!e.contains(t.getRangeAt(d).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:o}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(d,u,h,p)=>({x:(u-r)/o,y:1-(d+h-i)/s,width:p/o,height:h/s});break;case"180":l=(d,u,h,p)=>({x:1-(d+h-i)/s,y:1-(u+p-r)/o,width:h/s,height:p/o});break;case"270":l=(d,u,h,p)=>({x:1-(u+p-r)/o,y:(d-i)/s,width:p/o,height:h/s});break;default:l=(d,u,h,p)=>({x:(d-i)/s,y:(u-r)/o,width:h/s,height:p/o});break}const c=[];for(let d=0,u=t.rangeCount;d<u;d++){const h=t.getRangeAt(d);if(!h.collapsed)for(const{x:p,y:m,width:C,height:v}of h.getClientRects())C===0||v===0||c.push(l(p,m,C,v))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(a(this,cd)||g(this,cd,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=a(this,cd))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=a(this,cd))==null?void 0:r.get(e.data.id);if(!t)return;const i=a(this,Ii).getRawValue(t);i&&(a(this,xt)===le.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}setMissingCanvas(e,t,i){var s;const r=(s=a(this,ko))==null?void 0:s.get(e);r&&(r.setCanvas(t,i),a(this,ko).delete(e))}addMissingCanvas(e,t){(a(this,ko)||g(this,ko,new Map)).set(e,t)}};od=new WeakMap,qn=new WeakMap,ad=new WeakMap,at=new WeakMap,Et=new WeakMap,ld=new WeakMap,Ii=new WeakMap,cd=new WeakMap,Di=new WeakMap,an=new WeakMap,xo=new WeakMap,Co=new WeakMap,dd=new WeakMap,wo=new WeakMap,Tr=new WeakMap,Mi=new WeakMap,Xa=new WeakMap,mp=new WeakMap,yp=new WeakMap,ud=new WeakMap,vp=new WeakMap,_r=new WeakMap,So=new WeakMap,hd=new WeakMap,bo=new WeakMap,Rr=new WeakMap,G0=new WeakMap,Ao=new WeakMap,pd=new WeakMap,xp=new WeakMap,Eo=new WeakMap,Ka=new WeakMap,fd=new WeakMap,ko=new WeakMap,Cp=new WeakMap,xt=new WeakMap,ke=new WeakMap,ds=new WeakMap,To=new WeakMap,_o=new WeakMap,wp=new WeakMap,gd=new WeakMap,Sp=new WeakMap,Ro=new WeakMap,Pr=new WeakMap,us=new WeakMap,bp=new WeakMap,Ap=new WeakMap,Ni=new WeakMap,V=new WeakSet,gm=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Uy=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const i of a(this,Et).values())if(i.hasTextLayer(e))return i;return null},ZS=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=b(this,V,gm).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(a(this,Rr)||g(this,Rr,new Q_(this)),a(this,Rr).show(i,r,this.direction==="ltr"))},JS=function(){var s,o,l;const e=document.getSelection();if(!e||e.isCollapsed){a(this,ds)&&((s=a(this,Rr))==null||s.hide(),g(this,ds,null),b(this,V,pn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===a(this,ds))return;const r=b(this,V,gm).call(this,e).closest(".textLayer");if(!r){a(this,ds)&&((o=a(this,Rr))==null||o.hide(),g(this,ds,null),b(this,V,pn).call(this,{hasSelectedText:!1}));return}if((l=a(this,Rr))==null||l.hide(),g(this,ds,t),b(this,V,pn).call(this,{hasSelectedText:!0}),!(a(this,xt)!==le.HIGHLIGHT&&a(this,xt)!==le.NONE)&&(a(this,xt)===le.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),g(this,bo,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=a(this,xt)===le.HIGHLIGHT?b(this,V,Uy).call(this,r):null;if(c==null||c.toggleDrawing(),a(this,pd)){const d=new AbortController,u=this.combinedSignal(d),h=p=>{p.type==="pointerup"&&p.button!==0||(d.abort(),c==null||c.toggleDrawing(!0),p.type==="pointerup"&&b(this,V,lh).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:u}),window.addEventListener("blur",h,{signal:u})}else c==null||c.toggleDrawing(!0),b(this,V,lh).call(this,"main_toolbar")}},lh=function(e=""){a(this,xt)===le.HIGHLIGHT?this.highlightSelection(e):a(this,mp)&&b(this,V,ZS).call(this)},e8=function(){document.addEventListener("selectionchange",b(this,V,JS).bind(this),{signal:this._signal})},t8=function(){if(a(this,So))return;g(this,So,new AbortController);const e=this.combinedSignal(a(this,So));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},n8=function(){var e;(e=a(this,So))==null||e.abort(),g(this,So,null)},Gy=function(){if(a(this,Eo))return;g(this,Eo,new AbortController);const e=this.combinedSignal(a(this,Eo));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},i8=function(){var e;(e=a(this,Eo))==null||e.abort(),g(this,Eo,null)},r8=function(){if(a(this,xo))return;g(this,xo,new AbortController);const e=this.combinedSignal(a(this,xo));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},s8=function(){var e;(e=a(this,xo))==null||e.abort(),g(this,xo,null)},o8=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},pn=function(e){Object.entries(e).some(([i,r])=>a(this,Sp)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(a(this,Sp),e)}),a(this,xt)===le.HIGHLIGHT&&e.hasSelectedEditor===!1&&b(this,V,is).call(this,[[ve.HIGHLIGHT_FREE,!0]]))},is=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},a8=async function(){if(!a(this,Ao)){g(this,Ao,!0);const e=[];for(const t of a(this,Et).values())e.push(t.enable());await Promise.all(e);for(const t of a(this,at).values())t.enable()}},l8=function(){if(this.unselectAll(),a(this,Ao)){g(this,Ao,!1);for(const e of a(this,Et).values())e.disable();for(const e of a(this,at).values())e.disable()}},Vy=function(e){const t=a(this,Et).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},c8=function(){let e=null;for(e of a(this,ke));return e},ch=function(){if(a(this,at).size===0)return!0;if(a(this,at).size===1)for(const e of a(this,at).values())return e.isEmpty();return!1},Xy=function(e){for(const t of a(this,ke))t.unselect();a(this,ke).clear();for(const t of e)t.isEmpty()||(a(this,ke).add(t),t.select());b(this,V,pn).call(this,{hasSelectedEditor:this.hasSelection})},O(Uc,"TRANSLATE_SMALL",1),O(Uc,"TRANSLATE_BIG",10);let pc=Uc;var Pt,Ir,er,md,Dr,Yn,yd,Mr,In,hs,qa,Nr,Po,fr,dh,mm;const fn=class fn{constructor(e){x(this,fr);x(this,Pt,null);x(this,Ir,!1);x(this,er,null);x(this,md,null);x(this,Dr,null);x(this,Yn,null);x(this,yd,!1);x(this,Mr,null);x(this,In,null);x(this,hs,null);x(this,qa,null);x(this,Nr,!1);g(this,In,e),g(this,Nr,e._uiManager.useNewAltTextFlow),a(fn,Po)||g(fn,Po,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){fn._l10n??(fn._l10n=e)}async render(){const e=g(this,er,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=g(this,md,document.createElement("span"));e.append(t),a(this,Nr)?(e.classList.add("new"),e.setAttribute("data-l10n-id",a(fn,Po).missing),t.setAttribute("data-l10n-id",a(fn,Po)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=a(this,In)._uiManager._signal;e.addEventListener("contextmenu",qi,{signal:i}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),a(this,In)._uiManager.editAltText(a(this,In)),a(this,Nr)&&a(this,In)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:a(this,fr,dh)}})};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(g(this,yd,!0),r(s))},{signal:i}),await b(this,fr,mm).call(this),e}finish(){a(this,er)&&(a(this,er).focus({focusVisible:a(this,yd)}),g(this,yd,!1))}isEmpty(){return a(this,Nr)?a(this,Pt)===null:!a(this,Pt)&&!a(this,Ir)}hasData(){return a(this,Nr)?a(this,Pt)!==null||!!a(this,hs):this.isEmpty()}get guessedText(){return a(this,hs)}async setGuessedText(e){a(this,Pt)===null&&(g(this,hs,e),g(this,qa,await fn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),b(this,fr,mm).call(this))}toggleAltTextBadge(e=!1){var t;if(!a(this,Nr)||a(this,Pt)){(t=a(this,Mr))==null||t.remove(),g(this,Mr,null);return}if(!a(this,Mr)){const i=g(this,Mr,document.createElement("div"));i.className="noAltTextBadge",a(this,In).div.append(i)}a(this,Mr).classList.toggle("hidden",!e)}serialize(e){let t=a(this,Pt);return!e&&a(this,hs)===t&&(t=a(this,qa)),{altText:t,decorative:a(this,Ir),guessedText:a(this,hs),textWithDisclaimer:a(this,qa)}}get data(){return{altText:a(this,Pt),decorative:a(this,Ir)}}set data({altText:e,decorative:t,guessedText:i,textWithDisclaimer:r,cancel:s=!1}){i&&(g(this,hs,i),g(this,qa,r)),!(a(this,Pt)===e&&a(this,Ir)===t)&&(s||(g(this,Pt,e),g(this,Ir,t)),b(this,fr,mm).call(this))}toggle(e=!1){a(this,er)&&(!e&&a(this,Yn)&&(clearTimeout(a(this,Yn)),g(this,Yn,null)),a(this,er).disabled=!e)}shown(){a(this,In)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:a(this,fr,dh)}})}destroy(){var e,t;(e=a(this,er))==null||e.remove(),g(this,er,null),g(this,md,null),g(this,Dr,null),(t=a(this,Mr))==null||t.remove(),g(this,Mr,null)}};Pt=new WeakMap,Ir=new WeakMap,er=new WeakMap,md=new WeakMap,Dr=new WeakMap,Yn=new WeakMap,yd=new WeakMap,Mr=new WeakMap,In=new WeakMap,hs=new WeakMap,qa=new WeakMap,Nr=new WeakMap,Po=new WeakMap,fr=new WeakSet,dh=function(){return a(this,Pt)&&"added"||a(this,Pt)===null&&this.guessedText&&"review"||"missing"},mm=async function(){var r,s,o;const e=a(this,er);if(!e)return;if(a(this,Nr)){if(e.classList.toggle("done",!!a(this,Pt)),e.setAttribute("data-l10n-id",a(fn,Po)[a(this,fr,dh)]),(r=a(this,md))==null||r.setAttribute("data-l10n-id",a(fn,Po)[`${a(this,fr,dh)}-label`]),!a(this,Pt)){(s=a(this,Dr))==null||s.remove();return}}else{if(!a(this,Pt)&&!a(this,Ir)){e.classList.remove("done"),(o=a(this,Dr))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=a(this,Dr);if(!t){g(this,Dr,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${a(this,In).id}`;const l=100,c=a(this,In)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(a(this,Yn)),g(this,Yn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{g(this,Yn,setTimeout(()=>{g(this,Yn,null),a(this,Dr).classList.add("show"),a(this,In)._reportTelemetry({action:"alt_text_tooltip"})},l))},{signal:c}),e.addEventListener("mouseleave",()=>{var d;a(this,Yn)&&(clearTimeout(a(this,Yn)),g(this,Yn,null)),(d=a(this,Dr))==null||d.classList.remove("show")},{signal:c})}a(this,Ir)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=a(this,Pt)),t.parentNode||e.append(t);const i=a(this,In).getElementForAltText();i==null||i.setAttribute("aria-describedby",t.id)},x(fn,Po,null),O(fn,"_l10n",null);let P0=fn;var zt,Bi,Ya,We,Ep,Qa,tr,Za,Ja,el,kp,Ky;class Ng{constructor(e){x(this,kp);x(this,zt,null);x(this,Bi,null);x(this,Ya,!1);x(this,We,null);x(this,Ep,null);x(this,Qa,null);x(this,tr,null);x(this,Za,null);x(this,Ja,!1);x(this,el,null);g(this,We,e)}renderForToolbar(){const e=g(this,Bi,document.createElement("button"));return e.className="comment",b(this,kp,Ky).call(this,e,!1)}renderForStandalone(){const e=g(this,zt,document.createElement("button"));e.className="annotationCommentButton";const t=a(this,We).commentButtonPosition;if(t){const{style:i}=e;i.insetInlineEnd=`calc(${100*(a(this,We)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const r=a(this,We).commentButtonColor;r&&(i.backgroundColor=r)}return b(this,kp,Ky).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=a(this,zt)??a(this,Bi))==null||e.focus()},0)}onUpdatedColor(){if(!a(this,zt))return;const e=a(this,We).commentButtonColor;e&&(a(this,zt).style.backgroundColor=e),a(this,We)._uiManager.updatePopupColor(a(this,We))}get commentButtonWidth(){var e;return(((e=a(this,zt))==null?void 0:e.getBoundingClientRect().width)??0)/a(this,We).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(a(this,el))return a(this,el);if(!a(this,zt))return null;const{x:e,y:t,height:i}=a(this,zt).getBoundingClientRect(),{x:r,y:s,width:o,height:l}=a(this,We).parent.boundingClientRect;return[(e-r)/o,(t+i-s)/l]}set commentPopupPositionInLayer(e){g(this,el,e)}hasDefaultPopupPosition(){return a(this,el)===null}removeStandaloneCommentButton(){var e;(e=a(this,zt))==null||e.remove(),g(this,zt,null)}removeToolbarCommentButton(){var e;(e=a(this,Bi))==null||e.remove(),g(this,Bi,null)}setCommentButtonStates({selected:e,hasPopup:t}){a(this,zt)&&(a(this,zt).classList.toggle("selected",e),a(this,zt).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let i,r;if(t)[i,r]=t;else{[i,r]=a(this,We).commentButtonPosition;const{width:u,height:h,x:p,y:m}=a(this,We);i=p+i*u,r=m+r*h}const s=a(this,We).parent.boundingClientRect,{x:o,y:l,width:c,height:d}=s;a(this,We)._uiManager.editComment(a(this,We),o+i*c,l+r*d,{...e,parentDimensions:s})}finish(){a(this,Bi)&&(a(this,Bi).focus({focusVisible:a(this,Ya)}),g(this,Ya,!1))}isDeleted(){return a(this,Ja)||a(this,tr)===""}isEmpty(){return a(this,tr)===null}hasBeenEdited(){return this.isDeleted()||a(this,tr)!==a(this,Ep)}serialize(){return this.data}get data(){return{text:a(this,tr),richText:a(this,Qa),date:a(this,Za),deleted:this.isDeleted()}}set data(e){if(e!==a(this,tr)&&g(this,Qa,null),e===null){g(this,tr,""),g(this,Ja,!0);return}g(this,tr,e),g(this,Za,new Date),g(this,Ja,!1)}setInitialText(e,t=null){g(this,Ep,e),this.data=e,g(this,Za,null),g(this,Qa,t)}shown(){}destroy(){var e,t;(e=a(this,Bi))==null||e.remove(),g(this,Bi,null),(t=a(this,zt))==null||t.remove(),g(this,zt,null),g(this,tr,""),g(this,Qa,null),g(this,Za,null),g(this,We,null),g(this,Ya,!1),g(this,Ja,!1)}}zt=new WeakMap,Bi=new WeakMap,Ya=new WeakMap,We=new WeakMap,Ep=new WeakMap,Qa=new WeakMap,tr=new WeakMap,Za=new WeakMap,Ja=new WeakMap,el=new WeakMap,kp=new WeakSet,Ky=function(e,t){if(!a(this,We)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[a(this,We)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const i=a(this,We)._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return e;e.addEventListener("contextmenu",qi,{signal:i}),t&&(e.addEventListener("focusin",s=>{a(this,We)._focusEventsAllowed=!1,pt(s)},{capture:!0,signal:i}),e.addEventListener("focusout",s=>{a(this,We)._focusEventsAllowed=!0,pt(s)},{capture:!0,signal:i})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),e===a(this,Bi)?this.edit():a(this,We).toggleComment(!0)};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(g(this,Ya,!0),r(s))},{signal:i}),e.addEventListener("pointerenter",()=>{a(this,We).toggleComment(!1,!0)},{signal:i}),e.addEventListener("pointerleave",()=>{a(this,We).toggleComment(!1,!1)},{signal:i}),e};var vd,tl,Tp,_p,Rp,Pp,Ip,ps,nl,fs,il,gs,Sa,d8,u8,h8;const D5=class D5{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:o=null,signal:l}){x(this,Sa);x(this,vd);x(this,tl,!1);x(this,Tp,null);x(this,_p);x(this,Rp);x(this,Pp);x(this,Ip);x(this,ps,null);x(this,nl);x(this,fs,null);x(this,il);x(this,gs,null);g(this,vd,e),g(this,Tp,i),g(this,_p,t),g(this,Rp,r),g(this,Pp,s),g(this,Ip,o),g(this,il,new AbortController),g(this,nl,AbortSignal.any([l,a(this,il).signal])),e.addEventListener("touchstart",b(this,Sa,d8).bind(this),{passive:!1,signal:a(this,nl)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Jr.pixelRatio}destroy(){var e,t;(e=a(this,il))==null||e.abort(),g(this,il,null),(t=a(this,ps))==null||t.abort(),g(this,ps,null)}};vd=new WeakMap,tl=new WeakMap,Tp=new WeakMap,_p=new WeakMap,Rp=new WeakMap,Pp=new WeakMap,Ip=new WeakMap,ps=new WeakMap,nl=new WeakMap,fs=new WeakMap,il=new WeakMap,gs=new WeakMap,Sa=new WeakSet,d8=function(e){var r,s,o;if((r=a(this,_p))!=null&&r.call(this))return;if(e.touches.length===1){if(a(this,ps))return;const l=g(this,ps,new AbortController),c=AbortSignal.any([a(this,nl),l.signal]),d=a(this,vd),u={capture:!0,signal:c,passive:!1},h=p=>{var m;p.pointerType==="touch"&&((m=a(this,ps))==null||m.abort(),g(this,ps,null))};d.addEventListener("pointerdown",p=>{p.pointerType==="touch"&&(pt(p),h(p))},u),d.addEventListener("pointerup",h,u),d.addEventListener("pointercancel",h,u);return}if(!a(this,gs)){g(this,gs,new AbortController);const l=AbortSignal.any([a(this,nl),a(this,gs).signal]),c=a(this,vd),d={signal:l,capture:!1,passive:!1};c.addEventListener("touchmove",b(this,Sa,u8).bind(this),d);const u=b(this,Sa,h8).bind(this);c.addEventListener("touchend",u,d),c.addEventListener("touchcancel",u,d),d.capture=!0,c.addEventListener("pointerdown",pt,d),c.addEventListener("pointermove",pt,d),c.addEventListener("pointercancel",pt,d),c.addEventListener("pointerup",pt,d),(s=a(this,Rp))==null||s.call(this)}if(pt(e),e.touches.length!==2||(o=a(this,Tp))!=null&&o.call(this)){g(this,fs,null);return}let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]),g(this,fs,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:i.screenX,touch1Y:i.screenY})},u8=function(e){var k;if(!a(this,fs)||e.touches.length!==2)return;pt(e);let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]);const{screenX:r,screenY:s}=t,{screenX:o,screenY:l}=i,c=a(this,fs),{touch0X:d,touch0Y:u,touch1X:h,touch1Y:p}=c,m=h-d,C=p-u,v=o-r,A=l-s,y=Math.hypot(v,A)||1,S=Math.hypot(m,C)||1;if(!a(this,tl)&&Math.abs(S-y)<=D5.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=r,c.touch0Y=s,c.touch1X=o,c.touch1Y=l,!a(this,tl)){g(this,tl,!0);return}const w=[(r+o)/2,(s+l)/2];(k=a(this,Pp))==null||k.call(this,w,S,y)},h8=function(e){var t;e.touches.length>=2||(a(this,gs)&&(a(this,gs).abort(),g(this,gs,null),(t=a(this,Ip))==null||t.call(this)),a(this,fs)&&(pt(e),g(this,fs,null),g(this,tl,!1)))};let I0=D5;var rl,nr,Ze,Le,ms,xd,Io,Dp,Wt,sl,ys,Li,Do,Mp,ol,Qn,Np,al,vs,Br,Cd,wd,Fi,ll,Bp,V0,re,qy,Lp,Yy,ym,p8,f8,Qy,vm,Zy,g8,m8,y8,Jy,v8,ev,x8,C8,w8,tv,uh;const ae=class ae{constructor(e){x(this,re);x(this,rl,null);x(this,nr,null);x(this,Ze,null);x(this,Le,null);x(this,ms,null);x(this,xd,!1);x(this,Io,null);x(this,Dp,"");x(this,Wt,null);x(this,sl,null);x(this,ys,null);x(this,Li,null);x(this,Do,null);x(this,Mp,"");x(this,ol,!1);x(this,Qn,null);x(this,Np,!1);x(this,al,!1);x(this,vs,!1);x(this,Br,null);x(this,Cd,0);x(this,wd,0);x(this,Fi,null);x(this,ll,null);O(this,"isSelected",!1);O(this,"_isCopy",!1);O(this,"_editToolbar",null);O(this,"_initialOptions",Object.create(null));O(this,"_initialData",null);O(this,"_isVisible",!0);O(this,"_uiManager",null);O(this,"_focusEventsAllowed",!0);x(this,Bp,!1);x(this,V0,ae._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,o];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=ae.prototype._resizeWithKeyboard,t=pc.TRANSLATE_SMALL,i=pc.TRANSLATE_BIG;return oe(this,"_resizerKeyboardManager",new cg([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],ae.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return oe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new eR({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(ae._l10n??(ae._l10n=e),ae._l10nResizer||(ae._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ae._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);ae._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){je("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return a(this,Bp)}set _isDraggable(e){var t;g(this,Bp,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=a(this,V0)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(b(this,re,uh).call(this),(t=a(this,Li))==null||t.remove(),g(this,Li,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(a(this,ol)?g(this,ol,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,o]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[i,r]=this.parentDimensions;this.setAt(e*i,t*r,this.width*i,this.height*r),this._onTranslated()}translate(e,t){b(this,re,qy).call(this,this.parentDimensions,e,t)}translateInPage(e,t){a(this,Qn)||g(this,Qn,[this.x,this.y,this.width,this.height]),b(this,re,qy).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){a(this,Qn)||g(this,Qn,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[r,s]}=this;if(this.x+=e/r,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:p}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,p)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:l}=this;const[c,d]=this.getBaseTranslation();o+=c,l+=d;const{style:u}=i;u.left=`${(100*o).toFixed(2)}%`,u.top=`${(100*l).toFixed(2)}%`,this._onTranslating(o,l),i.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!a(this,Qn)&&(a(this,Qn)[0]!==this.x||a(this,Qn)[1]!==this.y)}get _hasBeenResized(){return!!a(this,Qn)&&(a(this,Qn)[2]!==this.width||a(this,Qn)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=ae,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[i,r]}=this;let{x:s,y:o,width:l,height:c}=this;if(l*=i,c*=r,s*=i,o*=r,this._mustFixPosition)switch(e){case 0:s=xn(s,0,i-l),o=xn(o,0,r-c);break;case 90:s=xn(s,0,i-c),o=xn(o,l,r);break;case 180:s=xn(s,l,i),o=xn(o,c,r);break;case 270:s=xn(s,c,i),o=xn(o,0,r-l);break}this.x=s/=i,this.y=o/=r;const[d,u]=this.getBaseTranslation();s+=d,o+=u,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return b(i=ae,Lp,Yy).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return b(i=ae,Lp,Yy).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(){const{div:{style:e},width:t,height:i}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=a(this,Ze))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||a(this,al))return this._editToolbar;this._editToolbar=new zy(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,i]of e)await this._editToolbar.addButton(t,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=a(this,Ze))==null||t.destroy()}addContainer(e){var i;const t=(i=this._editToolbar)==null?void 0:i.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return a(this,Ze)||(P0.initialize(ae._l10n),g(this,Ze,new P0(this)),a(this,rl)&&(a(this,Ze).data=a(this,rl),g(this,rl,null))),a(this,Ze)}get altTextData(){var e;return(e=a(this,Ze))==null?void 0:e.data}set altTextData(e){a(this,Ze)&&(a(this,Ze).data=e)}get guessedAltText(){var e;return(e=a(this,Ze))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=a(this,Ze))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=a(this,Ze))==null?void 0:t.serialize(e)}hasAltText(){return!!a(this,Ze)&&!a(this,Ze).isEmpty()}hasAltTextData(){var e;return((e=a(this,Ze))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=a(this,Le))==null||e.focusButton()}addCommentButton(){return this.canAddComment?a(this,Le)||g(this,Le,new Ng(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(a(this,ms)){this._uiManager.isEditingMode()&&a(this,ms).classList.remove("hidden");return}this.hasComment&&(g(this,ms,a(this,Le).renderForStandalone()),this.div.append(a(this,ms)))}}removeStandaloneCommentButton(){a(this,Le).removeStandaloneCommentButton(),g(this,ms,null)}hideStandaloneCommentButton(){var e;(e=a(this,ms))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:i,deleted:r}}=a(this,Le);return{text:t,richText:e,date:i,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){a(this,Le)||g(this,Le,new Ng(this)),a(this,Le).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:i}){if(!t||(a(this,Le)||g(this,Le,new Ng(this)),a(this,Le).setInitialText(e,i),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){var e;return(e=a(this,Le))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=a(this,Le))==null?void 0:e.isDeleted()}get hasComment(){return!!a(this,Le)&&!a(this,Le).isEmpty()&&!a(this,Le).isDeleted()}async editComment(e){a(this,Le)||g(this,Le,new Ng(this)),a(this,Le).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){a(this,Le).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,r]=e.rect,[s]=this.pageDimensions,[o]=this.pageTranslation,l=o+s+1,c=r-100,d=l+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[l,c,d,r]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){a(this,Le).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var o;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=a(this,xd)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),b(this,re,ev).call(this);const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*i/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),YS(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(a(this,ll)||g(this,ll,new I0({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:b(this,re,g8).bind(this),onPinching:b(this,re,m8).bind(this),onPinchEnd:b(this,re,y8).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(o=this._uiManager._editorUndoBar)==null||o.hide(),e}pointerdown(e){const{isMac:t}=Qt.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(g(this,ol,!0),this._isDraggable){b(this,re,v8).call(this,e);return}b(this,re,Jy).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){a(this,Br)&&clearTimeout(a(this,Br)),g(this,Br,setTimeout(()=>{var e;g(this,Br,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[l,c]=this.pageTranslation,d=e/r,u=t/r,h=this.x*s,p=this.y*o,m=this.width*s,C=this.height*o;switch(i){case 0:return[h+d+l,o-p-u-C+c,h+d+m+l,o-p-u+c];case 90:return[h+u+l,o-p+d+c,h+u+C+l,o-p+d+m+c];case 180:return[h-d-m+l,o-p+u+c,h-d+l,o-p+u+C+c];case 270:return[h-u-C+l,o-p-d-m+c,h-u+l,o-p-d+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,o]=e,l=s-i,c=o-r;switch(this.rotation){case 0:return[i,t-o,l,c];case 90:return[i,t-r,c,l];case 180:return[s,t-r,l,c];case 270:return[s,t-o,c,l];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&ae._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=a(this,Le))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:i,opacity:r,deleted:s,richText:o},uid:l,pageIndex:c,creationDate:d,modificationDate:u}=this;return{id:l,pageIndex:c,rect:this.getPDFRect(),richText:o,contentsObj:{str:e},creationDate:d,modificationDate:i||u,popupRef:!s,color:t,opacity:r}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),g(this,al,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),g(this,al,!1),!0):!1}isInEditMode(){return a(this,al)}shouldGetKeyboardEvents(){return a(this,vs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return t<o&&r>0&&e<s&&i>0}rebuild(){b(this,re,ev).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var i;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((i=this._initialData)==null?void 0:i.popupRef)||""}}static async deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});r.rotation=e.rotation,g(r,rl,e.accessibilityData),r._isCopy=e.isCopy||!1;const[s,o]=r.pageDimensions,[l,c,d,u]=r.getRectInCurrentCoords(e.rect,o);return r.x=l/s,r.y=c/o,r.width=d/s,r.height=u/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t,i;if((e=a(this,Do))==null||e.abort(),g(this,Do,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),a(this,Br)&&(clearTimeout(a(this,Br)),g(this,Br,null)),b(this,re,uh).call(this),this.removeEditToolbar(),a(this,Fi)){for(const r of a(this,Fi).values())clearTimeout(r);g(this,Fi,null)}this.parent=null,(t=a(this,ll))==null||t.destroy(),g(this,ll,null),(i=a(this,Li))==null||i.remove(),g(this,Li,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(b(this,re,p8).call(this),a(this,Wt).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[i,r,s,o]=this.getPDFRect();return[ae._round(i+(s-i)*e),ae._round(r+(o-r)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return a(this,Le).commentPopupPositionInLayer}set commentPopupPosition(e){a(this,Le).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return a(this,Le).hasDefaultPopupPosition()}get commentButtonWidth(){return a(this,Le).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var t;(t=a(this,Le))==null||t.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),g(this,ys,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=a(this,Wt).children;if(!a(this,nr)){g(this,nr,Array.from(t));const o=b(this,re,x8).bind(this),l=b(this,re,C8).bind(this),c=this._uiManager._signal;for(const d of a(this,nr)){const u=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",o,{signal:c}),d.addEventListener("blur",l,{signal:c}),d.addEventListener("focus",b(this,re,w8).bind(this,u),{signal:c}),d.setAttribute("data-l10n-id",ae._l10nResizer[u])}}const i=a(this,nr)[0];let r=0;for(const o of t){if(o===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(a(this,nr).length/4);if(s!==r){if(s<r)for(let l=0;l<r-s;l++)a(this,Wt).append(a(this,Wt).firstElementChild);else if(s>r)for(let l=0;l<s-r;l++)a(this,Wt).firstElementChild.before(a(this,Wt).lastElementChild);let o=0;for(const l of t){const d=a(this,nr)[o++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",ae._l10nResizer[d])}}b(this,re,tv).call(this,0),g(this,vs,!0),a(this,Wt).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){a(this,vs)&&b(this,re,Zy).call(this,a(this,Mp),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){b(this,re,uh).call(this),this.div.focus()}select(){var e,t,i;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,s;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(i=a(this,Ze))==null||i.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,i,r,s;this.isSelected&&(this.isSelected=!1,(e=a(this,Wt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(s=a(this,Ze))==null||s.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return a(this,Np)}set isEditing(e){g(this,Np,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){a(this,Fi)||g(this,Fi,new Map);const{action:i}=e;let r=a(this,Fi).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),a(this,Fi).delete(i),a(this,Fi).size===0&&g(this,Fi,null)},ae._telemetryTimeout),a(this,Fi).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),g(this,xd,!1)}disable(){this.div&&(this.div.tabIndex=-1),g(this,xd,!0)}updateFakeAnnotationElement(e){if(!a(this,Li)&&!this.deleted){g(this,Li,e.addFakeAnnotation(this));return}if(this.deleted){a(this,Li).remove(),g(this,Li,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&a(this,Li).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};rl=new WeakMap,nr=new WeakMap,Ze=new WeakMap,Le=new WeakMap,ms=new WeakMap,xd=new WeakMap,Io=new WeakMap,Dp=new WeakMap,Wt=new WeakMap,sl=new WeakMap,ys=new WeakMap,Li=new WeakMap,Do=new WeakMap,Mp=new WeakMap,ol=new WeakMap,Qn=new WeakMap,Np=new WeakMap,al=new WeakMap,vs=new WeakMap,Br=new WeakMap,Cd=new WeakMap,wd=new WeakMap,Fi=new WeakMap,ll=new WeakMap,Bp=new WeakMap,V0=new WeakMap,re=new WeakSet,qy=function([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Lp=new WeakSet,Yy=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},ym=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},p8=function(){if(a(this,Wt))return;g(this,Wt,document.createElement("div")),a(this,Wt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const r=document.createElement("div");a(this,Wt).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",b(this,re,f8).bind(this,i),{signal:t}),r.addEventListener("contextmenu",qi,{signal:t}),r.tabIndex=-1}this.div.prepend(a(this,Wt))},f8=function(e,t){var u;t.preventDefault();const{isMac:i}=Qt.platform;if(t.button!==0||t.ctrlKey&&i)return;(u=a(this,Ze))==null||u.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,g(this,sl,[t.screenX,t.screenY]);const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",b(this,re,Zy).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",pt,{passive:!1,signal:o}),window.addEventListener("contextmenu",qi,{signal:o}),g(this,ys,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const l=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const d=()=>{var h;s.abort(),this.parent.togglePointerEvents(!0),(h=a(this,Ze))==null||h.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=l,this.div.style.cursor=c,b(this,re,vm).call(this)};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})},Qy=function(e,t,i,r){this.width=i,this.height=r,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},vm=function(){if(!a(this,ys))return;const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=a(this,ys);g(this,ys,null);const s=this.x,o=this.y,l=this.width,c=this.height;s===e&&o===t&&l===i&&c===r||this.addCommands({cmd:b(this,re,Qy).bind(this,s,o,l,c),undo:b(this,re,Qy).bind(this,e,t,i,r),mustExec:!0})},Zy=function(e,t){const[i,r]=this.parentDimensions,s=this.x,o=this.y,l=this.width,c=this.height,d=ae.MIN_SIZE/i,u=ae.MIN_SIZE/r,h=b(this,re,ym).call(this,this.rotation),p=(z,W)=>[h[0]*z+h[2]*W,h[1]*z+h[3]*W],m=b(this,re,ym).call(this,360-this.rotation),C=(z,W)=>[m[0]*z+m[2]*W,m[1]*z+m[3]*W];let v,A,y=!1,S=!1;switch(e){case"topLeft":y=!0,v=(z,W)=>[0,0],A=(z,W)=>[z,W];break;case"topMiddle":v=(z,W)=>[z/2,0],A=(z,W)=>[z/2,W];break;case"topRight":y=!0,v=(z,W)=>[z,0],A=(z,W)=>[0,W];break;case"middleRight":S=!0,v=(z,W)=>[z,W/2],A=(z,W)=>[0,W/2];break;case"bottomRight":y=!0,v=(z,W)=>[z,W],A=(z,W)=>[0,0];break;case"bottomMiddle":v=(z,W)=>[z/2,W],A=(z,W)=>[z/2,0];break;case"bottomLeft":y=!0,v=(z,W)=>[0,W],A=(z,W)=>[z,0];break;case"middleLeft":S=!0,v=(z,W)=>[0,W/2],A=(z,W)=>[z,W/2];break}const w=v(l,c),k=A(l,c);let E=p(...k);const T=ae._round(s+E[0]),_=ae._round(o+E[1]);let P=1,N=1,B,D;if(t.fromKeyboard)({deltaX:B,deltaY:D}=t);else{const{screenX:z,screenY:W}=t,[R,L]=a(this,sl);[B,D]=this.screenToPageTranslation(z-R,W-L),a(this,sl)[0]=z,a(this,sl)[1]=W}if([B,D]=C(B/i,D/r),y){const z=Math.hypot(l,c);P=N=Math.max(Math.min(Math.hypot(k[0]-w[0]-B,k[1]-w[1]-D)/z,1/l,1/c),d/l,u/c)}else S?P=xn(Math.abs(k[0]-w[0]-B),d,1)/l:N=xn(Math.abs(k[1]-w[1]-D),u,1)/c;const I=ae._round(l*P),F=ae._round(c*N);E=p(...A(I,F));const M=T-E[0],U=_-E[1];a(this,Qn)||g(this,Qn,[this.x,this.y,this.width,this.height]),this.width=I,this.height=F,this.x=M,this.y=U,this.setDims(),this.fixAndSetPosition(),this._onResizing()},g8=function(){var e;g(this,ys,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=a(this,Ze))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},m8=function(e,t,i){let s=.7*(i/t)+1-.7;if(s===1)return;const o=b(this,re,ym).call(this,this.rotation),l=(T,_)=>[o[0]*T+o[2]*_,o[1]*T+o[3]*_],[c,d]=this.parentDimensions,u=this.x,h=this.y,p=this.width,m=this.height,C=ae.MIN_SIZE/c,v=ae.MIN_SIZE/d;s=Math.max(Math.min(s,1/p,1/m),C/p,v/m);const A=ae._round(p*s),y=ae._round(m*s);if(A===p&&y===m)return;a(this,Qn)||g(this,Qn,[u,h,p,m]);const S=l(p/2,m/2),w=ae._round(u+S[0]),k=ae._round(h+S[1]),E=l(A/2,y/2);this.x=w-E[0],this.y=k-E[1],this.width=A,this.height=y,this.setDims(),this.fixAndSetPosition(),this._onResizing()},y8=function(){var e;(e=a(this,Ze))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),b(this,re,vm).call(this)},Jy=function(e){const{isMac:t}=Qt.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},v8=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),o={capture:!0,passive:!1,signal:s},l=d=>{r.abort(),g(this,Io,null),g(this,ol,!1),this._uiManager.endDragSession()||b(this,re,Jy).call(this,d),i&&this._onStopDragging()};t&&(g(this,Cd,e.clientX),g(this,wd,e.clientY),g(this,Io,e.pointerId),g(this,Dp,e.pointerType),window.addEventListener("pointermove",d=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:u,clientY:h,pointerId:p}=d;if(p!==a(this,Io)){pt(d);return}const[m,C]=this.screenToPageTranslation(u-a(this,Cd),h-a(this,wd));g(this,Cd,u),g(this,wd,h),this._uiManager.dragSelectedEditors(m,C)},o),window.addEventListener("touchmove",pt,o),window.addEventListener("pointerdown",d=>{d.pointerType===a(this,Dp)&&(a(this,ll)||d.isPrimary)&&l(d),pt(d)},o));const c=d=>{if(!a(this,Io)||a(this,Io)===d.pointerId){l(d);return}pt(d)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})},ev=function(){if(a(this,Do)||!this.div)return;g(this,Do,new AbortController);const e=this._uiManager.combinedSignal(a(this,Do));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},x8=function(e){ae._resizerKeyboardManager.exec(this,e)},C8=function(e){var t;a(this,vs)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==a(this,Wt)&&b(this,re,uh).call(this)},w8=function(e){g(this,Mp,a(this,vs)?e:"")},tv=function(e){if(a(this,nr))for(const t of a(this,nr))t.tabIndex=e},uh=function(){g(this,vs,!1),b(this,re,tv).call(this,-1),b(this,re,vm).call(this)},x(ae,Lp),O(ae,"_l10n",null),O(ae,"_l10nResizer",null),O(ae,"_borderLineWidth",-1),O(ae,"_colorManager",new Hy),O(ae,"_zIndex",1),O(ae,"_telemetryTimeout",1e3);let Ge=ae;class eR extends Ge{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const oC=3285377520,Ti=4294901760,wr=65535;class S8{constructor(e){this.h1=e?e&4294967295:oC,this.h2=e?e&4294967295:oC}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let v=0,A=e.length;v<A;v++){const y=e.charCodeAt(v);y<=255?t[i++]=y:(t[i++]=y>>>8,t[i++]=y&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,o=new Uint32Array(t.buffer,0,r);let l=0,c=0,d=this.h1,u=this.h2;const h=3432918353,p=461845907,m=h&wr,C=p&wr;for(let v=0;v<r;v++)v&1?(l=o[v],l=l*h&Ti|l*m&wr,l=l<<15|l>>>17,l=l*p&Ti|l*C&wr,d^=l,d=d<<13|d>>>19,d=d*5+3864292196):(c=o[v],c=c*h&Ti|c*m&wr,c=c<<15|c>>>17,c=c*p&Ti|c*C&wr,u^=c,u=u<<13|u>>>19,u=u*5+3864292196);switch(l=0,s){case 3:l^=t[r*4+2]<<16;case 2:l^=t[r*4+1]<<8;case 1:l^=t[r*4],l=l*h&Ti|l*m&wr,l=l<<15|l>>>17,l=l*p&Ti|l*C&wr,r&1?d^=l:u^=l}this.h1=d,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Ti|e*36045&wr,t=t*4283543511&Ti|((t<<16|e>>>16)*2950163797&Ti)>>>16,e^=t>>>1,e=e*444984403&Ti|e*60499&wr,t=t*3301882366&Ti|((t<<16|e>>>16)*3120437893&Ti)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const nv=Object.freeze({map:null,hash:"",transfer:void 0});var cl,dl,xs,$t,X0,b8;class A5{constructor(){x(this,X0);x(this,cl,!1);x(this,dl,null);x(this,xs,null);x(this,$t,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=a(this,$t).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return a(this,$t).get(e)}remove(e){const t=a(this,$t).get(e);if(t!==void 0&&(t instanceof Ge&&a(this,xs).delete(t.annotationElementId),a(this,$t).delete(e),a(this,$t).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of a(this,$t).values())if(i instanceof Ge)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=a(this,$t).get(e);let r=!1;if(i!==void 0)for(const[s,o]of Object.entries(t))i[s]!==o&&(r=!0,i[s]=o);else r=!0,a(this,$t).set(e,t);r&&b(this,X0,b8).call(this),t instanceof Ge&&((a(this,xs)||g(this,xs,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return a(this,$t).has(e)}get size(){return a(this,$t).size}resetModified(){a(this,cl)&&(g(this,cl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new A8(this)}get serializable(){if(a(this,$t).size===0)return nv;const e=new Map,t=new S8,i=[],r=Object.create(null);let s=!1;for(const[o,l]of a(this,$t)){const c=l instanceof Ge?l.serialize(!1,r):l;c&&(e.set(o,c),t.update(`${o}:${JSON.stringify(c)}`),s||(s=!!c.bitmap))}if(s)for(const o of e.values())o.bitmap&&i.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:nv}get editorStats(){let e=null;const t=new Map;let i=0,r=0;for(const s of a(this,$t).values()){if(!(s instanceof Ge)){s.popup&&(s.popup.deleted?r+=1:i+=1);continue}s.isCommentDeleted?r+=1:s.hasEditedComment&&(i+=1);const o=s.telemetryFinalData;if(!o)continue;const{type:l}=o;t.has(l)||t.set(l,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const c=e[l]||(e[l]=new Map);for(const[d,u]of Object.entries(o)){if(d==="type")continue;let h=c.get(d);h||(h=new Map,c.set(d,h));const p=h.get(u)??0;h.set(u,p+1)}}if((r>0||i>0)&&(e||(e=Object.create(null)),e.comments={deleted:r,edited:i}),!e)return null;for(const[s,o]of t)e[s]=o.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){g(this,dl,null)}updateEditor(e,t){var r;const i=(r=a(this,xs))==null?void 0:r.get(e);return i?(i.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=a(this,xs))==null?void 0:t.get(e))||null}get modifiedIds(){if(a(this,dl))return a(this,dl);const e=[];if(a(this,xs))for(const t of a(this,xs).values())t.serialize()&&e.push(t.annotationElementId);return g(this,dl,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return a(this,$t).entries()}}cl=new WeakMap,dl=new WeakMap,xs=new WeakMap,$t=new WeakMap,X0=new WeakSet,b8=function(){a(this,cl)||(g(this,cl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Fp;class A8 extends A5{constructor(t){super();x(this,Fp);const{map:i,hash:r,transfer:s}=t.serializable,o=structuredClone(i,s?{transfer:s}:null);g(this,Fp,{map:o,hash:r,transfer:s})}get print(){je("Should not call PrintAnnotationStorage.print")}get serializable(){return a(this,Fp)}get modifiedIds(){return oe(this,"modifiedIds",{ids:new Set,hash:""})}}Fp=new WeakMap;var Sd;class tR{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){x(this,Sd,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),a(this,Sd).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:i}){if(!(!e||a(this,Sd).has(e.loadedName))){if(xe(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:o}=e,l=new FontFace(r,s,o);this.addNativeFontFace(l);try{await l.load(),a(this,Sd).add(r),i==null||i(e)}catch{se(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}je("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw se(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return oe(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return oe(this,"isSyncFontLoadingSupported",vn||Qt.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(xe(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return oe(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(k,E){return k.charCodeAt(E)<<24|k.charCodeAt(E+1)<<16|k.charCodeAt(E+2)<<8|k.charCodeAt(E+3)&255}function r(k,E,T,_){const P=k.substring(0,E),N=k.substring(E+T);return P+_+N}let s,o;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let d=0;function u(k,E){if(++d>30){se("Load test font never loaded."),E();return}if(c.font="30px "+k,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){E();return}setTimeout(u.bind(null,k,E))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=r(p,976,h.length,h);const C=16,v=1482184792;let A=i(p,C);for(s=0,o=h.length-3;s<o;s+=4)A=A-v+i(h,s)|0;s<h.length&&(A=A-v+i(h+"XXX",s)|0),p=r(p,C,4,B_(A));const y=`url(data:font/opentype;base64,${btoa(p)});`,S=`@font-face {font-family:"${h}";src:${y}}`;this.insertRule(S);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const k of[e.loadedName,h]){const E=this._document.createElement("span");E.textContent="Hi",E.style.fontFamily=k,w.append(E)}this._document.body.append(w),u(h,()=>{w.remove(),t.complete()})}}Sd=new WeakMap;var Pe;class nR{constructor(e,t=null,i,r){x(this,Pe);this.compiledGlyphs=Object.create(null),g(this,Pe,e),this._inspectFont=t,i&&Object.assign(this,i),r&&(this.charProcOperatorList=r)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${WS(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const i=this.loadedName+"_path_"+t;let r;try{r=e.get(i)}catch(o){se(`getPathGenerator - ignoring character: "${o}".`)}const s=US(r);return this.fontExtraProperties||e.delete(i),this.compiledGlyphs[t]=s}get black(){return a(this,Pe).black}get bold(){return a(this,Pe).bold}get disableFontFace(){return a(this,Pe).disableFontFace??!1}set disableFontFace(e){oe(this,"disableFontFace",!!e)}get fontExtraProperties(){return a(this,Pe).fontExtraProperties??!1}get isInvalidPDFjsFont(){return a(this,Pe).isInvalidPDFjsFont}get isType3Font(){return a(this,Pe).isType3Font}get italic(){return a(this,Pe).italic}get missingFile(){return a(this,Pe).missingFile}get remeasure(){return a(this,Pe).remeasure}get vertical(){return a(this,Pe).vertical}get ascent(){return a(this,Pe).ascent}get defaultWidth(){return a(this,Pe).defaultWidth}get descent(){return a(this,Pe).descent}get bbox(){return a(this,Pe).bbox}set bbox(e){oe(this,"bbox",e)}get fontMatrix(){return a(this,Pe).fontMatrix}get fallbackName(){return a(this,Pe).fallbackName}get loadedName(){return a(this,Pe).loadedName}get mimetype(){return a(this,Pe).mimetype}get name(){return a(this,Pe).name}get data(){return a(this,Pe).data}clearData(){a(this,Pe).clearData()}get cssFontInfo(){return a(this,Pe).cssFontInfo}get systemFontInfo(){return a(this,Pe).systemFontInfo}get defaultVMetrics(){return a(this,Pe).defaultVMetrics}}Pe=new WeakMap;var bd,Ad,Op,Ed,xm;const Gc=class Gc{constructor(e){x(this,Ed);x(this,bd);x(this,Ad);x(this,Op);g(this,bd,e),g(this,Ad,new DataView(a(this,bd))),g(this,Op,new TextDecoder)}static write(e){const t=new TextEncoder,i={};let r=0;for(const d of Gc.strings){const u=t.encode(e[d]);i[d]=u,r+=4+u.length}const s=new ArrayBuffer(r),o=new Uint8Array(s),l=new DataView(s);let c=0;for(const d of Gc.strings){const u=i[d],h=u.length;l.setUint32(c,h),o.set(u,c+4),c+=4+h}return xe(c===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return b(this,Ed,xm).call(this,0)}get fontWeight(){return b(this,Ed,xm).call(this,1)}get italicAngle(){return b(this,Ed,xm).call(this,2)}};bd=new WeakMap,Ad=new WeakMap,Op=new WeakMap,Ed=new WeakSet,xm=function(e){xe(e<Gc.strings.length,"Invalid string index");let t=0;for(let r=0;r<e;r++)t+=a(this,Ad).getUint32(t)+4;const i=a(this,Ad).getUint32(t);return a(this,Op).decode(new Uint8Array(a(this,bd),t+4,i))},O(Gc,"strings",["fontFamily","fontWeight","italicAngle"]);let D0=Gc;var Mo,Lr,ul,hl,hh;const Vc=class Vc{constructor(e){x(this,hl);x(this,Mo);x(this,Lr);x(this,ul);g(this,Mo,e),g(this,Lr,new DataView(a(this,Mo))),g(this,ul,new TextDecoder)}static write(e){const t=new TextEncoder,i={};let r=0;for(const p of Vc.strings){const m=t.encode(e[p]);i[p]=m,r+=4+m.length}r+=4;let s,o,l=1+r;e.style&&(s=t.encode(e.style.style),o=t.encode(e.style.weight),l+=4+s.length+4+o.length);const c=new ArrayBuffer(l),d=new Uint8Array(c),u=new DataView(c);let h=0;u.setUint8(h++,e.guessFallback?1:0),u.setUint32(h,0),h+=4,r=0;for(const p of Vc.strings){const m=i[p],C=m.length;r+=4+C,u.setUint32(h,C),d.set(m,h+4),h+=4+C}return u.setUint32(h-r-4,r),e.style&&(u.setUint32(h,s.length),d.set(s,h+4),h+=4+s.length,u.setUint32(h,o.length),d.set(o,h+4),h+=4+o.length),xe(h<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(h)}get guessFallback(){return a(this,Lr).getUint8(0)!==0}get css(){return b(this,hl,hh).call(this,0)}get loadedName(){return b(this,hl,hh).call(this,1)}get baseFontName(){return b(this,hl,hh).call(this,2)}get src(){return b(this,hl,hh).call(this,3)}get style(){let e=1;e+=4+a(this,Lr).getUint32(e);const t=a(this,Lr).getUint32(e),i=a(this,ul).decode(new Uint8Array(a(this,Mo),e+4,t));e+=4+t;const r=a(this,Lr).getUint32(e),s=a(this,ul).decode(new Uint8Array(a(this,Mo),e+4,r));return{style:i,weight:s}}};Mo=new WeakMap,Lr=new WeakMap,ul=new WeakMap,hl=new WeakSet,hh=function(e){xe(e<Vc.strings.length,"Invalid string index");let t=5;for(let r=0;r<e;r++)t+=a(this,Lr).getUint32(t)+4;const i=a(this,Lr).getUint32(t);return a(this,ul).decode(new Uint8Array(a(this,Mo),t+4,i))},O(Vc,"strings",["css","loadedName","baseFontName","src"]);let M0=Vc;var kd,Td,_d,Rd,Zn,Fr,jp,Ie,ut,Qi,Cm,ph;const ce=class ce{constructor({data:e,extra:t}){x(this,ut);x(this,Fr);x(this,jp);x(this,Ie);g(this,Fr,e),g(this,jp,new TextDecoder),g(this,Ie,new DataView(a(this,Fr))),t&&Object.assign(this,t)}get black(){return b(this,ut,Qi).call(this,0)}get bold(){return b(this,ut,Qi).call(this,1)}get disableFontFace(){return b(this,ut,Qi).call(this,2)}get fontExtraProperties(){return b(this,ut,Qi).call(this,3)}get isInvalidPDFjsFont(){return b(this,ut,Qi).call(this,4)}get isType3Font(){return b(this,ut,Qi).call(this,5)}get italic(){return b(this,ut,Qi).call(this,6)}get missingFile(){return b(this,ut,Qi).call(this,7)}get remeasure(){return b(this,ut,Qi).call(this,8)}get vertical(){return b(this,ut,Qi).call(this,9)}get ascent(){return b(this,ut,Cm).call(this,0)}get defaultWidth(){return b(this,ut,Cm).call(this,1)}get descent(){return b(this,ut,Cm).call(this,2)}get bbox(){let e=a(ce,Td);if(a(this,Ie).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<4;r++)i.push(a(this,Ie).getInt16(e,!0)),e+=2;return i}get fontMatrix(){let e=a(ce,_d);if(a(this,Ie).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<6;r++)i.push(a(this,Ie).getFloat64(e,!0)),e+=8;return i}get defaultVMetrics(){let e=a(ce,Rd);if(a(this,Ie).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<3;r++)i.push(a(this,Ie).getInt16(e,!0)),e+=2;return i}get fallbackName(){return b(this,ut,ph).call(this,0)}get loadedName(){return b(this,ut,ph).call(this,1)}get mimetype(){return b(this,ut,ph).call(this,2)}get name(){return b(this,ut,ph).call(this,3)}get data(){let e=a(ce,Zn);const t=a(this,Ie).getUint32(e);e+=4+t;const i=a(this,Ie).getUint32(e);e+=4+i;const r=a(this,Ie).getUint32(e);e+=4+r;const s=a(this,Ie).getUint32(e);if(s!==0)return new Uint8Array(a(this,Fr),e+4,s)}clearData(){let e=a(ce,Zn);const t=a(this,Ie).getUint32(e);e+=4+t;const i=a(this,Ie).getUint32(e);e+=4+i;const r=a(this,Ie).getUint32(e);e+=4+r;const s=a(this,Ie).getUint32(e);new Uint8Array(a(this,Fr),e+4,s).fill(0),a(this,Ie).setUint32(e,0)}get cssFontInfo(){let e=a(ce,Zn);const t=a(this,Ie).getUint32(e);e+=4+t;const i=a(this,Ie).getUint32(e);e+=4+i;const r=a(this,Ie).getUint32(e);if(r===0)return null;const s=new Uint8Array(r);return s.set(new Uint8Array(a(this,Fr),e+4,r)),new D0(s.buffer)}get systemFontInfo(){let e=a(ce,Zn);const t=a(this,Ie).getUint32(e);e+=4+t;const i=a(this,Ie).getUint32(e);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(a(this,Fr),e+4,i)),new M0(r.buffer)}static write(e){const t=e.systemFontInfo?M0.write(e.systemFontInfo):null,i=e.cssFontInfo?D0.write(e.cssFontInfo):null,r=new TextEncoder,s={};let o=0;for(const v of ce.strings)s[v]=r.encode(e[v]),o+=4+s[v].length;const l=a(ce,Zn)+4+o+4+(t?t.byteLength:0)+4+(i?i.byteLength:0)+4+(e.data?e.data.length:0),c=new ArrayBuffer(l),d=new Uint8Array(c),u=new DataView(c);let h=0;const p=ce.bools.length;let m=0,C=0;for(let v=0;v<p;v++){const A=e[ce.bools[v]];m|=(A===void 0?0:A?2:1)<<C,C+=2,(C===8||v===p-1)&&(u.setUint8(h++,m),m=0,C=0)}xe(h===a(ce,kd),"FontInfo.write: Boolean properties offset mismatch");for(const v of ce.numbers)u.setFloat64(h,e[v]),h+=8;if(xe(h===a(ce,Td),"FontInfo.write: Number properties offset mismatch"),e.bbox){u.setUint8(h++,4);for(const v of e.bbox)u.setInt16(h,v,!0),h+=2}else u.setUint8(h++,0),h+=2*4;if(xe(h===a(ce,_d),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){u.setUint8(h++,6);for(const v of e.fontMatrix)u.setFloat64(h,v,!0),h+=8}else u.setUint8(h++,0),h+=8*6;if(xe(h===a(ce,Rd),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){u.setUint8(h++,1);for(const v of e.defaultVMetrics)u.setInt16(h,v,!0),h+=2}else u.setUint8(h++,0),h+=3*2;xe(h===a(ce,Zn),"FontInfo.write: DefaultVMetrics properties offset mismatch"),u.setUint32(a(ce,Zn),0),h+=4;for(const v of ce.strings){const A=s[v],y=A.length;u.setUint32(h,y),d.set(A,h+4),h+=4+y}if(u.setUint32(a(ce,Zn),h-a(ce,Zn)-4),!t)u.setUint32(h,0),h+=4;else{const v=t.byteLength;u.setUint32(h,v),xe(h+4+v<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),d.set(new Uint8Array(t),h+4),h+=4+v}if(!i)u.setUint32(h,0),h+=4;else{const v=i.byteLength;u.setUint32(h,v),xe(h+4+v<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),d.set(new Uint8Array(i),h+4),h+=4+v}return e.data===void 0?(u.setUint32(h,0),h+=4):(u.setUint32(h,e.data.length),d.set(e.data,h+4),h+=4+e.data.length),xe(h<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(h)}};kd=new WeakMap,Td=new WeakMap,_d=new WeakMap,Rd=new WeakMap,Zn=new WeakMap,Fr=new WeakMap,jp=new WeakMap,Ie=new WeakMap,ut=new WeakSet,Qi=function(e){xe(e<ce.bools.length,"Invalid boolean index");const t=Math.floor(e/4),i=e*2%8,r=a(this,Ie).getUint8(t)>>i&3;return r===0?void 0:r===2},Cm=function(e){return xe(e<ce.numbers.length,"Invalid number index"),a(this,Ie).getFloat64(a(ce,kd)+e*8)},ph=function(e){xe(e<ce.strings.length,"Invalid string index");let t=a(ce,Zn)+4;for(let s=0;s<e;s++)t+=a(this,Ie).getUint32(t)+4;const i=a(this,Ie).getUint32(t),r=new Uint8Array(i);return r.set(new Uint8Array(a(this,Fr),t+4,i)),a(this,jp).decode(r)},O(ce,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),O(ce,"numbers",["ascent","defaultWidth","descent"]),O(ce,"strings",["fallbackName","loadedName","mimetype","name"]),x(ce,kd,Math.ceil(ce.bools.length*2/8)),x(ce,Td,a(ce,kd)+ce.numbers.length*8),x(ce,_d,a(ce,Td)+1+2*4),x(ce,Rd,a(ce,_d)+1+8*6),x(ce,Zn,a(ce,Rd)+1+2*3);let iv=ce;var zp,Wp,$p,Hp,Up,Gp,Vp,Xp;const ze=class ze{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,i=null,r=[],s=[],o=[],l=[],c=null,d=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,i=e[2],o=e[3],t===1?r.push(...e[4],...e[5]):r.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,c=e[1],r=e[2],s=e[3],l=e[4]||[],i=e[6],d=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const u=Math.floor(r.length/2),h=Math.floor(s.length/3),p=o.length,m=l.length;let C=0;for(const E of l)C+=1,C=Math.ceil(C/4)*4,C+=4+E.coords.length*4,C+=4+E.colors.length*4,E.verticesPerRow!==void 0&&(C+=4);const v=20+u*8+h*3+p*8+(i?16:0)+(d?3:0)+C,A=new ArrayBuffer(v),y=new DataView(A),S=new Uint8Array(A);y.setUint8(a(ze,zp),t),y.setUint8(a(ze,Wp),i?1:0),y.setUint8(a(ze,$p),d?1:0),y.setUint8(a(ze,Hp),c),y.setUint32(a(ze,Up),u,!0),y.setUint32(a(ze,Gp),h,!0),y.setUint32(a(ze,Vp),p,!0),y.setUint32(a(ze,Xp),m,!0);let w=20;new Float32Array(A,w,u*2).set(r),w+=u*8,S.set(s,w),w+=h*3;for(const[E,T]of o)y.setFloat32(w,E,!0),w+=4,y.setUint32(w,parseInt(T.slice(1),16),!0),w+=4;if(i)for(const E of i)y.setFloat32(w,E,!0),w+=4;d&&(S.set(d,w),w+=3);for(let E=0;E<l.length;E++){const T=l[E];y.setUint8(w,T.type),w+=1,w=Math.ceil(w/4)*4,y.setUint32(w,T.coords.length,!0),w+=4,new Int32Array(A,w,T.coords.length).set(T.coords),w+=T.coords.length*4,y.setUint32(w,T.colors.length,!0),w+=4,new Int32Array(A,w,T.colors.length).set(T.colors),w+=T.colors.length*4,T.verticesPerRow!==void 0&&(y.setUint32(w,T.verticesPerRow,!0),w+=4)}return A}getIR(){const e=this.view,t=this.data[a(ze,zp)],i=!!this.data[a(ze,Wp)],r=!!this.data[a(ze,$p)],s=e.getUint32(a(ze,Up),!0),o=e.getUint32(a(ze,Gp),!0),l=e.getUint32(a(ze,Vp),!0),c=e.getUint32(a(ze,Xp),!0);let d=20;const u=new Float32Array(this.buffer,d,s*2);d+=s*8;const h=new Uint8Array(this.buffer,d,o*3);d+=o*3;const p=[];for(let A=0;A<l;++A){const y=e.getFloat32(d,!0);d+=4;const S=e.getUint32(d,!0);d+=4,p.push([y,`#${S.toString(16).padStart(6,"0")}`])}let m=null;if(i){m=[];for(let A=0;A<4;++A)m.push(e.getFloat32(d,!0)),d+=4}let C=null;r&&(C=new Uint8Array(this.buffer,d,3),d+=3);const v=[];for(let A=0;A<c;++A){const y=e.getUint8(d);d+=1,d=Math.ceil(d/4)*4;const S=e.getUint32(d,!0);d+=4;const w=new Int32Array(this.buffer,d,S);d+=S*4;const k=e.getUint32(d,!0);d+=4;const E=new Int32Array(this.buffer,d,k);d+=k*4;const T={type:y,coords:w,colors:E};y===By.LATTICE&&(T.verticesPerRow=e.getUint32(d,!0),d+=4),v.push(T)}if(t===1)return["RadialAxial","axial",m,p,Array.from(u.slice(0,2)),Array.from(u.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",m,p,[u[0],u[1]],[u[3],u[4]],u[2],u[5]];if(t===3){const A=this.data[a(ze,Hp)];let y=null;if(u.length>0){let S=u[0],w=u[0],k=u[1],E=u[1];for(let T=0;T<u.length;T+=2){const _=u[T],P=u[T+1];S=S>_?_:S,k=k>P?P:k,w=w<_?_:w,E=E<P?P:E}y=[S,k,w,E]}return["Mesh",A,u,h,v,y,m,C]}throw new Error(`Unsupported pattern kind: ${t}`)}};zp=new WeakMap,Wp=new WeakMap,$p=new WeakMap,Hp=new WeakMap,Up=new WeakMap,Gp=new WeakMap,Vp=new WeakMap,Xp=new WeakMap,x(ze,zp,0),x(ze,Wp,1),x(ze,$p,2),x(ze,Hp,3),x(ze,Up,4),x(ze,Gp,8),x(ze,Vp,12),x(ze,Xp,16);let rv=ze;function iR(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(vn)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function rR(n){if(vn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return sg(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Bg(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const sv=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,sR=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",oR=z_.bind(null,sv,sR);var Cs,K0;class aR{constructor(){x(this,Cs,new Map);x(this,K0,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};a(this,K0).then(()=>{for(const[r]of a(this,Cs))r.call(this,i)})}addEventListener(e,t,i=null){let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:s}=i;if(s.aborted){se("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);r=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}a(this,Cs).set(t,r)}removeEventListener(e,t){const i=a(this,Cs).get(t);i==null||i(),a(this,Cs).delete(t)}terminate(){for(const[,e]of a(this,Cs))e==null||e();a(this,Cs).clear()}}Cs=new WeakMap,K0=new WeakMap;const Lg={DATA:1,ERROR:2},yt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function aC(){}function Rn(n){if(n instanceof Ca||n instanceof Ly||n instanceof J4||n instanceof _0||n instanceof S2)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||je('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Ca(n.message);case"InvalidPDFException":return new Ly(n.message);case"PasswordException":return new J4(n.message,n.code);case"ResponseException":return new _0(n.message,n.status,n.missing);case"UnknownErrorException":return new S2(n.message,n.details)}return new S2(n.message,n.toString())}var Pd,Vi,E8,k8,T8,wm;class fh{constructor(e,t,i){x(this,Vi);x(this,Pd,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",b(this,Vi,E8).bind(this),{signal:a(this,Pd).signal})}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:d=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:d,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:l,action:e,streamId:s,data:t,desiredSize:d.desiredSize},r),u.promise},pull:d=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,c.postMessage({sourceName:o,targetName:l,stream:yt.PULL,streamId:s,desiredSize:d.desiredSize}),u.promise},cancel:d=>{xe(d instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:yt.CANCEL,streamId:s,reason:Rn(d)}),u.promise}},i)}destroy(){var e;(e=a(this,Pd))==null||e.abort(),g(this,Pd,null)}}Pd=new WeakMap,Vi=new WeakSet,E8=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){b(this,Vi,T8).call(this,e);return}if(e.callback){const i=e.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===Lg.DATA)r.resolve(e.data);else if(e.callback===Lg.ERROR)r.reject(Rn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,r=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(o){s.postMessage({sourceName:i,targetName:r,callback:Lg.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:i,targetName:r,callback:Lg.ERROR,callbackId:e.callbackId,reason:Rn(o)})});return}if(e.streamId){b(this,Vi,k8).call(this,e);return}t(e.data)},k8=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this,l=this.actionHandler[e.action],c={enqueue(d,u=1,h){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=u,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:yt.ENQUEUE,streamId:t,chunk:d},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:yt.CLOSE,streamId:t}),delete o.streamSinks[t])},error(d){xe(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:yt.ERROR,streamId:t,reason:Rn(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,Promise.try(l,e.data,c).then(function(){s.postMessage({sourceName:i,targetName:r,stream:yt.START_COMPLETE,streamId:t,success:!0})},function(d){s.postMessage({sourceName:i,targetName:r,stream:yt.START_COMPLETE,streamId:t,reason:Rn(d)})})},T8=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case yt.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Rn(e.reason));break;case yt.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Rn(e.reason));break;case yt.PULL:if(!l){s.postMessage({sourceName:i,targetName:r,stream:yt.PULL_COMPLETE,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,Promise.try(l.onPull||aC).then(function(){s.postMessage({sourceName:i,targetName:r,stream:yt.PULL_COMPLETE,streamId:t,success:!0})},function(d){s.postMessage({sourceName:i,targetName:r,stream:yt.PULL_COMPLETE,streamId:t,reason:Rn(d)})});break;case yt.ENQUEUE:if(xe(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case yt.CLOSE:if(xe(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),b(this,Vi,wm).call(this,o,t);break;case yt.ERROR:xe(o,"error should have stream controller"),o.controller.error(Rn(e.reason)),b(this,Vi,wm).call(this,o,t);break;case yt.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Rn(e.reason)),b(this,Vi,wm).call(this,o,t);break;case yt.CANCEL:if(!l)break;const c=Rn(e.reason);Promise.try(l.onCancel||aC,c).then(function(){s.postMessage({sourceName:i,targetName:r,stream:yt.CANCEL_COMPLETE,streamId:t,success:!0})},function(d){s.postMessage({sourceName:i,targetName:r,stream:yt.CANCEL_COMPLETE,streamId:t,reason:Rn(d)})}),l.sinkCapability.reject(c),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},wm=async function(e,t){var i,r,s;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Kp;class _8{constructor({enableHWA:e=!1}){x(this,Kp,!1);g(this,Kp,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!a(this,Kp)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){je("Abstract method `_createCanvas` called.")}}Kp=new WeakMap;class lR extends _8{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}class R8{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){je("Abstract method `_fetch` called.")}}class lC extends R8{async _fetch(e){const t=await og(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):sg(t)}}class P8{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}var pl,Id,ws,Ss,ln,fl,gl,q,rn,gh,Ac,Sm,Ec,I8,ov,kc,mh,yh,av,vh;class cR extends P8{constructor({docId:t,ownerDocument:i=globalThis.document}){super();x(this,q);x(this,pl);x(this,Id);x(this,ws);x(this,Ss);x(this,ln);x(this,fl);x(this,gl,0);g(this,Ss,t),g(this,ln,i)}addFilter(t){if(!t)return"none";let i=a(this,q,rn).get(t);if(i)return i;const[r,s,o]=b(this,q,Sm).call(this,t),l=t.length===1?r:`${r}${s}${o}`;if(i=a(this,q,rn).get(l),i)return a(this,q,rn).set(t,i),i;const c=`g_${a(this,Ss)}_transfer_map_${St(this,gl)._++}`,d=b(this,q,Ec).call(this,c);a(this,q,rn).set(t,d),a(this,q,rn).set(l,d);const u=b(this,q,kc).call(this,c);return b(this,q,yh).call(this,r,s,o,u),d}addHCMFilter(t,i){var C;const r=`${t}-${i}`,s="base";let o=a(this,q,gh).get(s);if((o==null?void 0:o.key)===r||(o?((C=o.filter)==null||C.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},a(this,q,gh).set(s,o)),!t||!i))return o.url;const l=b(this,q,vh).call(this,t);t=Z.makeHexColor(...l);const c=b(this,q,vh).call(this,i);if(i=Z.makeHexColor(...c),a(this,q,Ac).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return o.url;const d=new Array(256);for(let v=0;v<=255;v++){const A=v/255;d[v]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const u=d.join(","),h=`g_${a(this,Ss)}_hcm_filter`,p=o.filter=b(this,q,kc).call(this,h);b(this,q,yh).call(this,u,u,u,p),b(this,q,ov).call(this,p);const m=(v,A)=>{const y=l[v]/255,S=c[v]/255,w=new Array(A+1);for(let k=0;k<=A;k++)w[k]=y+k/A*(S-y);return w.join(",")};return b(this,q,yh).call(this,m(0,5),m(1,5),m(2,5),p),o.url=b(this,q,Ec).call(this,h),o.url}addAlphaFilter(t){let i=a(this,q,rn).get(t);if(i)return i;const[r]=b(this,q,Sm).call(this,[t]),s=`alpha_${r}`;if(i=a(this,q,rn).get(s),i)return a(this,q,rn).set(t,i),i;const o=`g_${a(this,Ss)}_alpha_map_${St(this,gl)._++}`,l=b(this,q,Ec).call(this,o);a(this,q,rn).set(t,l),a(this,q,rn).set(s,l);const c=b(this,q,kc).call(this,o);return b(this,q,av).call(this,r,c),l}addLuminosityFilter(t){let i=a(this,q,rn).get(t||"luminosity");if(i)return i;let r,s;if(t?([r]=b(this,q,Sm).call(this,[t]),s=`luminosity_${r}`):s="luminosity",i=a(this,q,rn).get(s),i)return a(this,q,rn).set(t,i),i;const o=`g_${a(this,Ss)}_luminosity_map_${St(this,gl)._++}`,l=b(this,q,Ec).call(this,o);a(this,q,rn).set(t,l),a(this,q,rn).set(s,l);const c=b(this,q,kc).call(this,o);return b(this,q,I8).call(this,c),t&&b(this,q,av).call(this,r,c),l}addHighlightHCMFilter(t,i,r,s,o){var S;const l=`${i}-${r}-${s}-${o}`;let c=a(this,q,gh).get(t);if((c==null?void 0:c.key)===l||(c?((S=c.filter)==null||S.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},a(this,q,gh).set(t,c)),!i||!r))return c.url;const[d,u]=[i,r].map(b(this,q,vh).bind(this));let h=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),p=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[m,C]=[s,o].map(b(this,q,vh).bind(this));p<h&&([h,p,m,C]=[p,h,C,m]),a(this,q,Ac).style.color="";const v=(w,k,E)=>{const T=new Array(256),_=(p-h)/E,P=w/255,N=(k-w)/(255*E);let B=0;for(let D=0;D<=E;D++){const I=Math.round(h+D*_),F=P+D*N;for(let M=B;M<=I;M++)T[M]=F;B=I+1}for(let D=B;D<256;D++)T[D]=T[B-1];return T.join(",")},A=`g_${a(this,Ss)}_hcm_${t}_filter`,y=c.filter=b(this,q,kc).call(this,A);return b(this,q,ov).call(this,y),b(this,q,yh).call(this,v(m[0],C[0],5),v(m[1],C[1],5),v(m[2],C[2],5),y),c.url=b(this,q,Ec).call(this,A),c.url}destroy(t=!1){var i,r,s,o;t&&((i=a(this,fl))!=null&&i.size)||((r=a(this,ws))==null||r.parentNode.parentNode.remove(),g(this,ws,null),(s=a(this,Id))==null||s.clear(),g(this,Id,null),(o=a(this,fl))==null||o.clear(),g(this,fl,null),g(this,gl,0))}}pl=new WeakMap,Id=new WeakMap,ws=new WeakMap,Ss=new WeakMap,ln=new WeakMap,fl=new WeakMap,gl=new WeakMap,q=new WeakSet,rn=function(){return a(this,Id)||g(this,Id,new Map)},gh=function(){return a(this,fl)||g(this,fl,new Map)},Ac=function(){if(!a(this,ws)){const t=a(this,ln).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=a(this,ln).createElementNS(ns,"svg");r.setAttribute("width",0),r.setAttribute("height",0),g(this,ws,a(this,ln).createElementNS(ns,"defs")),t.append(r),r.append(a(this,ws)),a(this,ln).body.append(t)}return a(this,ws)},Sm=function(t){if(t.length===1){const d=t[0],u=new Array(256);for(let p=0;p<256;p++)u[p]=d[p]/255;const h=u.join(",");return[h,h,h]}const[i,r,s]=t,o=new Array(256),l=new Array(256),c=new Array(256);for(let d=0;d<256;d++)o[d]=i[d]/255,l[d]=r[d]/255,c[d]=s[d]/255;return[o.join(","),l.join(","),c.join(",")]},Ec=function(t){if(a(this,pl)===void 0){g(this,pl,"");const i=a(this,ln).URL;i!==a(this,ln).baseURI&&(I1(i)?se('#createUrl: ignore "data:"-URL for performance reasons.'):g(this,pl,OS(i,"")))}return`url(${a(this,pl)}#${t})`},I8=function(t){const i=a(this,ln).createElementNS(ns,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},ov=function(t){const i=a(this,ln).createElementNS(ns,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},kc=function(t){const i=a(this,ln).createElementNS(ns,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),a(this,q,Ac).append(i),i},mh=function(t,i,r){const s=a(this,ln).createElementNS(ns,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),t.append(s)},yh=function(t,i,r,s){const o=a(this,ln).createElementNS(ns,"feComponentTransfer");s.append(o),b(this,q,mh).call(this,o,"feFuncR",t),b(this,q,mh).call(this,o,"feFuncG",i),b(this,q,mh).call(this,o,"feFuncB",r)},av=function(t,i){const r=a(this,ln).createElementNS(ns,"feComponentTransfer");i.append(r),b(this,q,mh).call(this,r,"feFuncA",t)},vh=function(t){return a(this,q,Ac).style.color=t,lg(getComputedStyle(a(this,q,Ac)).getPropertyValue("color"))};class D8{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){je("Abstract method `_fetch` called.")}}class cC extends D8{async _fetch(e){const t=await og(e,"arraybuffer");return new Uint8Array(t)}}class M8{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){je("Abstract method `_fetch` called.")}}class dC extends M8{async _fetch(e){const t=await og(e,"arraybuffer");return new Uint8Array(t)}}vn&&se("Please use the `legacy` build in Node.js environments.");async function E5(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class dR extends P8{}class uR extends _8{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class hR extends R8{async _fetch(e){return E5(e)}}class pR extends D8{async _fetch(e){return E5(e)}}class fR extends M8{async _fetch(e){return E5(e)}}const Cc="__forcedDependency",{floor:uC,ceil:hC}=Math;function Fg(n,e,t,i,r,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],i),n[e*4+2]=Math.max(n[e*4+2],r),n[e*4+3]=Math.max(n[e*4+3],s)}const lv=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Dd,No;class gR{constructor(e,t){x(this,Dd);x(this,No);g(this,Dd,e),g(this,No,t)}get length(){return a(this,Dd).length}isEmpty(e){return a(this,Dd)[e]===lv}minX(e){return a(this,No)[e*4+0]/256}minY(e){return a(this,No)[e*4+1]/256}maxX(e){return(a(this,No)[e*4+2]+1)/256}maxY(e){return(a(this,No)[e*4+3]+1)/256}}Dd=new WeakMap,No=new WeakMap;const Og=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var Dn,Mn,ml,ir,yl,bs,Te,De,As,Nn,qp,Md,vl,xl,Es,cn,Or,Yp,cv;class mR{constructor(e,t,i=!1){x(this,Yp);x(this,Dn,{__proto__:null});x(this,Mn,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Cc]:[]});x(this,ml,new Map);x(this,ir,[]);x(this,yl,[]);x(this,bs,[[1,0,0,1,0,0]]);x(this,Te,[-1/0,-1/0,1/0,1/0]);x(this,De,new Float64Array([1/0,1/0,-1/0,-1/0]));x(this,As,-1);x(this,Nn,new Set);x(this,qp,new Map);x(this,Md,new Map);x(this,vl);x(this,xl);x(this,Es);x(this,cn);x(this,Or);g(this,vl,e.width),g(this,xl,e.height),b(this,Yp,cv).call(this,t),i&&g(this,Or,new Map)}growOperationsCount(e){e>=a(this,cn).length&&b(this,Yp,cv).call(this,e,a(this,cn))}save(e){return g(this,Dn,{__proto__:a(this,Dn)}),g(this,Mn,{__proto__:a(this,Mn),transform:{__proto__:a(this,Mn).transform},moveText:{__proto__:a(this,Mn).moveText},sameLineText:{__proto__:a(this,Mn).sameLineText},[Cc]:{__proto__:a(this,Mn)[Cc]}}),g(this,Te,{__proto__:a(this,Te)}),a(this,ir).push(e),this}restore(e){var r;const t=Object.getPrototypeOf(a(this,Dn));if(t===null)return this;g(this,Dn,t),g(this,Mn,Object.getPrototypeOf(a(this,Mn))),g(this,Te,Object.getPrototypeOf(a(this,Te)));const i=a(this,ir).pop();return i!==void 0&&((r=Og(a(this,Or),e))==null||r.dependencies.add(i),a(this,cn)[e]=a(this,cn)[i]),this}recordOpenMarker(e){return a(this,ir).push(e),this}getOpenMarker(){return a(this,ir).length===0?null:a(this,ir).at(-1)}recordCloseMarker(e){var i;const t=a(this,ir).pop();return t!==void 0&&((i=Og(a(this,Or),e))==null||i.dependencies.add(t),a(this,cn)[e]=a(this,cn)[t]),this}beginMarkedContent(e){return a(this,yl).push(e),this}endMarkedContent(e){var i;const t=a(this,yl).pop();return t!==void 0&&((i=Og(a(this,Or),e))==null||i.dependencies.add(t),a(this,cn)[e]=a(this,cn)[t]),this}pushBaseTransform(e){return a(this,bs).push(Z.multiplyByDOMMatrix(a(this,bs).at(-1),e.getTransform())),this}popBaseTransform(){return a(this,bs).length>1&&a(this,bs).pop(),this}recordSimpleData(e,t){return a(this,Dn)[e]=t,this}recordIncrementalData(e,t){return a(this,Mn)[e].push(t),this}resetIncrementalData(e,t){return a(this,Mn)[e].length=0,this}recordNamedData(e,t){return a(this,ml).set(e,t),this}recordSimpleDataFromNamed(e,t,i){a(this,Dn)[e]=a(this,ml).get(t)??i}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Cc,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in a(this,Dn)&&this.recordFutureForcedDependency(t,a(this,Dn)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of a(this,Nn))this.recordFutureForcedDependency(Cc,e);return this}resetBBox(e){return a(this,As)!==e&&(g(this,As,e),a(this,De)[0]=1/0,a(this,De)[1]=1/0,a(this,De)[2]=-1/0,a(this,De)[3]=-1/0),this}recordClipBox(e,t,i,r,s,o){const l=Z.multiplyByDOMMatrix(a(this,bs).at(-1),t.getTransform()),c=[1/0,1/0,-1/0,-1/0];Z.axialAlignedBoundingBox([i,s,r,o],l,c);const d=Z.intersect(a(this,Te),c);return d?(a(this,Te)[0]=d[0],a(this,Te)[1]=d[1],a(this,Te)[2]=d[2],a(this,Te)[3]=d[3]):(a(this,Te)[0]=a(this,Te)[1]=1/0,a(this,Te)[2]=a(this,Te)[3]=-1/0),this}recordBBox(e,t,i,r,s,o){const l=a(this,Te);if(l[0]===1/0)return this;const c=Z.multiplyByDOMMatrix(a(this,bs).at(-1),t.getTransform());if(l[0]===-1/0)return Z.axialAlignedBoundingBox([i,s,r,o],c,a(this,De)),this;const d=[1/0,1/0,-1/0,-1/0];return Z.axialAlignedBoundingBox([i,s,r,o],c,d),a(this,De)[0]=Math.min(a(this,De)[0],Math.max(d[0],l[0])),a(this,De)[1]=Math.min(a(this,De)[1],Math.max(d[1],l[1])),a(this,De)[2]=Math.max(a(this,De)[2],Math.min(d[2],l[2])),a(this,De)[3]=Math.max(a(this,De)[3],Math.min(d[3],l[3])),this}recordCharacterBBox(e,t,i,r=1,s=0,o=0,l){const c=i.bbox;let d,u;if(c&&(d=c[2]!==c[0]&&c[3]!==c[1]&&a(this,Md).get(i),d!==!1&&(u=[0,0,0,0],Z.axialAlignedBoundingBox(c,i.fontMatrix,u),(r!==1||s!==0||o!==0)&&Z.scaleMinMax([r,0,0,-r,s,o],u),d)))return this.recordBBox(e,t,u[0],u[2],u[1],u[3]);if(!l)return this.recordFullPageBBox(e);const h=l();return c&&u&&d===void 0&&(d=u[0]<=s-h.actualBoundingBoxLeft&&u[2]>=s+h.actualBoundingBoxRight&&u[1]<=o-h.actualBoundingBoxAscent&&u[3]>=o+h.actualBoundingBoxDescent,a(this,Md).set(i,d),d)?this.recordBBox(e,t,u[0],u[2],u[1],u[3]):this.recordBBox(e,t,s-h.actualBoundingBoxLeft,s+h.actualBoundingBoxRight,o-h.actualBoundingBoxAscent,o+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return a(this,De)[0]=Math.max(0,a(this,Te)[0]),a(this,De)[1]=Math.max(0,a(this,Te)[1]),a(this,De)[2]=Math.min(a(this,vl),a(this,Te)[2]),a(this,De)[3]=Math.min(a(this,xl),a(this,Te)[3]),this}getSimpleIndex(e){return a(this,Dn)[e]}recordDependencies(e,t){const i=a(this,Nn),r=a(this,Dn),s=a(this,Mn);for(const o of t)o in a(this,Dn)?i.add(r[o]):o in s&&s[o].forEach(i.add,i);return this}recordNamedDependency(e,t){return a(this,ml).has(t)&&a(this,Nn).add(a(this,ml).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[Cc]),a(this,Or)){const i=Og(a(this,Or),e),{dependencies:r}=i;a(this,Nn).forEach(r.add,r),a(this,ir).forEach(r.add,r),a(this,yl).forEach(r.add,r),r.delete(e),i.isRenderingOperation=!0}if(a(this,As)===e){const i=uC(a(this,De)[0]*256/a(this,vl)),r=uC(a(this,De)[1]*256/a(this,xl)),s=hC(a(this,De)[2]*256/a(this,vl)),o=hC(a(this,De)[3]*256/a(this,xl));Fg(a(this,Es),e,i,r,s,o);for(const l of a(this,Nn))l!==e&&Fg(a(this,Es),l,i,r,s,o);for(const l of a(this,ir))l!==e&&Fg(a(this,Es),l,i,r,s,o);for(const l of a(this,yl))l!==e&&Fg(a(this,Es),l,i,r,s,o);t||(a(this,Nn).clear(),g(this,As,-1))}return this}recordShowTextOperation(e,t=!1){const i=Array.from(a(this,Nn));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const r of i)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(e,t=!1){return a(this,As)===e&&(g(this,As,-1),a(this,Te)[0]=Math.max(a(this,Te)[0],a(this,De)[0]),a(this,Te)[1]=Math.max(a(this,Te)[1],a(this,De)[1]),a(this,Te)[2]=Math.min(a(this,Te)[2],a(this,De)[2]),a(this,Te)[3]=Math.min(a(this,Te)[3],a(this,De)[3]),t||a(this,Nn).clear()),this}_takePendingDependencies(){const e=a(this,Nn);return g(this,Nn,new Set),e}_extractOperation(e){const t=a(this,qp).get(e);return a(this,qp).delete(e),t}_pushPendingDependencies(e){for(const t of e)a(this,Nn).add(t)}take(){return a(this,Md).clear(),new gR(a(this,cn),a(this,Es))}takeDebugMetadata(){return a(this,Or)}}Dn=new WeakMap,Mn=new WeakMap,ml=new WeakMap,ir=new WeakMap,yl=new WeakMap,bs=new WeakMap,Te=new WeakMap,De=new WeakMap,As=new WeakMap,Nn=new WeakMap,qp=new WeakMap,Md=new WeakMap,vl=new WeakMap,xl=new WeakMap,Es=new WeakMap,cn=new WeakMap,Or=new WeakMap,Yp=new WeakSet,cv=function(e,t){const i=new ArrayBuffer(e*4);g(this,Es,new Uint8ClampedArray(i)),g(this,cn,new Uint32Array(i)),t&&t.length>0?(a(this,cn).set(t),a(this,cn).fill(lv,t.length)):a(this,cn).fill(lv)};var Fe,lt,rr,Nd,Bd;const M5=class M5{constructor(e,t,i){x(this,Fe);x(this,lt);x(this,rr);x(this,Nd,0);x(this,Bd,0);if(e instanceof M5&&a(e,rr)===!!i)return e;g(this,Fe,e),g(this,lt,t),g(this,rr,!!i)}growOperationsCount(){throw new Error("Unreachable")}save(e){return St(this,Bd)._++,a(this,Fe).save(a(this,lt)),this}restore(e){return a(this,Bd)>0&&(a(this,Fe).restore(a(this,lt)),St(this,Bd)._--),this}recordOpenMarker(e){return St(this,Nd)._++,this}getOpenMarker(){return a(this,Nd)>0?a(this,lt):a(this,Fe).getOpenMarker()}recordCloseMarker(e){return St(this,Nd)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return a(this,Fe).pushBaseTransform(e),this}popBaseTransform(){return a(this,Fe).popBaseTransform(),this}recordSimpleData(e,t){return a(this,Fe).recordSimpleData(e,a(this,lt)),this}recordIncrementalData(e,t){return a(this,Fe).recordIncrementalData(e,a(this,lt)),this}resetIncrementalData(e,t){return a(this,Fe).resetIncrementalData(e,a(this,lt)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,i){return a(this,Fe).recordSimpleDataFromNamed(e,t,a(this,lt)),this}recordFutureForcedDependency(e,t){return a(this,Fe).recordFutureForcedDependency(e,a(this,lt)),this}inheritSimpleDataAsFutureForcedDependencies(e){return a(this,Fe).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return a(this,Fe).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return a(this,rr)||a(this,Fe).resetBBox(a(this,lt)),this}recordClipBox(e,t,i,r,s,o){return a(this,rr)||a(this,Fe).recordClipBox(a(this,lt),t,i,r,s,o),this}recordBBox(e,t,i,r,s,o){return a(this,rr)||a(this,Fe).recordBBox(a(this,lt),t,i,r,s,o),this}recordCharacterBBox(e,t,i,r,s,o,l){return a(this,rr)||a(this,Fe).recordCharacterBBox(a(this,lt),t,i,r,s,o,l),this}recordFullPageBBox(e){return a(this,rr)||a(this,Fe).recordFullPageBBox(a(this,lt)),this}getSimpleIndex(e){return a(this,Fe).getSimpleIndex(e)}recordDependencies(e,t){return a(this,Fe).recordDependencies(a(this,lt),t),this}recordNamedDependency(e,t){return a(this,Fe).recordNamedDependency(a(this,lt),t),this}recordOperation(e){return a(this,Fe).recordOperation(a(this,lt),!0),this}recordShowTextOperation(e){return a(this,Fe).recordShowTextOperation(a(this,lt),!0),this}bboxToClipBoxDropOperation(e){return a(this,rr)||a(this,Fe).bboxToClipBoxDropOperation(a(this,lt),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};Fe=new WeakMap,lt=new WeakMap,rr=new WeakMap,Nd=new WeakMap,Bd=new WeakMap;let N0=M5;const _i={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Vt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function dv(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class k5{isModifyingCurrentTransform(){return!1}getPattern(){je("Abstract method `getPattern` called.")}}class yR extends k5{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let s;if(r===Vt.STROKE||r===Vt.FILL){const o=t.current.getClippedPathBoundingBox(r,nt(e))||[0,0,0,0],l=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,d=t.cachedCanvases.getCanvas("pattern",l,c),u=d.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),i=Z.transform(i,[1,0,0,1,o[0],o[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),dv(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(d.canvas,"no-repeat");const h=new DOMMatrix(i);s.setTransform(h)}else dv(e,this._bbox),s=this._createGradient(e);return s}}function E2(n,e,t,i,r,s,o,l){const c=e.coords,d=e.colors,u=n.data,h=n.width*4;let p;c[t+1]>c[i+1]&&(p=t,t=i,i=p,p=s,s=o,o=p),c[i+1]>c[r+1]&&(p=i,i=r,r=p,p=o,o=l,l=p),c[t+1]>c[i+1]&&(p=t,t=i,i=p,p=s,s=o,o=p);const m=(c[t]+e.offsetX)*e.scaleX,C=(c[t+1]+e.offsetY)*e.scaleY,v=(c[i]+e.offsetX)*e.scaleX,A=(c[i+1]+e.offsetY)*e.scaleY,y=(c[r]+e.offsetX)*e.scaleX,S=(c[r+1]+e.offsetY)*e.scaleY;if(C>=S)return;const w=d[s],k=d[s+1],E=d[s+2],T=d[o],_=d[o+1],P=d[o+2],N=d[l],B=d[l+1],D=d[l+2],I=Math.round(C),F=Math.round(S);let M,U,z,W,R,L,H,ie;for(let G=I;G<=F;G++){if(G<A){const Ve=G<C?0:(C-G)/(C-A);M=m-(m-v)*Ve,U=w-(w-T)*Ve,z=k-(k-_)*Ve,W=E-(E-P)*Ve}else{let Ve;G>S?Ve=1:A===S?Ve=0:Ve=(A-G)/(A-S),M=v-(v-y)*Ve,U=T-(T-N)*Ve,z=_-(_-B)*Ve,W=P-(P-D)*Ve}let ne;G<C?ne=0:G>S?ne=1:ne=(C-G)/(C-S),R=m-(m-y)*ne,L=w-(w-N)*ne,H=k-(k-B)*ne,ie=E-(E-D)*ne;const X=Math.round(Math.min(M,R)),te=Math.round(Math.max(M,R));let Be=h*G+X*4;for(let Ve=X;Ve<=te;Ve++)ne=(M-Ve)/(M-R),ne<0?ne=0:ne>1&&(ne=1),u[Be++]=U-(U-L)*ne|0,u[Be++]=z-(z-H)*ne|0,u[Be++]=W-(W-ie)*ne|0,u[Be++]=255}}function vR(n,e,t){const i=e.coords,r=e.colors;let s,o;switch(e.type){case By.LATTICE:const l=e.verticesPerRow,c=Math.floor(i.length/l)-1,d=l-1;for(s=0;s<c;s++){let u=s*l;for(let h=0;h<d;h++,u++)E2(n,t,i[u],i[u+1],i[u+l],r[u],r[u+1],r[u+l]),E2(n,t,i[u+l+1],i[u+1],i[u+l],r[u+l+1],r[u+1],r[u+l])}break;case By.TRIANGLES:for(s=0,o=i.length;s<o;s+=3)E2(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class xR extends k5{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,i){const l=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-l,u=Math.ceil(this._bounds[3])-c,h=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),m=d/h,C=u/p,v={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-c,scaleX:1/m,scaleY:1/C},A=h+2*2,y=p+2*2,S=i.getCanvas("mesh",A,y),w=S.context,k=w.createImageData(h,p);if(t){const T=k.data;for(let _=0,P=T.length;_<P;_+=4)T[_]=t[0],T[_+1]=t[1],T[_+2]=t[2],T[_+3]=255}for(const T of this._figures)vR(k,T,v);return w.putImageData(k,2,2),{canvas:S.canvas,offsetX:l-2*m,offsetY:c-2*C,scaleX:m,scaleY:C}}isModifyingCurrentTransform(){return!0}getPattern(e,t,i,r){dv(e,this._bbox);const s=new Float32Array(2);if(r===Vt.SHADING)Z.singularValueDecompose2dScale(nt(e),s);else if(this.matrix){Z.singularValueDecompose2dScale(this.matrix,s);const[l,c]=s;Z.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=l,s[1]*=c}else Z.singularValueDecompose2dScale(t.baseTransform,s);const o=this._createMeshCanvas(s,r===Vt.SHADING?null:this._background,t.cachedCanvases);return r!==Vt.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class CR extends k5{getPattern(){return"hotpink"}}function wR(n){switch(n[0]){case"RadialAxial":return new yR(n);case"Mesh":return new xR(n);case"Dummy":return new CR}throw new Error(`Unknown IR type: ${n[0]}`)}const pC={COLORED:1,UNCOLORED:2},q0=class q0{constructor(e,t,i,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e,t){var L,H;const{bbox:i,operatorList:r,paintType:s,tilingType:o,color:l,canvasGraphicsFactory:c}=this;let{xstep:d,ystep:u}=this;d=Math.abs(d),u=Math.abs(u),P1("TilingType: "+o);const h=i[0],p=i[1],m=i[2],C=i[3],v=m-h,A=C-p,y=new Float32Array(2);Z.singularValueDecompose2dScale(this.matrix,y);const[S,w]=y;Z.singularValueDecompose2dScale(this.baseTransform,y);const k=S*y[0],E=w*y[1];let T=v,_=A,P=!1,N=!1;const B=Math.ceil(d*k),D=Math.ceil(u*E),I=Math.ceil(v*k),F=Math.ceil(A*E);B>=I?T=d:P=!0,D>=F?_=u:N=!0;const M=this.getSizeAndScale(T,this.ctx.canvas.width,k),U=this.getSizeAndScale(_,this.ctx.canvas.height,E),z=e.cachedCanvases.getCanvas("pattern",M.size,U.size),W=z.context,R=c.createCanvasGraphics(W,t);if(R.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(R,s,l),W.translate(-M.scale*h,-U.scale*p),R.transform(0,M.scale,0,0,U.scale,0,0),W.save(),(L=R.dependencyTracker)==null||L.save(),this.clipBbox(R,h,p,m,C),R.baseTransform=nt(R.ctx),R.executeOperatorList(r),R.endDrawing(),(H=R.dependencyTracker)==null||H.restore(),W.restore(),P||N){const ie=z.canvas;P&&(T=d),N&&(_=u);const G=this.getSizeAndScale(T,this.ctx.canvas.width,k),ne=this.getSizeAndScale(_,this.ctx.canvas.height,E),X=G.size,te=ne.size,Be=e.cachedCanvases.getCanvas("pattern-workaround",X,te),Ve=Be.context,N1=P?Math.floor(v/d):0,B1=N?Math.floor(A/u):0;for(let Ou=0;Ou<=N1;Ou++)for(let ka=0;ka<=B1;ka++)Ve.drawImage(ie,X*Ou,te*ka,X,te,0,0,X,te);return{canvas:Be.canvas,scaleX:G.scale,scaleY:ne.scale,offsetX:h,offsetY:p}}return{canvas:z.canvas,scaleX:M.scale,scaleY:U.scale,offsetX:h,offsetY:p}}getSizeAndScale(e,t,i){const r=Math.max(q0.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,t,i,r,s){const o=r-t,l=s-i;e.ctx.rect(t,i,o,l),Z.axialAlignedBoundingBox([t,i,r,s],nt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,s=e.current;switch(t){case pC.COLORED:const{fillStyle:o,strokeStyle:l}=this.ctx;r.fillStyle=s.fillColor=o,r.strokeStyle=s.strokeColor=l;break;case pC.UNCOLORED:r.fillStyle=r.strokeStyle=i,s.fillColor=s.strokeColor=i;break;default:throw new N_(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,i,r,s){let o=i;r!==Vt.SHADING&&(o=Z.transform(o,t.baseTransform),this.matrix&&(o=Z.transform(o,this.matrix)));const l=this.createPatternCanvas(t,s);let c=new DOMMatrix(o);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const d=e.createPattern(l.canvas,"repeat");return d.setTransform(c),d}};O(q0,"MAX_PATTERN_SIZE",3e3);let uv=q0;function SR({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const l=Qt.isLittleEndian?4278190080:255,[c,d]=o?[s,l]:[l,s],u=i>>3,h=i&7,p=n.length;t=new Uint32Array(t.buffer);let m=0;for(let C=0;C<r;C++){for(const A=e+u;e<A;e++){const y=e<p?n[e]:255;t[m++]=y&128?d:c,t[m++]=y&64?d:c,t[m++]=y&32?d:c,t[m++]=y&16?d:c,t[m++]=y&8?d:c,t[m++]=y&4?d:c,t[m++]=y&2?d:c,t[m++]=y&1?d:c}if(h===0)continue;const v=e<p?n[e++]:255;for(let A=0;A<h;A++)t[m++]=v&1<<7-A?d:c}return{srcPos:e,destPos:m}}const fC=16,gC=100,bR=15,mC=10,zn=16,k2=new DOMMatrix,xi=new Float32Array(2),Hc=new Float32Array([1/0,1/0,-1/0,-1/0]);function AR(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,i){e.translate(t,i),this.__originalTranslate(t,i)},n.scale=function(t,i){e.scale(t,i),this.__originalScale(t,i)},n.transform=function(t,i,r,s,o,l){e.transform(t,i,r,s,o,l),this.__originalTransform(t,i,r,s,o,l)},n.setTransform=function(t,i,r,s,o,l){e.setTransform(t,i,r,s,o,l),this.__originalSetTransform(t,i,r,s,o,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,o,l){e.bezierCurveTo(t,i,r,s,o,l),this.__originalBezierCurveTo(t,i,r,s,o,l)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class ER{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function jg(n,e,t,i,r,s,o,l,c,d){const[u,h,p,m,C,v]=nt(n);if(h===0&&p===0){const S=o*u+C,w=Math.round(S),k=l*m+v,E=Math.round(k),T=(o+c)*u+C,_=Math.abs(Math.round(T)-w)||1,P=(l+d)*m+v,N=Math.abs(Math.round(P)-E)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(m),w,E),n.drawImage(e,t,i,r,s,0,0,_,N),n.setTransform(u,h,p,m,C,v),[_,N]}if(u===0&&m===0){const S=l*p+C,w=Math.round(S),k=o*h+v,E=Math.round(k),T=(l+d)*p+C,_=Math.abs(Math.round(T)-w)||1,P=(o+c)*h+v,N=Math.abs(Math.round(P)-E)||1;return n.setTransform(0,Math.sign(h),Math.sign(p),0,w,E),n.drawImage(e,t,i,r,s,0,0,N,_),n.setTransform(u,h,p,m,C,v),[N,_]}n.drawImage(e,t,i,r,s,o,l,c,d);const A=Math.hypot(u,h),y=Math.hypot(p,m);return[A*c,y*d]}class yC{constructor(e,t,i){O(this,"alphaIsShape",!1);O(this,"fontSize",0);O(this,"fontSizeScale",1);O(this,"textMatrix",null);O(this,"textMatrixScale",1);O(this,"fontMatrix",Ny);O(this,"leading",0);O(this,"x",0);O(this,"y",0);O(this,"lineX",0);O(this,"lineY",0);O(this,"charSpacing",0);O(this,"wordSpacing",0);O(this,"textHScale",1);O(this,"textRenderingMode",jt.FILL);O(this,"textRise",0);O(this,"fillColor","#000000");O(this,"strokeColor","#000000");O(this,"patternFill",!1);O(this,"patternStroke",!1);O(this,"fillAlpha",1);O(this,"strokeAlpha",1);O(this,"lineWidth",1);O(this,"activeSMask",null);O(this,"transferMaps","none");i==null||i(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Hc.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Vt.FILL,t=null){const i=this.minMax.slice();if(e===Vt.STROKE){t||je("Stroke bounding box must include transform."),Z.singularValueDecompose2dScale(t,xi);const r=xi[0]*this.lineWidth/2,s=xi[1]*this.lineWidth/2;i[0]-=r,i[1]-=s,i[2]+=r,i[3]+=s}return i}updateClipFromPath(){const e=Z.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Hc,0)}getClippedPathBoundingBox(e=Vt.FILL,t=null){return Z.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function vC(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%zn,s=(t-r)/zn,o=r===0?s:s+1,l=n.createImageData(i,zn);let c=0,d;const u=e.data,h=l.data;let p,m,C,v;if(e.kind===hm.GRAYSCALE_1BPP){const A=u.byteLength,y=new Uint32Array(h.buffer,0,h.byteLength>>2),S=y.length,w=i+7>>3,k=4294967295,E=Qt.isLittleEndian?4278190080:255;for(p=0;p<o;p++){for(C=p<s?zn:r,d=0,m=0;m<C;m++){const T=A-c;let _=0;const P=T>w?i:T*8-7,N=P&-8;let B=0,D=0;for(;_<N;_+=8)D=u[c++],y[d++]=D&128?k:E,y[d++]=D&64?k:E,y[d++]=D&32?k:E,y[d++]=D&16?k:E,y[d++]=D&8?k:E,y[d++]=D&4?k:E,y[d++]=D&2?k:E,y[d++]=D&1?k:E;for(;_<P;_++)B===0&&(D=u[c++],B=128),y[d++]=D&B?k:E,B>>=1}for(;d<S;)y[d++]=0;n.putImageData(l,0,p*zn)}}else if(e.kind===hm.RGBA_32BPP){for(m=0,v=i*zn*4,p=0;p<s;p++)h.set(u.subarray(c,c+v)),c+=v,n.putImageData(l,0,m),m+=zn;p<o&&(v=i*r*4,h.set(u.subarray(c,c+v)),n.putImageData(l,0,m))}else if(e.kind===hm.RGB_24BPP)for(C=zn,v=i*C,p=0;p<o;p++){for(p>=s&&(C=r,v=i*C),d=0,m=v;m--;)h[d++]=u[c++],h[d++]=u[c++],h[d++]=u[c++],h[d++]=255;n.putImageData(l,0,p*zn)}else throw new Error(`bad image kind: ${e.kind}`)}function xC(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%zn,s=(t-r)/zn,o=r===0?s:s+1,l=n.createImageData(i,zn);let c=0;const d=e.data,u=l.data;for(let h=0;h<o;h++){const p=h<s?zn:r;({srcPos:c}=SR({src:d,srcPos:c,dest:u,width:i,height:p,nonBlackColor:0})),n.putImageData(l,0,h*zn)}}function Ku(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function zg(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function CC(n,e){if(e)return!0;Z.singularValueDecompose2dScale(n,xi);const t=Math.fround(Jr.pixelRatio*wa.PDF_TO_CSS_UNITS);return xi[0]<=t&&xi[1]<=t}const kR=["butt","round","square"],TR=["miter","round","bevel"],_R={},wC={};var vr,hv,pv,fv;const N5=class N5{constructor(e,t,i,r,s,{optionalContentConfig:o,markedContentStack:l=null},c,d,u){x(this,vr);this.ctx=e,this.current=new yC(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=o,this.cachedCanvases=new ER(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=u??null}getObject(e,t,i=null){var r;return typeof t=="string"?((r=this.dependencyTracker)==null||r.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):i}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=l,i){const c=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...nt(this.compositeCtx))}this.ctx.save(),zg(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=nt(this.ctx)}executeOperatorList(e,t,i,r,s){var y;const o=e.argsArray,l=e.fnArray;let c=t||0;const d=o.length;if(d===c)return c;const u=d-c>mC&&typeof i=="function",h=u?Date.now()+bR:0;let p=0;const m=this.commonObjs,C=this.objs;let v,A;for(;;){if(r!==void 0&&c===r.nextBreakPoint)return r.breakIt(c,i),c;if(!s||s(c))if(v=l[c],A=o[c]??null,v!==op.dependency)A===null?this[v](c):this[v](c,...A);else for(const S of A){(y=this.dependencyTracker)==null||y.recordNamedData(S,c);const w=S.startsWith("g_")?m:C;if(!w.has(S))return w.get(S,i),c}if(c++,c===d)return c;if(u&&++p>mC){if(Date.now()>h)return i(),c;p=0}}}endDrawing(){b(this,vr,hv).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),b(this,vr,pv).call(this)}_scaleImage(e,t){const i=e.width??e.displayWidth,r=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=i,c=r,d="prescale1",u,h;for(;s>2&&l>1||o>2&&c>1;){let p=l,m=c;s>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),s/=l/p),o>2&&c>1&&(m=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/m),u=this.cachedCanvases.getCanvas(d,p,m),h=u.context,h.clearRect(0,0,p,m),h.drawImage(e,0,0,l,c,0,0,p,m),e=u.canvas,l=p,c=m,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e,t){var B,D;const i=this.ctx,{width:r,height:s}=t,o=this.current.fillColor,l=this.current.patternFill,c=nt(i);let d,u,h,p;if((t.bitmap||t.data)&&t.count>1){const I=t.bitmap||t.data.buffer;u=JSON.stringify(l?c:[c.slice(0,4),o]),d=this._cachedBitmapsMap.get(I),d||(d=new Map,this._cachedBitmapsMap.set(I,d));const F=d.get(u);if(F&&!l){const M=Math.round(Math.min(c[0],c[2])+c[4]),U=Math.round(Math.min(c[1],c[3])+c[5]);return(B=this.dependencyTracker)==null||B.recordDependencies(e,_i.transformAndFill),{canvas:F,offsetX:M,offsetY:U}}h=F}h||(p=this.cachedCanvases.getCanvas("maskCanvas",r,s),xC(p.context,t));let m=Z.transform(c,[1/r,0,0,-1/s,0,0]);m=Z.transform(m,[1,0,0,1,0,-s]);const C=Hc.slice();Z.axialAlignedBoundingBox([0,0,r,s],m,C);const[v,A,y,S]=C,w=Math.round(y-v)||1,k=Math.round(S-A)||1,E=this.cachedCanvases.getCanvas("fillCanvas",w,k),T=E.context,_=v,P=A;T.translate(-_,-P),T.transform(...m),h||(h=this._scaleImage(p.canvas,Cr(T)),h=h.img,d&&l&&d.set(u,h)),T.imageSmoothingEnabled=CC(nt(T),t.interpolate),jg(T,h,0,0,h.width,h.height,0,0,r,s),T.globalCompositeOperation="source-in";const N=Z.transform(Cr(T),[1,0,0,1,-_,-P]);return T.fillStyle=l?o.getPattern(i,this,N,Vt.FILL,e):o,T.fillRect(0,0,r,s),d&&!l&&(this.cachedCanvases.delete("fillCanvas"),d.set(u,E.canvas)),(D=this.dependencyTracker)==null||D.recordDependencies(e,_i.transformAndFill),{canvas:E.canvas,offsetX:Math.round(_),offsetY:Math.round(P)}}setLineWidth(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineCap",e),this.ctx.lineCap=kR[t]}setLineJoin(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineJoin",e),this.ctx.lineJoin=TR[t]}setMiterLimit(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,i){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=i)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var i,r,s,o,l;for(const[c,d]of t)switch(c){case"LW":this.setLineWidth(e,d);break;case"LC":this.setLineCap(e,d);break;case"LJ":this.setLineJoin(e,d);break;case"ML":this.setMiterLimit(e,d);break;case"D":this.setDash(e,d[0],d[1]);break;case"RI":this.setRenderingIntent(e,d);break;case"FL":this.setFlatness(e,d);break;case"Font":this.setFont(e,d[0],d[1]);break;case"CA":(i=this.dependencyTracker)==null||i.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=d;break;case"ca":(r=this.dependencyTracker)==null||r.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=d;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=d;break;case"SMask":(o=this.dependencyTracker)==null||o.recordSimpleData("SMask",e),this.current.activeSMask=d?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(l=this.dependencyTracker)==null||l.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(d);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,t,i);this.suspendedCtx=this.ctx;const o=this.ctx=s.context;o.setTransform(this.suspendedCtx.getTransform()),Ku(this.suspendedCtx,o),AR(o,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ku(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const s=r[0],o=r[1],l=r[2]-s,c=r[3]-o;l===0||c===0||(this.genericComposeSMask(t.context,i,l,c,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,o,l,c,d,u,h){let p=e.canvas,m=c-u,C=d-h;if(o)if(m<0||C<0||m+i>p.width||C+r>p.height){const A=this.cachedCanvases.getCanvas("maskExtension",i,r),y=A.context;y.drawImage(p,-m,-C),y.globalCompositeOperation="destination-atop",y.fillStyle=o,y.fillRect(0,0,i,r),y.globalCompositeOperation="source-over",p=A.canvas,m=C=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(m,C,i,r),e.clip(A),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(m,C,i,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&l?t.filter=this.filterFactory.addAlphaFilter(l):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(l));const v=new Path2D;v.rect(c,d,i,r),t.clip(v),t.globalCompositeOperation="destination-in",t.drawImage(p,m,C,i,r,c,d,i,r),t.restore()}save(e){var i;this.inSMaskMode&&Ku(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(i=this.dependencyTracker)==null||i.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Ku(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,i,r,s,o,l){var c;(c=this.dependencyTracker)==null||c.recordIncrementalData("transform",e),this.ctx.transform(t,i,r,s,o,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i,r){let[s]=i;if(!r){s||(s=i[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const o=t===op.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,r[0]-o,r[2]+o,r[1]-o,r[3]+o).recordDependencies(e,["transform"])}s instanceof Path2D||(s=i[0]=US(s)),Z.axialAlignedBoundingBox(r,nt(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,i=!0){var o;const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const l=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=s.getPattern(r,this,Cr(r),Vt.STROKE,e),l){const c=new Path2D;c.addPath(t,r.getTransform().invertSelf().multiplySelf(l)),t=c}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);(o=this.dependencyTracker)==null||o.recordDependencies(e,_i.stroke),i&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Vt.STROKE,nt(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,i=!0){var d,u,h;const r=this.ctx,s=this.current.fillColor,o=this.current.patternFill;let l=!1;if(o){const p=s.isModifyingCurrentTransform()?r.getTransform():null;if((d=this.dependencyTracker)==null||d.save(e),r.save(),r.fillStyle=s.getPattern(r,this,Cr(r),Vt.FILL,e),p){const m=new Path2D;m.addPath(t,r.getTransform().invertSelf().multiplySelf(p)),t=m}l=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(r.fill(t,"evenodd"),this.pendingEOFill=!1):r.fill(t)),(u=this.dependencyTracker)==null||u.recordDependencies(e,_i.fill),l&&(r.restore(),(h=this.dependencyTracker)==null||h.restore(e)),i&&this.consumePath(e,t,c)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var i;this.ctx.fill(t),(i=this.dependencyTracker)==null||i.recordDependencies(e,_i.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=_R}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=wC}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;t!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",e),r.recordCloseMarker(e)}if(t!==void 0){const r=new Path2D,s=i.getTransform().invertSelf();for(const{transform:o,x:l,y:c,fontSize:d,path:u}of t)u&&r.addPath(u,new DOMMatrix(o).preMultiplySelf(s).translate(l,c).scale(d,-d));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,i){var h,p;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const r=this.commonObjs.get(t),s=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=r.fontMatrix||Ny,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&se("Invalid font matrix for font "+t),i<0?(i=-i,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const o=r.loadedName||"sans-serif",l=((p=r.systemFontInfo)==null?void 0:p.css)||`"${o}", ${r.fallbackName}`;let c="normal";r.black?c="900":r.bold&&(c="bold");const d=r.italic?"italic":"normal";let u=i;i<fC?u=fC:i>gC&&(u=gC),this.current.fontSizeScale=i/u,this.ctx.font=`${d} ${c} ${u}px ${l}`}setTextRenderingMode(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,i){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,t,i){this.setLeading(e,-i),this.moveText(e,t,i)}setTextMatrix(e,t){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:i}=this;i.textMatrix=t,i.textMatrixScale=Math.hypot(t[0],t[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,i,r,s,o){var y,S,w,k;const l=this.ctx,c=this.current,d=c.font,u=c.textRenderingMode,h=c.fontSize/c.fontSizeScale,p=u&jt.FILL_STROKE_MASK,m=!!(u&jt.ADD_TO_PATH_FLAG),C=c.patternFill&&!d.missingFile,v=c.patternStroke&&!d.missingFile;let A;if((d.disableFontFace||m||C||v)&&!d.missingFile&&(A=d.getPathGenerator(this.commonObjs,t)),A&&(d.disableFontFace||C||v)){l.save(),l.translate(i,r),l.scale(h,-h),(y=this.dependencyTracker)==null||y.recordCharacterBBox(e,l,d);let E;if(p===jt.FILL||p===jt.FILL_STROKE)if(s){E=l.getTransform(),l.setTransform(...s);const T=b(this,vr,fv).call(this,A,E,s);l.fill(T)}else l.fill(A);if(p===jt.STROKE||p===jt.FILL_STROKE)if(o){E||(E=l.getTransform()),l.setTransform(...o);const{a:T,b:_,c:P,d:N}=E,B=Z.inverseTransform(o),D=Z.transform([T,_,P,N,0,0],B);Z.singularValueDecompose2dScale(D,xi),l.lineWidth*=Math.max(xi[0],xi[1])/h,l.stroke(b(this,vr,fv).call(this,A,E,o))}else l.lineWidth/=h,l.stroke(A);l.restore()}else(p===jt.FILL||p===jt.FILL_STROKE)&&(l.fillText(t,i,r),(S=this.dependencyTracker)==null||S.recordCharacterBBox(e,l,d,h,i,r,()=>l.measureText(t))),(p===jt.STROKE||p===jt.FILL_STROKE)&&(this.dependencyTracker&&((w=this.dependencyTracker)==null||w.recordCharacterBBox(e,l,d,h,i,r,()=>l.measureText(t)).recordDependencies(e,_i.stroke)),l.strokeText(t,i,r));m&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:nt(l),x:i,y:r,fontSize:h,path:A}),(k=this.dependencyTracker)==null||k.recordCharacterBBox(e,l,d,h,i,r))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return oe(this,"isFontSubpixelAAEnabled",i)}showText(e,t){var P,N,B,D;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,_i.showText).resetBBox(e),this.current.textRenderingMode&jt.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(e,t),(P=this.dependencyTracker)==null||P.recordShowTextOperation(e);return}const s=i.fontSize;if(s===0){(N=this.dependencyTracker)==null||N.recordOperation(e);return}const o=this.ctx,l=i.fontSizeScale,c=i.charSpacing,d=i.wordSpacing,u=i.fontDirection,h=i.textHScale*u,p=t.length,m=r.vertical,C=m?1:-1,v=r.defaultVMetrics,A=s*i.fontMatrix[0],y=i.textRenderingMode===jt.FILL&&!r.disableFontFace&&!i.patternFill;o.save(),i.textMatrix&&o.transform(...i.textMatrix),o.translate(i.x,i.y+i.textRise),u>0?o.scale(h,-1):o.scale(h,1);let S,w;if(i.patternFill){o.save();const I=i.fillColor.getPattern(o,this,Cr(o),Vt.FILL,e);S=nt(o),o.restore(),o.fillStyle=I}if(i.patternStroke){o.save();const I=i.strokeColor.getPattern(o,this,Cr(o),Vt.STROKE,e);w=nt(o),o.restore(),o.strokeStyle=I}let k=i.lineWidth;const E=i.textMatrixScale;if(E===0||k===0){const I=i.textRenderingMode&jt.FILL_STROKE_MASK;(I===jt.STROKE||I===jt.FILL_STROKE)&&(k=this.getSinglePixelWidth())}else k/=E;if(l!==1&&(o.scale(l,l),k/=l),o.lineWidth=k,r.isInvalidPDFjsFont){const I=[];let F=0;for(const U of t)I.push(U.unicode),F+=U.width;const M=I.join("");if(o.fillText(M,0,0),this.dependencyTracker!==null){const U=o.measureText(M);this.dependencyTracker.recordBBox(e,this.ctx,-U.actualBoundingBoxLeft,U.actualBoundingBoxRight,-U.actualBoundingBoxAscent,U.actualBoundingBoxDescent).recordShowTextOperation(e)}i.x+=F*A*h,o.restore(),this.compose();return}let T=0,_;for(_=0;_<p;++_){const I=t[_];if(typeof I=="number"){T+=C*I*s/1e3;continue}let F=!1;const M=(I.isSpace?d:0)+c,U=I.fontChar,z=I.accent;let W,R,L=I.width;if(m){const G=I.vmetric||v,ne=-(I.vmetric?G[1]:L*.5)*A,X=G[2]*A;L=G?-G[0]:L,W=ne/l,R=(T+X)/l}else W=T/l,R=0;let H;if(r.remeasure&&L>0){H=o.measureText(U);const G=H.width*1e3/s*l;if(L<G&&this.isFontSubpixelAAEnabled){const ne=L/G;F=!0,o.save(),o.scale(ne,1),W/=ne}else L!==G&&(W+=(L-G)/2e3*s/l)}if(this.contentVisible&&(I.isInFont||r.missingFile)){if(y&&!z)o.fillText(U,W,R),(B=this.dependencyTracker)==null||B.recordCharacterBBox(e,o,H?{bbox:null}:r,s/l,W,R,()=>H??o.measureText(U));else if(this.paintChar(e,U,W,R,S,w),z){const G=W+s*z.offset.x/l,ne=R-s*z.offset.y/l;this.paintChar(e,z.fontChar,G,ne,S,w)}}const ie=m?L*A-M*u:L*A+M*u;T+=ie,F&&o.restore()}m?i.y-=T:i.x+=T*h,o.restore(),this.compose(),(D=this.dependencyTracker)==null||D.recordShowTextOperation(e)}showType3Text(e,t){const i=this.ctx,r=this.current,s=r.font,o=r.fontSize,l=r.fontDirection,c=s.vertical?1:-1,d=r.charSpacing,u=r.wordSpacing,h=r.textHScale*l,p=r.fontMatrix||Ny,m=t.length,C=r.textRenderingMode===jt.INVISIBLE;let v,A,y,S;if(C||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(h,l);const w=this.dependencyTracker;for(this.dependencyTracker=w?new N0(w,e):null,v=0;v<m;++v){if(A=t[v],typeof A=="number"){S=c*A*o/1e3,this.ctx.translate(S,0),r.x+=S*h;continue}const k=(A.isSpace?u:0)+d,E=s.charProcOperatorList[A.operatorListId];E?this.contentVisible&&(this.save(),i.scale(o,o),i.transform(...p),this.executeOperatorList(E),this.restore()):se(`Type3 character "${A.operatorListId}" is not available.`);const T=[A.width,0];Z.applyTransform(T,p),y=T[0]*o+k,i.translate(y,0),r.x+=y*h}i.restore(),w&&(this.dependencyTracker=w)}setCharWidth(e,t,i){}setCharWidthAndBounds(e,t,i,r,s,o,l){var d;const c=new Path2D;c.rect(r,s,o-r,l-s),this.ctx.clip(c),(d=this.dependencyTracker)==null||d.recordBBox(e,this.ctx,r,o,s,l).recordClipBox(e,this.ctx,r,o,s,l),this.endPath(e)}getColorN_Pattern(e,t){let i;if(t[0]==="TilingPattern"){const r=this.baseTransform||nt(this.ctx),s={createCanvasGraphics:(o,l)=>new N5(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new N0(this.dependencyTracker,l,!0):null)};i=new uv(t,this.ctx,s,r)}else i=this._getPattern(e,t[1],t[2]);return i}setStrokeColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,i=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=wR(this.getObject(e,t)),this.cachedPatterns.set(t,r)),i&&(r.matrix=i),r}shadingFill(e,t){var o;if(!this.contentVisible)return;const i=this.ctx;this.save(e);const r=this._getPattern(e,t);i.fillStyle=r.getPattern(i,this,Cr(i),Vt.SHADING,e);const s=Cr(i);if(s){const{width:l,height:c}=i.canvas,d=Hc.slice();Z.axialAlignedBoundingBox([0,0,l,c],s,d);const[u,h,p,m]=d;this.ctx.fillRect(u,h,p-u,m-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(o=this.dependencyTracker)==null||o.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,_i.transform).recordDependencies(e,_i.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){je("Should not call beginInlineImage")}beginImageData(){je("Should not call beginImageData")}paintFormXObjectBegin(e,t,i){var r;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=nt(this.ctx),i)){Z.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[s,o,l,c]=i,d=new Path2D;d.rect(s,o,l-s,c-o),this.ctx.clip(d),(r=this.dependencyTracker)==null||r.recordClipBox(e,this.ctx,s,l,o,c),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var w;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;t.isolated||P1("TODO: Support non-isolated groups."),t.knockout&&se("Knockout groups not supported.");const r=nt(i);if(t.matrix&&i.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Hc.slice();Z.axialAlignedBoundingBox(t.bbox,nt(i),s);const o=[0,0,i.canvas.width,i.canvas.height];s=Z.intersect(s,o)||[0,0,0,0];const l=Math.floor(s[0]),c=Math.floor(s[1]),d=Math.max(Math.ceil(s[2])-l,1),u=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,d,u]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(h,d,u),m=p.context;m.translate(-l,-c),m.transform(...r);let C=new Path2D;const[v,A,y,S]=t.bbox;if(C.rect(v,A,y-v,S-A),t.matrix){const k=new Path2D;k.addPath(C,new DOMMatrix(t.matrix)),C=k}m.clip(C),t.smask&&this.smaskStack.push({canvas:p.canvas,context:m,offsetX:l,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(l,c),i.save()),Ku(i,m),this.ctx=m,(w=this.dependencyTracker)==null||w.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=nt(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...o);const l=Hc.slice();Z.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],o,l),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(e,t,i,r,s,o){if(b(this,vr,hv).call(this),zg(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const l=i[2]-i[0],c=i[3]-i[1];if(o&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=l,i[3]=c,Z.singularValueDecompose2dScale(nt(this.ctx),xi);const{viewportScale:d}=this,u=Math.ceil(l*this.outputScaleX*d),h=Math.ceil(c*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(u,h);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(t,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(xi[0],0,0,-xi[1],0,c*xi[1]),zg(this.ctx)}else{zg(this.ctx),this.endPath(e);const d=new Path2D;d.rect(i[0],i[1],l,c),this.ctx.clip(d)}}this.current=new yC(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...r),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),b(this,vr,pv).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var l;if(!this.contentVisible)return;const i=t.count;t=this.getObject(e,t.data,t),t.count=i;const r=this.ctx,s=this._createMaskCanvas(e,t),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),(l=this.dependencyTracker)==null||l.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+o.width,s.offsetY,s.offsetY+o.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i,r=0,s=0,o,l){var h,p,m;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const c=this.ctx;c.save();const d=nt(c);c.transform(i,r,s,o,0,0);const u=this._createMaskCanvas(e,t);c.setTransform(1,0,0,1,u.offsetX-d[4],u.offsetY-d[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let C=0,v=l.length;C<v;C+=2){const A=Z.transform(d,[i,r,s,o,l[C],l[C+1]]);c.drawImage(u.canvas,A[4],A[5]),(p=this.dependencyTracker)==null||p.recordBBox(e,this.ctx,A[4],A[4]+u.canvas.width,A[5],A[5]+u.canvas.height)}c.restore(),this.compose(),(m=this.dependencyTracker)==null||m.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var o,l,c;if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,s=this.current.patternFill;(o=this.dependencyTracker)==null||o.resetBBox(e).recordDependencies(e,_i.transformAndFill);for(const d of t){const{data:u,width:h,height:p,transform:m}=d,C=this.cachedCanvases.getCanvas("maskCanvas",h,p),v=C.context;v.save();const A=this.getObject(e,u,d);xC(v,A),v.globalCompositeOperation="source-in",v.fillStyle=s?r.getPattern(v,this,Cr(i),Vt.FILL,e):r,v.fillRect(0,0,h,p),v.restore(),i.save(),i.transform(...m),i.scale(1,-1),jg(i,C.canvas,0,0,h,p,0,-1,1,1),(l=this.dependencyTracker)==null||l.recordBBox(e,i,0,h,0,p),i.restore()}this.compose(),(c=this.dependencyTracker)==null||c.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const i=this.getObject(e,t);if(!i){se("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,i)}paintImageXObjectRepeat(e,t,i,r,s){if(!this.contentVisible)return;const o=this.getObject(e,t);if(!o){se("Dependent image isn't ready yet");return}const l=o.width,c=o.height,d=[];for(let u=0,h=s.length;u<h;u+=2)d.push({transform:[i,0,0,r,s[u],s[u+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(e,o,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e,t){var d;if(!this.contentVisible)return;const i=t.width,r=t.height,s=this.ctx;this.save(e);const{filter:o}=s;o!=="none"&&o!==""&&(s.filter="none"),s.scale(1/i,-1/r);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",i,r).context;vC(h,t),l=this.applyTransferMapsToCanvas(h)}const c=this._scaleImage(l,Cr(s));s.imageSmoothingEnabled=CC(nt(s),t.interpolate),(d=this.dependencyTracker)==null||d.resetBBox(e).recordBBox(e,s,0,i,-r,0).recordDependencies(e,_i.imageXObject).recordOperation(e),jg(s,c.img,0,0,c.paintWidth,c.paintHeight,0,-r,i,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,i){var o,l,c;if(!this.contentVisible)return;const r=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const d=t.width,u=t.height,p=this.cachedCanvases.getCanvas("inlineImage",d,u).context;vC(p,t),s=this.applyTransferMapsToCanvas(p)}(o=this.dependencyTracker)==null||o.resetBBox(e);for(const d of i)r.save(),r.transform(...d.transform),r.scale(1,-1),jg(r,s,d.x,d.y,d.w,d.h,0,-1,1,1),(l=this.dependencyTracker)==null||l.recordBBox(e,r,0,1,-1,0),r.restore();(c=this.dependencyTracker)==null||c.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,_i.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,i){}beginMarkedContent(e,t){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,i){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,i){var o,l;const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const s=this.ctx;this.pendingClip?(r||(this.pendingClip===wC?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(o=this.dependencyTracker)==null||o.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(l=this.dependencyTracker)==null||l.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=nt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let o,l;if(i===0&&r===0){const c=Math.abs(t),d=Math.abs(s);if(c===d)if(e===0)o=l=1/c;else{const u=c*e;o=l=u<1?1/u:1}else if(e===0)o=1/c,l=1/d;else{const u=c*e,h=d*e;o=u<1?1/u:1,l=h<1?1/h:1}}else{const c=Math.abs(t*s-i*r),d=Math.hypot(t,i),u=Math.hypot(r,s);if(e===0)o=u/c,l=d/c;else{const h=e*c;o=u>h?u/h:1,l=d>h?d/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:i,current:{lineWidth:r}}=this,[s,o]=this.getScaleForStroking();if(s===o){i.lineWidth=(r||1)*s,i.stroke(e);return}const l=i.getLineDash();t&&i.save(),i.scale(s,o),k2.a=1/s,k2.d=1/o;const c=new Path2D;if(c.addPath(e,k2),l.length>0){const d=Math.max(s,o);i.setLineDash(l.map(u=>u/d)),i.lineDashOffset/=d}i.lineWidth=r||1,i.stroke(c),t&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};vr=new WeakSet,hv=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},pv=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},fv=function(e,t,i){const r=new Path2D;return r.addPath(e,new DOMMatrix(i).invertSelf().multiplySelf(t)),r};let ed=N5;for(const n in op)ed.prototype[n]!==void 0&&(ed.prototype[op[n]]=ed.prototype[n]);var Qp,Zp;class Yr{static get workerPort(){return a(this,Qp)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");g(this,Qp,e)}static get workerSrc(){return a(this,Zp)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");g(this,Zp,e)}}Qp=new WeakMap,Zp=new WeakMap,x(Yr,Qp,null),x(Yr,Zp,"");var Ld,Jp;class RR{constructor({parsedData:e,rawData:t}){x(this,Ld);x(this,Jp);g(this,Ld,e),g(this,Jp,t)}getRaw(){return a(this,Jp)}get(e){return a(this,Ld).get(e)??null}[Symbol.iterator](){return a(this,Ld).entries()}}Ld=new WeakMap,Jp=new WeakMap;const Tc=Symbol("INTERNAL");var ef,tf,nf,Fd;class PR{constructor(e,{name:t,intent:i,usage:r,rbGroups:s}){x(this,ef,!1);x(this,tf,!1);x(this,nf,!1);x(this,Fd,!0);g(this,ef,!!(e&pi.DISPLAY)),g(this,tf,!!(e&pi.PRINT)),this.name=t,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(a(this,nf))return a(this,Fd);if(!a(this,Fd))return!1;const{print:e,view:t}=this.usage;return a(this,ef)?(t==null?void 0:t.viewState)!=="OFF":a(this,tf)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==Tc&&je("Internal method `_setVisible` called."),g(this,nf,i),g(this,Fd,t)}}ef=new WeakMap,tf=new WeakMap,nf=new WeakMap,Fd=new WeakMap;var Bo,Me,Od,jd,rf,gv;class IR{constructor(e,t=pi.DISPLAY){x(this,rf);x(this,Bo,null);x(this,Me,new Map);x(this,Od,null);x(this,jd,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,g(this,jd,e.order);for(const i of e.groups)a(this,Me).set(i.id,new PR(t,i));if(e.baseState==="OFF")for(const i of a(this,Me).values())i._setVisible(Tc,!1);for(const i of e.on)a(this,Me).get(i)._setVisible(Tc,!0);for(const i of e.off)a(this,Me).get(i)._setVisible(Tc,!1);g(this,Od,this.getHash())}}isVisible(e){if(a(this,Me).size===0)return!0;if(!e)return P1("Optional content group not defined."),!0;if(e.type==="OCG")return a(this,Me).has(e.id)?a(this,Me).get(e.id).visible:(se(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return b(this,rf,gv).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!a(this,Me).has(t))return se(`Optional content group not found: ${t}`),!0;if(a(this,Me).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!a(this,Me).has(t))return se(`Optional content group not found: ${t}`),!0;if(!a(this,Me).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!a(this,Me).has(t))return se(`Optional content group not found: ${t}`),!0;if(!a(this,Me).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!a(this,Me).has(t))return se(`Optional content group not found: ${t}`),!0;if(a(this,Me).get(t).visible)return!1}return!0}return se(`Unknown optional content policy ${e.policy}.`),!0}return se(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){var s;const r=a(this,Me).get(e);if(!r){se(`Optional content group not found: ${e}`);return}if(i&&t&&r.rbGroups.length)for(const o of r.rbGroups)for(const l of o)l!==e&&((s=a(this,Me).get(l))==null||s._setVisible(Tc,!1,!0));r._setVisible(Tc,!!t,!0),g(this,Bo,null)}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=a(this,Me).get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!s.visible,t);break}}g(this,Bo,null)}get hasInitialVisibility(){return a(this,Od)===null||this.getHash()===a(this,Od)}getOrder(){return a(this,Me).size?a(this,jd)?a(this,jd).slice():[...a(this,Me).keys()]:null}getGroup(e){return a(this,Me).get(e)||null}getHash(){if(a(this,Bo)!==null)return a(this,Bo);const e=new S8;for(const[t,i]of a(this,Me))e.update(`${t}:${i.visible}`);return g(this,Bo,e.hexdigest())}[Symbol.iterator](){return a(this,Me).entries()}}Bo=new WeakMap,Me=new WeakMap,Od=new WeakMap,jd=new WeakMap,rf=new WeakSet,gv=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let o;if(Array.isArray(s))o=b(this,rf,gv).call(this,s);else if(a(this,Me).has(s))o=a(this,Me).get(s).visible;else return se(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class DR{constructor(e,{disableRange:t=!1,disableStream:i=!1}){xe(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=l,(s==null?void 0:s.length)>0){const c=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,d)=>{this._onReceiveData({begin:c,chunk:d})}),e.addProgressListener((c,d)=>{this._onProgress({loaded:c,total:d})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});xe(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,r,s;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){xe(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new MR(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new NR(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class MR{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=b5(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class NR{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function BR(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let u=l(t);return u=unescape(u),u=c(u),u=d(u),s(u)}if(t=o(n),t){const u=d(t);return s(u)}if(t=i("filename","i").exec(n),t){t=t[1];let u=l(t);return u=d(u),s(u)}function i(u,h){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function r(u,h){if(u){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const p=new TextDecoder(u,{fatal:!0}),m=sg(h);h=p.decode(m),e=!1}catch{}}return h}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=r("utf-8",u),e&&(u=r("iso-8859-1",u))),u}function o(u){const h=[];let p;const m=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=m.exec(u))!==null;){let[,v,A,y]=p;if(v=parseInt(v,10),v in h){if(v===0)break;continue}h[v]=[A,y]}const C=[];for(let v=0;v<h.length&&v in h;++v){let[A,y]=h[v];y=l(y),A&&(y=unescape(y),v===0&&(y=c(y))),C.push(y)}return C.join("")}function l(u){if(u.startsWith('"')){const h=u.slice(1).split('\\"');for(let p=0;p<h.length;++p){const m=h[p].indexOf('"');m!==-1&&(h[p]=h[p].slice(0,m),h.length=p+1),h[p]=h[p].replaceAll(/\\(.)/g,"$1")}u=h.join('"')}return u}function c(u){const h=u.indexOf("'");if(h===-1)return u;const p=u.slice(0,h),C=u.slice(h+1).replace(/^[^']*'/,"");return r(p,C)}function d(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,p,m,C){if(m==="q"||m==="Q")return C=C.replaceAll("_"," "),C=C.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,A){return String.fromCharCode(parseInt(A,16))}),r(p,C);try{C=atob(C)}catch{}return r(p,C)})}return""}function N8(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const i in e){const r=e[i];r!==void 0&&t.append(i,r)}return t}function D1(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function B8({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function L8(n){const e=n.get("Content-Disposition");if(e){let t=BR(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(b5(t))return t}return null}function dg(n,e){return new _0(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function F8(n){return n===200||n===206}function O8(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function j8(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(se(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class LR{constructor(e){O(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=N8(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return xe(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new FR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new OR(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class FR{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const i=new Headers(e.headers),r=t.url;fetch(r,O8(i,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=D1(s.url),!F8(s.status))throw dg(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:l,suggestedLength:c}=B8({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=L8(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ca("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:j8(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class OR{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${i-1}`);const o=r.url;fetch(o,O8(s,this._withCredentials,this._abortController)).then(l=>{const c=D1(l.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!F8(l.status))throw dg(l.status,o);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:j8(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const T2=200,_2=206;function jR(n){const e=n.response;return typeof e!="string"?e:sg(e).buffer}class zR{constructor({url:e,httpHeaders:t,withCredentials:i}){O(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=N8(this.isHttp,t),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,o]of this.headers)t.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=_2):r.expectedStatus=T2,t.responseType="arraybuffer",xe(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,t))}onStateChange(e,t){const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){i.onError(r.status);return}const s=r.status||T2;if(!(s===T2&&i.expectedStatus===_2)&&s!==i.expectedStatus){i.onError(r.status);return}const l=jR(r);if(s===_2){const c=r.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);d?i.onDone({begin:parseInt(d[1],10),chunk:l}):(se('Missing or invalid "Content-Range" header.'),i.onError(0))}else l?i.onDone({begin:0,chunk:l}):i.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class WR{constructor(e){this._source=e,this._manager=new zR(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return xe(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new $R(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new HR(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class $R{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=D1(t.responseURL);const i=t.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[c,...d]=l.split(": ");return[c,d.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=B8({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=L8(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=dg(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class HR{constructor(e,t,i){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=D1((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=dg(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const UR=/^[a-z][a-z0-9\-+.]+:/i;function GR(n){if(UR.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class VR{constructor(e){this.source=e,this.url=GR(e.url),xe(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return xe(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new XR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new KR(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class XR{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=dg(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ca("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class KR{constructor(e,t,i){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const qu=Symbol("INITIAL_DATA");var Jn,sf,mv;class z8{constructor(){x(this,sf);x(this,Jn,Object.create(null))}get(e,t=null){if(t){const r=b(this,sf,mv).call(this,e);return r.promise.then(()=>t(r.data)),null}const i=a(this,Jn)[e];if(!i||i.data===qu)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=a(this,Jn)[e];return!!t&&t.data!==qu}delete(e){const t=a(this,Jn)[e];return!t||t.data===qu?!1:(delete a(this,Jn)[e],!0)}resolve(e,t=null){const i=b(this,sf,mv).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in a(this,Jn)){const{data:i}=a(this,Jn)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}g(this,Jn,Object.create(null))}*[Symbol.iterator](){for(const e in a(this,Jn)){const{data:t}=a(this,Jn)[e];t!==qu&&(yield[e,t])}}}Jn=new WeakMap,sf=new WeakSet,mv=function(e){var t;return(t=a(this,Jn))[e]||(t[e]={...Promise.withResolvers(),data:qu})};const qR=1e5,SC=30;var EC,Lo,Bn,of,af,Cl,ks,lf,cf,wl,zd,Wd,Fo,$d,df,Hd,Sl,uf,hf,Ud,bl,pf,Oo,Gd,io,W8,$8,yv,bi,bm,vv,H8,U8;const bt=class bt{constructor({textContentSource:e,container:t,viewport:i}){x(this,io);x(this,Lo,Promise.withResolvers());x(this,Bn,null);x(this,of,!1);x(this,af,!!((EC=globalThis.FontInspector)!=null&&EC.enabled));x(this,Cl,null);x(this,ks,null);x(this,lf,0);x(this,cf,0);x(this,wl,null);x(this,zd,null);x(this,Wd,0);x(this,Fo,0);x(this,$d,Object.create(null));x(this,df,[]);x(this,Hd,null);x(this,Sl,[]);x(this,uf,new WeakMap);x(this,hf,null);var c;if(e instanceof ReadableStream)g(this,Hd,e);else if(typeof e=="object")g(this,Hd,new ReadableStream({start(d){d.enqueue(e),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');g(this,Bn,g(this,zd,t)),g(this,Fo,i.scale*Jr.pixelRatio),g(this,Wd,i.rotation),g(this,ks,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:o,pageY:l}=i.rawDims;g(this,hf,[1,0,0,-1,-o,l+s]),g(this,cf,r),g(this,lf,s),b(c=bt,bi,H8).call(c),hc(t,i),a(this,Lo).promise.finally(()=>{a(bt,Gd).delete(this),g(this,ks,null),g(this,$d,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Qt.platform;return oe(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{a(this,wl).read().then(({value:t,done:i})=>{if(i){a(this,Lo).resolve();return}a(this,Cl)??g(this,Cl,t.lang),Object.assign(a(this,$d),t.styles),b(this,io,W8).call(this,t.items),e()},a(this,Lo).reject)};return g(this,wl,a(this,Hd).getReader()),a(bt,Gd).add(this),e(),a(this,Lo).promise}update({viewport:e,onBefore:t=null}){var s;const i=e.scale*Jr.pixelRatio,r=e.rotation;if(r!==a(this,Wd)&&(t==null||t(),g(this,Wd,r),hc(a(this,zd),{rotation:r})),i!==a(this,Fo)){t==null||t(),g(this,Fo,i);const o={div:null,properties:null,ctx:b(s=bt,bi,bm).call(s,a(this,Cl))};for(const l of a(this,Sl))o.properties=a(this,uf).get(l),o.div=l,b(this,io,yv).call(this,o)}}cancel(){var t;const e=new Ca("TextLayer task cancelled.");(t=a(this,wl))==null||t.cancel(e).catch(()=>{}),g(this,wl,null),a(this,Lo).reject(e)}get textDivs(){return a(this,Sl)}get textContentItemsStr(){return a(this,df)}static cleanup(){if(!(a(this,Gd).size>0)){a(this,Ud).clear();for(const{canvas:e}of a(this,bl).values())e.remove();a(this,bl).clear()}}};Lo=new WeakMap,Bn=new WeakMap,of=new WeakMap,af=new WeakMap,Cl=new WeakMap,ks=new WeakMap,lf=new WeakMap,cf=new WeakMap,wl=new WeakMap,zd=new WeakMap,Wd=new WeakMap,Fo=new WeakMap,$d=new WeakMap,df=new WeakMap,Hd=new WeakMap,Sl=new WeakMap,uf=new WeakMap,hf=new WeakMap,Ud=new WeakMap,bl=new WeakMap,pf=new WeakMap,Oo=new WeakMap,Gd=new WeakMap,io=new WeakSet,W8=function(e){var r,s;if(a(this,of))return;(s=a(this,ks)).ctx??(s.ctx=b(r=bt,bi,bm).call(r,a(this,Cl)));const t=a(this,Sl),i=a(this,df);for(const o of e){if(t.length>qR){se("Ignoring additional textDivs for performance reasons."),g(this,of,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const l=a(this,Bn);g(this,Bn,document.createElement("span")),a(this,Bn).classList.add("markedContent"),o.id&&a(this,Bn).setAttribute("id",`${o.id}`),l.append(a(this,Bn))}else o.type==="endMarkedContent"&&g(this,Bn,a(this,Bn).parentNode);continue}i.push(o.str),b(this,io,$8).call(this,o)}},$8=function(e){var v;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};a(this,Sl).push(t);const r=Z.transform(a(this,hf),e.transform);let s=Math.atan2(r[1],r[0]);const o=a(this,$d)[e.fontName];o.vertical&&(s+=Math.PI/2);let l=a(this,af)&&o.fontSubstitution||o.fontFamily;l=bt.fontFamilyMap.get(l)||l;const c=Math.hypot(r[2],r[3]),d=c*b(v=bt,bi,U8).call(v,l,o,a(this,Cl));let u,h;s===0?(u=r[4],h=r[5]-d):(u=r[4]+d*Math.sin(s),h=r[5]-d*Math.cos(s));const p="calc(var(--total-scale-factor) *",m=t.style;a(this,Bn)===a(this,zd)?(m.left=`${(100*u/a(this,cf)).toFixed(2)}%`,m.top=`${(100*h/a(this,lf)).toFixed(2)}%`):(m.left=`${p}${u.toFixed(2)}px)`,m.top=`${p}${h.toFixed(2)}px)`),m.fontSize=`${p}${(a(bt,Oo)*c).toFixed(2)}px)`,m.fontFamily=l,i.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,a(this,af)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let C=!1;if(e.str.length>1)C=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const A=Math.abs(e.transform[0]),y=Math.abs(e.transform[3]);A!==y&&Math.max(A,y)/Math.min(A,y)>1.5&&(C=!0)}if(C&&(i.canvasWidth=o.vertical?e.height:e.width),a(this,uf).set(t,i),a(this,ks).div=t,a(this,ks).properties=i,b(this,io,yv).call(this,a(this,ks)),i.hasText&&a(this,Bn).append(t),i.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),a(this,Bn).append(A)}},yv=function(e){var l;const{div:t,properties:i,ctx:r}=e,{style:s}=t;let o="";if(a(bt,Oo)>1&&(o=`scale(${1/a(bt,Oo)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:c}=s,{canvasWidth:d,fontSize:u}=i;b(l=bt,bi,vv).call(l,r,u*a(this,Fo),c);const{width:h}=r.measureText(t.textContent);h>0&&(o=`scaleX(${d*a(this,Fo)/h}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(s.transform=o)},bi=new WeakSet,bm=function(e=null){let t=a(this,bl).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),a(this,bl).set(e,t),a(this,pf).set(t,{size:0,family:""})}return t},vv=function(e,t,i){const r=a(this,pf).get(e);t===r.size&&i===r.family||(e.font=`${t}px ${i}`,r.size=t,r.family=i)},H8=function(){if(a(this,Oo)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),g(this,Oo,e.getBoundingClientRect().height),e.remove()},U8=function(e,t,i){const r=a(this,Ud).get(e);if(r)return r;const s=b(this,bi,bm).call(this,i);s.canvas.width=s.canvas.height=SC,b(this,bi,vv).call(this,s,SC,e);const o=s.measureText(""),l=o.fontBoundingBoxAscent,c=Math.abs(o.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let d=.8;return l?d=l/(l+c):(Qt.platform.isFirefox&&se("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?d=t.ascent:t.descent&&(d=1+t.descent)),a(this,Ud).set(e,d),d},x(bt,bi),x(bt,Ud,new Map),x(bt,bl,new Map),x(bt,pf,new WeakMap),x(bt,Oo,null),x(bt,Gd,new Set);let lp=bt;const YR=100;function G8(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new xv,{docId:t}=e,i=n.url?iR(n.url):null,r=n.data?rR(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,l=n.password??null,c=n.range instanceof V8?n.range:null,d=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let u=n.worker instanceof cp?n.worker:null;const h=n.verbosity,p=typeof n.docBaseUrl=="string"&&!I1(n.docBaseUrl)?n.docBaseUrl:null,m=Bg(n.cMapUrl),C=n.cMapPacked!==!1,v=n.CMapReaderFactory||(vn?hR:lC),A=Bg(n.iccUrl),y=Bg(n.standardFontDataUrl),S=n.StandardFontDataFactory||(vn?pR:cC),w=Bg(n.wasmUrl),k=n.WasmFactory||(vn?fR:dC),E=n.stopAtErrors!==!0,T=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,_=n.isEvalSupported!==!1,P=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!vn,N=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!vn&&(Qt.platform.isFirefox||!globalThis.chrome),B=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,D=typeof n.disableFontFace=="boolean"?n.disableFontFace:vn,I=n.fontExtraProperties===!0,F=n.enableXfa===!0,M=n.ownerDocument||globalThis.document,U=n.disableRange===!0,z=n.disableStream===!0,W=n.disableAutoFetch===!0,R=n.pdfBug===!0,L=n.CanvasFactory||(vn?uR:lR),H=n.FilterFactory||(vn?dR:cR),ie=n.enableHWA===!0,G=n.useWasm!==!1,ne=c?c.length:n.length??NaN,X=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!vn&&!D,te=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(v===lC&&S===cC&&k===dC&&m&&y&&w&&oh(m,document.baseURI)&&oh(y,document.baseURI)&&oh(w,document.baseURI)),Be=null;I_(h);const Ve={canvasFactory:new L({ownerDocument:M,enableHWA:ie}),filterFactory:new H({docId:t,ownerDocument:M}),cMapReaderFactory:te?null:new v({baseUrl:m,isCompressed:C}),standardFontDataFactory:te?null:new S({baseUrl:y}),wasmFactory:te?null:new k({baseUrl:w})};u||(u=cp.create({verbosity:h,port:Yr.workerPort}),e._worker=u);const N1={docId:t,apiVersion:"5.4.449",data:r,password:l,disableAutoFetch:W,rangeChunkSize:d,length:ne,docBaseUrl:p,enableXfa:F,evaluatorOptions:{maxImageSize:T,disableFontFace:D,ignoreErrors:E,isEvalSupported:_,isOffscreenCanvasSupported:P,isImageDecoderSupported:N,canvasMaxAreaInBytes:B,fontExtraProperties:I,useSystemFonts:X,useWasm:G,useWorkerFetch:te,cMapUrl:m,iccUrl:A,standardFontDataUrl:y,wasmUrl:w}},B1={ownerDocument:M,pdfBug:R,styleElement:Be,loadingParams:{disableAutoFetch:W,enableXfa:F}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Ou=u.messageHandler.sendWithPromise("GetDocRequest",N1,r?[r.buffer]:null);let ka;if(c)ka=new DR(c,{disableRange:U,disableStream:z});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const L1=oh(i)?LR:vn?VR:WR;ka=new L1({url:i,length:ne,httpHeaders:s,withCredentials:o,rangeChunkSize:d,disableRange:U,disableStream:z})}return Ou.then(L1=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const F5=new fh(t,L1,u.port),Kb=new JR(F5,e,ka,B1,Ve,ie);e._transport=Kb,F5.send("Ready",null)})}).catch(e._capability.reject),e}var Y0;const Q0=class Q0{constructor(){O(this,"_capability",Promise.withResolvers());O(this,"_transport",null);O(this,"_worker",null);O(this,"docId",`d${St(Q0,Y0)._++}`);O(this,"destroyed",!1);O(this,"onPassword",null);O(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,i,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,s}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};Y0=new WeakMap,x(Q0,Y0,0);let xv=Q0;var Al,ff,gf,mf,yf;class V8{constructor(e,t,i=!1,r=null){x(this,Al,Promise.withResolvers());x(this,ff,[]);x(this,gf,[]);x(this,mf,[]);x(this,yf,[]);this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(e){a(this,yf).push(e)}addProgressListener(e){a(this,mf).push(e)}addProgressiveReadListener(e){a(this,gf).push(e)}addProgressiveDoneListener(e){a(this,ff).push(e)}onDataRange(e,t){for(const i of a(this,yf))i(e,t)}onDataProgress(e,t){a(this,Al).promise.then(()=>{for(const i of a(this,mf))i(e,t)})}onDataProgressiveRead(e){a(this,Al).promise.then(()=>{for(const t of a(this,gf))t(e)})}onDataProgressiveDone(){a(this,Al).promise.then(()=>{for(const e of a(this,ff))e()})}transportReady(){a(this,Al).resolve()}requestDataRange(e,t){je("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}Al=new WeakMap,ff=new WeakMap,gf=new WeakMap,mf=new WeakMap,yf=new WeakMap;class QR{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return oe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ts,El,xh;class ZR{constructor(e,t,i,r=!1){x(this,El);x(this,Ts,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new tC:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new z8,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new ag({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return oe(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:i,intent:r="display",annotationMode:s=fo.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:d=null,pageColors:u=null,printAnnotationStorage:h=null,isEditing:p=!1,recordOperations:m=!1,operationsFilter:C=null}){var N,B,D;(N=this._stats)==null||N.time("Overall");const v=this._transport.getRenderingIntent(r,s,h,p),{renderingIntent:A,cacheKey:y}=v;g(this,Ts,!1),c||(c=this._transport.getOptionalContentConfig(A));let S=this._intentStates.get(y);S||(S=Object.create(null),this._intentStates.set(y,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const w=!!(A&pi.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(B=this._stats)==null||B.time("Page Request"),this._pumpOperatorList(v));const k=!!(this._pdfBug&&((D=globalThis.StepperManager)!=null&&D.enabled)),E=!this.recordedBBoxes&&(m||k),T=I=>{var F,M;if(S.renderTasks.delete(_),E){const U=(F=_.gfx)==null?void 0:F.dependencyTracker.take();U&&(_.stepper&&_.stepper.setOperatorBBoxes(U,_.gfx.dependencyTracker.takeDebugMetadata()),m&&(this.recordedBBoxes=U))}w&&g(this,Ts,!0),b(this,El,xh).call(this),I?(_.capability.reject(I),this._abortOperatorList({intentState:S,reason:I instanceof Error?I:new Error(I)})):_.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(M=globalThis.Stats)!=null&&M.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},_=new Cv({callback:T,params:{canvas:t,canvasContext:e,dependencyTracker:E?new mR(t,S.operatorList.length,k):null,viewport:i,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!w,pdfBug:this._pdfBug,pageColors:u,enableHWA:this._transport.enableHWA,operationsFilter:C});(S.renderTasks||(S.renderTasks=new Set)).add(_);const P=_.task;return Promise.all([S.displayReadyCapability.promise,c]).then(([I,F])=>{var M;if(this.destroyed){T();return}if((M=this._stats)==null||M.time("Rendering"),!(F.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");_.initializeGraphics({transparency:I,optionalContentConfig:F}),_.operatorListChanged()}).catch(T),P}getOperatorList({intent:e="display",annotationMode:t=fo.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){var d;function s(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const o=this._transport.getRenderingIntent(e,t,i,r,!0);let l=this._intentStates.get(o.cacheKey);l||(l=Object.create(null),this._intentStates.set(o.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=s,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(o)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>ap.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function s(){o.read().then(function({value:c,done:d}){if(d){i(l);return}l.lang??(l.lang=c.lang),Object.assign(l.styles,c.styles),l.items.push(...c.items),s()},r)}const o=t.getReader(),l={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),g(this,Ts,!1),Promise.all(e)}cleanup(e=!1){g(this,Ts,!0);const t=b(this,El,xh).call(this);return e&&t&&this._stats&&(this._stats=new tC),t}_startRenderPage(e,t){var r,s;const i=this._intentStates.get(t);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&b(this,El,xh).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:o}=i,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},o).getReader(),d=this._intentStates.get(t);d.streamReader=c;const u=()=>{c.read().then(({value:h,done:p})=>{if(p){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,d),u())},h=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const p of d.renderTasks)p.operatorListChanged();b(this,El,xh).call(this)}if(d.displayReadyCapability)d.displayReadyCapability.reject(h);else if(d.opListReadCapability)d.opListReadCapability.reject(h);else throw h}})};u()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof S5){let r=YR;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Ca(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Ts=new WeakMap,El=new WeakSet,xh=function(){if(!a(this,Ts)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),g(this,Ts,!1),!0};var jo,sr,_s,kl,Z0,Tl,_l,Sn,Am,X8,K8,Ch,Vd,Em;const Qe=class Qe{constructor({name:e=null,port:t=null,verbosity:i=D_()}={}){x(this,Sn);x(this,jo,Promise.withResolvers());x(this,sr,null);x(this,_s,null);x(this,kl,null);if(this.name=e,this.destroyed=!1,this.verbosity=i,t){if(a(Qe,_l).has(t))throw new Error("Cannot use more than one PDFWorker per port.");a(Qe,_l).set(t,this),b(this,Sn,X8).call(this,t)}else b(this,Sn,K8).call(this)}get promise(){return a(this,jo).promise}get port(){return a(this,_s)}get messageHandler(){return a(this,sr)}destroy(){var e,t;this.destroyed=!0,(e=a(this,kl))==null||e.terminate(),g(this,kl,null),a(Qe,_l).delete(a(this,_s)),g(this,_s,null),(t=a(this,sr))==null||t.destroy(),g(this,sr,null)}static create(e){const t=a(this,_l).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Qe(e)}static get workerSrc(){if(Yr.workerSrc)return Yr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return oe(this,"_setupFakeWorkerGlobal",(async()=>a(this,Vd,Em)?a(this,Vd,Em):(await import(this.workerSrc)).WorkerMessageHandler)())}};jo=new WeakMap,sr=new WeakMap,_s=new WeakMap,kl=new WeakMap,Z0=new WeakMap,Tl=new WeakMap,_l=new WeakMap,Sn=new WeakSet,Am=function(){a(this,jo).resolve(),a(this,sr).send("configure",{verbosity:this.verbosity})},X8=function(e){g(this,_s,e),g(this,sr,new fh("main","worker",e)),a(this,sr).on("ready",()=>{}),b(this,Sn,Am).call(this)},K8=function(){if(a(Qe,Tl)||a(Qe,Vd,Em)){b(this,Sn,Ch).call(this);return}let{workerSrc:e}=Qe;try{Qe._isSameOrigin(window.location,e)||(e=Qe._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new fh("main","worker",t),r=()=>{s.abort(),i.destroy(),t.terminate(),this.destroyed?a(this,jo).reject(new Error("Worker was destroyed")):b(this,Sn,Ch).call(this)},s=new AbortController;t.addEventListener("error",()=>{a(this,kl)||r()},{signal:s.signal}),i.on("test",l=>{if(s.abort(),this.destroyed||!l){r();return}g(this,sr,i),g(this,_s,t),g(this,kl,t),b(this,Sn,Am).call(this)}),i.on("ready",l=>{if(s.abort(),this.destroyed){r();return}try{o()}catch{b(this,Sn,Ch).call(this)}});const o=()=>{const l=new Uint8Array;i.send("test",l,[l.buffer])};o();return}catch{P1("The worker has been disabled.")}b(this,Sn,Ch).call(this)},Ch=function(){a(Qe,Tl)||(se("Setting up fake worker."),g(Qe,Tl,!0)),Qe._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){a(this,jo).reject(new Error("Worker was destroyed"));return}const t=new aR;g(this,_s,t);const i=`fake${St(Qe,Z0)._++}`,r=new fh(i+"_worker",i,t);e.setup(r,t),g(this,sr,new fh(i,i+"_worker",t)),b(this,Sn,Am).call(this)}).catch(e=>{a(this,jo).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Vd=new WeakSet,Em=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},x(Qe,Vd),x(Qe,Z0,0),x(Qe,Tl,!1),x(Qe,_l,new WeakMap),vn&&(g(Qe,Tl,!0),Yr.workerSrc||(Yr.workerSrc="./pdf.worker.mjs")),Qe._isSameOrigin=(e,t)=>{const i=URL.parse(e);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const r=new URL(t,i);return i.origin===r.origin},Qe._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Qe.fromPort=e=>{if(U_("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Qe.create(e)};let cp=Qe;var Rs,jr,Xd,Kd,Ps,Rl,wh;class JR{constructor(e,t,i,r,s,o){x(this,Rl);x(this,Rs,new Map);x(this,jr,new Map);x(this,Xd,new Map);x(this,Kd,new Map);x(this,Ps,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new z8,this.fontLoader=new tR({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}get annotationStorage(){return oe(this,"annotationStorage",new A5)}getRenderingIntent(e,t=fo.ENABLE,i=null,r=!1,s=!1){let o=pi.DISPLAY,l=nv;switch(e){case"any":o=pi.ANY;break;case"display":break;case"print":o=pi.PRINT;break;default:se(`getRenderingIntent - invalid intent: ${e}`)}const c=o&pi.PRINT&&i instanceof A8?i:this.annotationStorage;switch(t){case fo.DISABLE:o+=pi.ANNOTATIONS_DISABLE;break;case fo.ENABLE:break;case fo.ENABLE_FORMS:o+=pi.ANNOTATIONS_FORMS;break;case fo.ENABLE_STORAGE:o+=pi.ANNOTATIONS_STORAGE,l=c.serializable;break;default:se(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(o+=pi.IS_EDITING),s&&(o+=pi.OPLIST);const{ids:d,hash:u}=c.modifiedIds,h=[o,l.hash,u];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:l,modifiedIds:d}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=a(this,Ps))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of a(this,jr).values())e.push(r._destroy());a(this,jr).clear(),a(this,Xd).clear(),a(this,Kd).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r,s;this.commonObjs.clear(),this.fontLoader.clear(),a(this,Rs).clear(),this.filterFactory.destroy(),lp.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Ca("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{xe(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}xe(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async i=>{var l;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:o}=this._fullReader;return(!r||!s)&&(this._lastProgress&&((l=t.onProgress)==null||l.call(t,this._lastProgress)),this._fullReader.onProgress=c=>{var d;(d=t.onProgress)==null||d.call(t,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(i,r)=>{xe(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:l}){if(l){r.close();return}xe(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new QR(i,this))}),e.on("DocException",i=>{t._capability.reject(Rn(i))}),e.on("PasswordRequest",i=>{g(this,Ps,Promise.withResolvers());try{if(!t.onPassword)throw Rn(i);const r=s=>{s instanceof Error?a(this,Ps).reject(s):a(this,Ps).resolve({password:s})};t.onPassword(r,i.code)}catch(r){a(this,Ps).reject(r)}return a(this,Ps).promise}),e.on("DataLoaded",i=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;a(this,jr).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in s){const p=s.error;se(`Error during font loading: ${p}`),this.commonObjs.resolve(i,p);break}const l=new iv(s),c=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,d=new nR(l,c,s.extra,s.charProcOperatorList);this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:u}=s;xe(u,"The imageRef must be defined.");for(const p of a(this,jr).values())for(const[,m]of p.objs)if((m==null?void 0:m.ref)===u)return m.dataLen?(this.commonObjs.resolve(i,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(i,s);break;case"Pattern":const h=new rv(s);this.commonObjs.resolve(i,h.getIR());break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,o])=>{var c;if(this.destroyed)return;const l=a(this,jr).get(r);if(!l.objs.has(i)){if(l._intentStates.size===0){(c=o==null?void 0:o.bitmap)==null||c.close();return}switch(s){case"Image":case"Pattern":l.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&se("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=a(this,Xd).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&a(this,Kd).set(s.refStr,e);const o=new ZR(t,s,this,this._params.pdfBug);return a(this,jr).set(t,o),o});return a(this,Xd).set(t,r),r}getPageIndex(e){return sv(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return b(this,Rl,wh).call(this,"GetFieldObjects")}hasJSActions(){return b(this,Rl,wh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return b(this,Rl,wh).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return b(this,Rl,wh).call(this,"GetOptionalContentConfig").then(t=>new IR(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=a(this,Rs).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,o;return{info:r[0],metadata:r[1]?new RR(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null,hasStructTree:r[2]}});return a(this,Rs).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of a(this,jr).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),a(this,Rs).clear(),this.filterFactory.destroy(!0),lp.cleanup()}}cachedPageNumber(e){if(!sv(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return a(this,Kd).get(t)??null}}Rs=new WeakMap,jr=new WeakMap,Xd=new WeakMap,Kd=new WeakMap,Ps=new WeakMap,Rl=new WeakSet,wh=function(e,t=null){const i=a(this,Rs).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return a(this,Rs).set(e,r),r};var zo;class eP{constructor(e){x(this,zo,null);O(this,"onContinue",null);O(this,"onError",null);g(this,zo,e)}get promise(){return a(this,zo).capability.promise}cancel(e=0){a(this,zo).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=a(this,zo).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=a(this,zo);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}zo=new WeakMap;var Wo,Pl;const La=class La{constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:l,canvasFactory:c,filterFactory:d,useRequestAnimationFrame:u=!1,pdfBug:h=!1,pageColors:p=null,enableHWA:m=!1,operationsFilter:C=null}){x(this,Wo,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=d,this._pdfBug=h,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new eP(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=m,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=C}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var c,d;if(this.cancelled)return;if(this._canvas){if(a(La,Pl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");a(La,Pl).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:s,dependencyTracker:o}=this.params,l=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new ed(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(e=null,t=0){var i,r,s;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),a(this,Wo)&&(window.cancelAnimationFrame(a(this,Wo)),g(this,Wo,null)),a(La,Pl).delete(this._canvas),e||(e=new S5(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(r=this.task).onError)==null||s.call(r,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?g(this,Wo,window.requestAnimationFrame(()=>{g(this,Wo,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),a(La,Pl).delete(this._canvas),this.callback())))}};Wo=new WeakMap,Pl=new WeakMap,x(La,Pl,new WeakSet);let Cv=La;const tP="5.4.449",nP="f44e5f0e6";var ei,Il,qd,kt,vf,Yd,Is,xf,$o,or,Cf,Ne,wv,Sv,bv,Ra,q8,lo;const Pn=class Pn{constructor({editor:e=null,uiManager:t=null}){x(this,Ne);x(this,ei,null);x(this,Il,null);x(this,qd);x(this,kt,null);x(this,vf,!1);x(this,Yd,!1);x(this,Is,null);x(this,xf);x(this,$o,null);x(this,or,null);var i,r;e?(g(this,Yd,!1),g(this,Is,e)):g(this,Yd,!0),g(this,or,(e==null?void 0:e._uiManager)||t),g(this,xf,a(this,or)._eventBus),g(this,qd,((i=e==null?void 0:e.color)==null?void 0:i.toUpperCase())||((r=a(this,or))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),a(Pn,Cf)||g(Pn,Cf,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return oe(this,"_keyboardManager",new cg([[["Escape","mac+Escape"],Pn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Pn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Pn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Pn.prototype._moveToPrevious],[["Home","mac+Home"],Pn.prototype._moveToBeginning],[["End","mac+End"],Pn.prototype._moveToEnd]]))}renderButton(){const e=g(this,ei,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",a(this,Is)&&(e.ariaControls=`${a(this,Is).id}_colorpicker_dropdown`);const t=a(this,or)._signal;e.addEventListener("click",b(this,Ne,Ra).bind(this),{signal:t}),e.addEventListener("keydown",b(this,Ne,bv).bind(this),{signal:t});const i=g(this,Il,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=a(this,qd),e.append(i),e}renderMainDropdown(){const e=g(this,kt,b(this,Ne,wv).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===a(this,ei)){b(this,Ne,Ra).call(this,e);return}const t=e.target.getAttribute("data-color");t&&b(this,Ne,Sv).call(this,t,e)}_moveToNext(e){var t,i;if(!a(this,Ne,lo)){b(this,Ne,Ra).call(this,e);return}if(e.target===a(this,ei)){(t=a(this,kt).firstElementChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=a(this,kt))==null?void 0:t.firstElementChild)||e.target===a(this,ei)){a(this,Ne,lo)&&this._hideDropdownFromKeyboard();return}a(this,Ne,lo)||b(this,Ne,Ra).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!a(this,Ne,lo)){b(this,Ne,Ra).call(this,e);return}(t=a(this,kt).firstElementChild)==null||t.focus()}_moveToEnd(e){var t;if(!a(this,Ne,lo)){b(this,Ne,Ra).call(this,e);return}(t=a(this,kt).lastElementChild)==null||t.focus()}hideDropdown(){var e,t;(e=a(this,kt))==null||e.classList.add("hidden"),a(this,ei).ariaExpanded="false",(t=a(this,$o))==null||t.abort(),g(this,$o,null)}_hideDropdownFromKeyboard(){var e;if(!a(this,Yd)){if(!a(this,Ne,lo)){(e=a(this,Is))==null||e.unselect();return}this.hideDropdown(),a(this,ei).focus({preventScroll:!0,focusVisible:a(this,vf)})}}updateColor(e){if(a(this,Il)&&(a(this,Il).style.backgroundColor=e),!a(this,kt))return;const t=a(this,or).highlightColors.values();for(const i of a(this,kt).children)i.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=a(this,ei))==null||e.remove(),g(this,ei,null),g(this,Il,null),(t=a(this,kt))==null||t.remove(),g(this,kt,null)}};ei=new WeakMap,Il=new WeakMap,qd=new WeakMap,kt=new WeakMap,vf=new WeakMap,Yd=new WeakMap,Is=new WeakMap,xf=new WeakMap,$o=new WeakMap,or=new WeakMap,Cf=new WeakMap,Ne=new WeakSet,wv=function(){const e=document.createElement("div"),t=a(this,or)._signal;e.addEventListener("contextmenu",qi,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),a(this,Is)&&(e.id=`${a(this,Is).id}_colorpicker_dropdown`);for(const[i,r]of a(this,or).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",a(Pn,Cf)[i]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=r,s.ariaSelected=r===a(this,qd),s.addEventListener("click",b(this,Ne,Sv).bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",b(this,Ne,bv).bind(this),{signal:t}),e},Sv=function(e,t){t.stopPropagation(),a(this,xf).dispatch("switchannotationeditorparams",{source:this,type:ve.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},bv=function(e){Pn._keyboardManager.exec(this,e)},Ra=function(e){if(a(this,Ne,lo)){this.hideDropdown();return}if(g(this,vf,e.detail===0),a(this,$o)||(g(this,$o,new AbortController),window.addEventListener("pointerdown",b(this,Ne,q8).bind(this),{signal:a(this,or).combinedSignal(a(this,$o))})),a(this,ei).ariaExpanded="true",a(this,kt)){a(this,kt).classList.remove("hidden");return}const t=g(this,kt,b(this,Ne,wv).call(this));a(this,ei).append(t)},q8=function(e){var t;(t=a(this,kt))!=null&&t.contains(e.target)||this.hideDropdown()},lo=function(){return a(this,kt)&&!a(this,kt).classList.contains("hidden")},x(Pn,Cf,null);let B0=Pn;var zr,wf,Qd,Sf;const Fa=class Fa{constructor(e){x(this,zr,null);x(this,wf,null);x(this,Qd,null);g(this,wf,e),g(this,Qd,e._uiManager),a(Fa,Sf)||g(Fa,Sf,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(a(this,zr))return a(this,zr);const{editorType:e,colorType:t,color:i}=a(this,wf),r=g(this,zr,document.createElement("input"));return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",a(Fa,Sf)[e]),r.addEventListener("input",()=>{a(this,Qd).updateParams(t,r.value)},{signal:a(this,Qd)._signal}),r}update(e){a(this,zr)&&(a(this,zr).value=e)}destroy(){var e;(e=a(this,zr))==null||e.remove(),g(this,zr,null)}hideDropdown(){}};zr=new WeakMap,wf=new WeakMap,Qd=new WeakMap,Sf=new WeakMap,x(Fa,Sf,null);let L0=Fa;function bC(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Yu(n){return Math.max(0,Math.min(255,255*n))}class AC{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Yu(e),[e,e,e]}static G_HTML([e]){const t=bC(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(Yu)}static RGB_HTML(e){return`#${e.map(bC).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[Yu(1-Math.min(1,e+r)),Yu(1-Math.min(1,i+r)),Yu(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,o=1-i,l=Math.min(r,s,o);return["CMYK",r,s,o,l]}}class iP{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){je("Abstract method `_createSVG` called.")}}class F0 extends iP{_createSVG(e){return document.createElementNS(ns,e)}}const rP=9,fc=new WeakSet,sP=new Date().getTimezoneOffset()*60*1e3;class R2{static create(e){switch(e.data.annotationType){case vt.LINK:return new T5(e);case vt.TEXT:return new aP(e);case vt.WIDGET:switch(e.data.fieldType){case"Tx":return new lP(e);case"Btn":return e.data.radioButton?new Z8(e):e.data.checkBox?new dP(e):new uP(e);case"Ch":return new hP(e);case"Sig":return new cP(e)}return new vc(e);case vt.POPUP:return new Ev(e);case vt.FREETEXT:return new ib(e);case vt.LINE:return new fP(e);case vt.SQUARE:return new gP(e);case vt.CIRCLE:return new mP(e);case vt.POLYLINE:return new rb(e);case vt.CARET:return new vP(e);case vt.INK:return new _5(e);case vt.POLYGON:return new yP(e);case vt.HIGHLIGHT:return new sb(e);case vt.UNDERLINE:return new xP(e);case vt.SQUIGGLY:return new CP(e);case vt.STRIKEOUT:return new wP(e);case vt.STAMP:return new ob(e);case vt.FILEATTACHMENT:return new SP(e);default:return new st(e)}}}var Dl,Zd,Oi,bf,Av;const B5=class B5{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){x(this,bf);x(this,Dl,null);x(this,Zd,!1);x(this,Oi,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return B5._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var i;const{data:e}=this,t=(i=this.annotationStorage)==null?void 0:i.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var l;const e=(l=this.annotationStorage)==null?void 0:l.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:i,rect:r}=this.data;let s=-1/0,o=-1/0;if((t==null?void 0:t.length)>=8){for(let c=0;c<t.length;c+=8)t[c+1]>o?(o=t[c+1],s=t[c+2]):t[c+1]===o&&(s=Math.max(s,t[c+2]));return[s,o]}if((i==null?void 0:i.length)>=1){for(const c of i)for(let d=0,u=c.length;d<u;d+=2)c[d+1]>o?(o=c[d+1],s=c[d]):c[d+1]===o&&(s=Math.max(s,c[d]));if(s!==1/0)return[s,o]}return r?[r[2],r[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/i,e[1]=100*(e[1]-o)/r,e}get commentText(){var t,i,r;const{data:e}=this;return((i=(t=this.annotationStorage.getRawValue(`${sp}${e.id}`))==null?void 0:t.popup)==null?void 0:i.contents)||((r=e.contentsObj)==null?void 0:r.str)||""}set commentText(e){const{data:t}=this,i={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:i})||this.annotationStorage.setValue(`${sp}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=a(this,Oi))==null?void 0:e.popup)||this.popup)==null||t.remove(),g(this,Oi,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(a(this,Dl)||g(this,Dl,{rect:this.data.rect.slice(0)}));const{rect:t,popup:i}=e;t&&b(this,bf,Av).call(this,t);let r=((s=a(this,Oi))==null?void 0:s.popup)||this.popup;!r&&(i!=null&&i.text)&&(this._createPopup(i),r=a(this,Oi).popup),r&&(r.updateEdited(e),i!=null&&i.deleted&&(r.remove(),g(this,Oi,null),this.popup=null))}resetEdited(){var e;a(this,Dl)&&(b(this,bf,Av).call(this,a(this,Dl).rect),(e=a(this,Oi))==null||e.popup.resetEdited(),g(this,Dl,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof vc)&&!(this instanceof T5)&&(s.tabIndex=0);const{style:o}=s;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof Ev){const{rotation:v}=t;return!t.hasOwnCanvas&&v!==0&&this.setRotation(v,s),s}const{width:l,height:c}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const v=t.borderStyle.horizontalCornerRadius,A=t.borderStyle.verticalCornerRadius;if(v>0||A>0){const S=`calc(${v}px * var(--total-scale-factor)) / calc(${A}px * var(--total-scale-factor))`;o.borderRadius=S}else if(this instanceof Z8){const S=`calc(${l}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;o.borderRadius=S}switch(t.borderStyle.style){case Sc.SOLID:o.borderStyle="solid";break;case Sc.DASHED:o.borderStyle="dashed";break;case Sc.BEVELED:se("Unimplemented border style: beveled");break;case Sc.INSET:se("Unimplemented border style: inset");break;case Sc.UNDERLINE:o.borderBottomStyle="solid";break}const y=t.borderColor||null;y?(g(this,Zd,!0),o.borderColor=Z.makeHexColor(y[0]|0,y[1]|0,y[2]|0)):o.borderWidth=0}const d=Z.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:u,pageHeight:h,pageX:p,pageY:m}=r.rawDims;o.left=`${100*(d[0]-p)/u}%`,o.top=`${100*(d[1]-m)/h}%`;const{rotation:C}=t;return t.hasOwnCanvas||C===0?(o.width=`${100*l/u}%`,o.height=`${100*c/h}%`):this.setRotation(C,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:o}=this;e%180!==0&&([s,o]=[o,s]),t.style.width=`${100*s/i}%`,t.style.height=`${100*o/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],o=s[0],l=s.slice(1);r.target.style[i]=AC[`${o}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[i]:AC[`${o}_rgb`](l)})};return oe(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||i[r];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const o=i[r];if(o){const l={detail:{[r]:s},target:e};o(l),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect.map(v=>Math.fround(v));if(e.length===8){const[v,A,y,S]=e.subarray(2,6);if(r===v&&s===A&&t===y&&i===S)return}const{style:o}=this.container;let l;if(a(this,Zd)){const{borderColor:v,borderWidth:A}=o;o.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const c=r-t,d=s-i,{svgFactory:u}=this,h=u.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const p=u.createElement("defs");h.append(p);const m=u.createElement("clipPath"),C=`clippath_${this.data.id}`;m.setAttribute("id",C),m.setAttribute("clipPathUnits","objectBoundingBox"),p.append(m);for(let v=2,A=e.length;v<A;v+=8){const y=e[v],S=e[v+1],w=e[v+2],k=e[v+3],E=u.createElement("rect"),T=(w-t)/c,_=(s-S)/d,P=(y-w)/c,N=(S-k)/d;E.setAttribute("x",T),E.setAttribute("y",_),E.setAttribute("width",P),E.setAttribute("height",N),m.append(E),l==null||l.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${_}" width="${P}" height="${N}"/>`)}a(this,Zd)&&(l.push("</g></svg>')"),o.backgroundImage=l.join("")),this.container.append(h),this.container.style.clipPath=`url(#${C})`}_createPopup(e=null){const{data:t}=this;let i,r;e?(i={str:e.text},r=e.date):(i=t.contentsObj,r=t.modificationDate),g(this,Oi,new Ev({data:{color:t.color,titleObj:t.titleObj,modificationDate:r,contentsObj:i,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(a(this,Oi)||this.popup||this.data.popupRef)}get extraPopupElement(){return a(this,Oi)}render(){je("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:o,exportValues:l}of r){if(s===-1||o===t)continue;const c=typeof l=="string"?l:null,d=document.querySelector(`[data-element-id="${o}"]`);if(d&&!fc.has(d)){se(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:c,domElement:d})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==t&&fc.has(r)&&i.push({id:o,exportValue:s,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Dl=new WeakMap,Zd=new WeakMap,Oi=new WeakMap,bf=new WeakSet,Av=function(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:l,pageY:c}}}}=this;i==null||i.splice(0,4,...e),t.left=`${100*(e[0]-l)/s}%`,t.top=`${100*(o-e[3]+c)/o}%`,r===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(r)};let st=B5;class oP extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var Ci,Pa,Y8,Q8;class T5 extends st{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});x(this,Ci);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let s=!1;return t.url?(i.addLinkAttributes(r,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(r,t.action,t.overlaidText),s=!0):t.attachment?(b(this,Ci,Y8).call(this,r,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(b(this,Ci,Q8).call(this,r,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(r,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),s=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=r,this.container.append(r)),this.container}_bindLink(t,i,r=""){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&b(this,Ci,Pa).call(this),r&&(t.title=r)}_bindNamedAction(t,i,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),r&&(t.title=r),b(this,Ci,Pa).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const o=r.get(s);o&&(t[o]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}i.overlaidText&&(t.title=i.overlaidText),t.onclick||(t.onclick=()=>!1),b(this,Ci,Pa).call(this)}_bindResetFormAction(t,i){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),b(this,Ci,Pa).call(this),!this._fieldObjects){se('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var h;r==null||r();const{fields:s,refs:o,include:l}=i,c=[];if(s.length!==0||o.length!==0){const p=new Set(o);for(const m of s){const C=this._fieldObjects[m]||[];for(const{id:v}of C)p.add(v)}for(const m of Object.values(this._fieldObjects))for(const C of m)p.has(C.id)===l&&c.push(C)}else for(const p of Object.values(this._fieldObjects))c.push(...p);const d=this.annotationStorage,u=[];for(const p of c){const{id:m}=p;switch(u.push(m),p.type){case"text":{const v=p.defaultValue||"";d.setValue(m,{value:v});break}case"checkbox":case"radiobutton":{const v=p.defaultValue===p.exportValues;d.setValue(m,{value:v});break}case"combobox":case"listbox":{const v=p.defaultValue||"";d.setValue(m,{value:v});break}default:continue}const C=document.querySelector(`[data-element-id="${m}"]`);if(C){if(!fc.has(C)){se(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;C.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}Ci=new WeakSet,Pa=function(){this.container.setAttribute("data-internal-link","")},Y8=function(t,i,r="",s=null){t.href=this.linkService.getAnchorUrl(""),i.description?t.title=i.description:r&&(t.title=r),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(i.content,i.filename,s),!1},b(this,Ci,Pa).call(this)},Q8=function(t,i,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),r&&(t.title=r),b(this,Ci,Pa).call(this)};class aP extends st{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class vc extends st{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Qt.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,o=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(i,o=>{var l;if(i==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}}))})}_setEventListeners(e,t,i,r){var s,o,l;for(const[c,d]of i)(d==="Action"||(s=this.data.actions)!=null&&s[d])&&((d==="Focus"||d==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,d,r),d==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):d==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Z.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||rP,s=e.style;let o;const l=2,c=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l),u=Math.round(d/(w2*r))||1,h=d/u;o=Math.min(r,c(h/w2))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l);o=Math.min(r,c(d/w2))}s.fontSize=`calc(${o}px * var(--total-scale-factor))`,s.color=Z.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class lP extends vc{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=i),s.setValue(o.id,{[r]:i})}render(){var r,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let l=o.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let d=o.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const u={userValue:l,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=d??l,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",d??l),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),fc.add(i),this.contentElement=i,i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:h,datetimeType:p,timeStep:m}=this.data,C=!!p&&this.enableScripting;h&&(i.title=h),this._setRequired(i,this.data.required),c&&(i.maxLength=c),i.addEventListener("input",A=>{e.setValue(t,{value:A.target.value}),this.setPropertyOnSiblings(i,"value",A.target.value,"value"),u.formattedValue=null}),i.addEventListener("resetform",A=>{const y=this.data.defaultFieldValue??"";i.value=u.userValue=y,u.formattedValue=null});let v=A=>{const{formattedValue:y}=u;y!=null&&(A.target.value=y),A.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",y=>{var w;if(u.focused)return;const{target:S}=y;if(C&&(S.type=p,m&&(S.step=m)),u.userValue){const k=u.userValue;if(C)if(p==="time"){const E=new Date(k),T=[E.getHours(),E.getMinutes(),E.getSeconds()];S.value=T.map(_=>_.toString().padStart(2,"0")).join(":")}else S.value=new Date(k-sP).toISOString().split(p==="date"?"T":".",1)[0];else S.value=k}u.lastCommittedValue=S.value,u.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(u.focused=!0)}),i.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const S={value(w){u.userValue=w.detail.value??"",C||e.setValue(t,{value:u.userValue.toString()}),w.target.value=u.userValue},formattedValue(w){const{formattedValue:k}=w.detail;u.formattedValue=k,k!=null&&w.target!==document.activeElement&&(w.target.value=k);const E={formattedValue:k};C&&(E.value=k),e.setValue(t,E)},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var _;const{charLimit:k}=w.detail,{target:E}=w;if(k===0){E.removeAttribute("maxLength");return}E.setAttribute("maxLength",k);let T=u.userValue;!T||T.length<=k||(T=T.slice(0,k),E.value=u.userValue=T,e.setValue(t,{value:T}),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:E.selectionStart,selEnd:E.selectionEnd}}))}};this._dispatchEventFromSandbox(S,y)}),i.addEventListener("keydown",y=>{var k;u.commitKey=1;let S=-1;if(y.key==="Escape"?S=0:y.key==="Enter"&&!this.data.multiLine?S=2:y.key==="Tab"&&(u.commitKey=3),S===-1)return;const{value:w}=y.target;u.lastCommittedValue!==w&&(u.lastCommittedValue=w,u.userValue=w,(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:S,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const A=v;v=null,i.addEventListener("blur",y=>{var k,E;if(!u.focused||!y.relatedTarget)return;(k=this.data.actions)!=null&&k.Blur||(u.focused=!1);const{target:S}=y;let{value:w}=S;if(C){if(w&&p==="time"){const T=w.split(":").map(_=>parseInt(_,10));w=new Date(2e3,0,1,T[0],T[1],T[2]||0).valueOf(),S.step=""}else w.includes("T")||(w=`${w}T00:00`),w=new Date(w).valueOf();S.type="text"}u.userValue=w,u.lastCommittedValue!==w&&((E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:u.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}})),A(y)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",y=>{var N;u.lastCommittedValue=null;const{data:S,target:w}=y,{value:k,selectionStart:E,selectionEnd:T}=w;let _=E,P=T;switch(y.inputType){case"deleteWordBackward":{const B=k.substring(0,E).match(/\w*[^\w]*$/);B&&(_-=B[0].length);break}case"deleteWordForward":{const B=k.substring(E).match(/^[^\w]*\w*/);B&&(P+=B[0].length);break}case"deleteContentBackward":E===T&&(_-=1);break;case"deleteContentForward":E===T&&(P+=1);break}y.preventDefault(),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:k,change:S||"",willCommit:!1,selStart:_,selEnd:P}})}),this._setEventListeners(i,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(v&&i.addEventListener("blur",v),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/c;i.classList.add("comb"),i.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class cP extends vc{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class dP extends vc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return fc.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",o=>{const{name:l,checked:c}=o.target;for(const d of this._getElementsByName(l,i)){const u=c&&d.exportValue===t.exportValue;d.domElement&&(d.domElement.checked=u),e.setValue(d.id,{value:u})}e.setValue(i,{value:c})}),s.addEventListener("resetform",o=>{const l=t.defaultFieldValue||"Off";o.target.checked=l===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const l={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(i,{value:c.target.checked})}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Z8 extends vc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const o of this._getElementsByName(t.fieldName,i))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(fc.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",o=>{const{name:l,checked:c}=o.target;for(const d of this._getElementsByName(l,i))e.setValue(d.id,{value:!1});e.setValue(i,{value:c})}),s.addEventListener("resetform",o=>{const l=t.defaultFieldValue;o.target.checked=l!=null&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",l=>{const c={value:d=>{const u=o===d.detail.value;for(const h of this._getElementsByName(d.target.name)){const p=u&&h.id===i;h.domElement&&(h.domElement.checked=p),e.setValue(h.id,{value:p})}}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class uP extends T5{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class hP extends vc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");fc.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",u=>{const h=this.data.defaultFieldValue;for(const p of r.options)p.selected=p.value===h});for(const u of this.data.options){const h=document.createElement("option");h.textContent=u.displayValue,h.value=u.exportValue,i.value.includes(u.exportValue)&&(h.setAttribute("selected",!0),s=!1),r.append(h)}let o=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),r.prepend(u),o=()=>{u.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const l=u=>{const h=u?"value":"textContent",{options:p,multiple:m}=r;return m?Array.prototype.filter.call(p,C=>C.selected).map(C=>C[h]):p.selectedIndex===-1?null:p[p.selectedIndex][h]};let c=l(!1);const d=u=>{const h=u.target.options;return Array.prototype.map.call(h,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",u=>{const h={value(p){o==null||o();const m=p.detail.value,C=new Set(Array.isArray(m)?m:[m]);for(const v of r.options)v.selected=C.has(v.value);e.setValue(t,{value:l(!0)}),c=l(!1)},multipleSelection(p){r.multiple=!0},remove(p){const m=r.options,C=p.detail.remove;m[C].selected=!1,r.remove(C),m.length>0&&Array.prototype.findIndex.call(m,A=>A.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:l(!0),items:d(p)}),c=l(!1)},clear(p){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),c=l(!1)},insert(p){const{index:m,displayValue:C,exportValue:v}=p.detail.insert,A=r.children[m],y=document.createElement("option");y.textContent=C,y.value=v,A?A.before(y):r.append(y),e.setValue(t,{value:l(!0),items:d(p)}),c=l(!1)},items(p){const{items:m}=p.detail;for(;r.length!==0;)r.remove(0);for(const C of m){const{displayValue:v,exportValue:A}=C,y=document.createElement("option");y.textContent=v,y.value=A,r.append(y)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:l(!0),items:d(p)}),c=l(!1)},indices(p){const m=new Set(p.detail.indices);for(const C of p.target.options)C.selected=m.has(C.index);e.setValue(t,{value:l(!0)}),c=l(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(h,u)}),r.addEventListener("input",u=>{var m;const h=l(!0),p=l(!1);e.setValue(t,{value:h}),u.preventDefault(),(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:p,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):r.addEventListener("input",function(u){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}var Af,kv;class Ev extends st{constructor(t){const{data:i,elements:r,parent:s}=t,o=!!s._commentManager;super(t,{isRenderable:!o&&st._hasPopupData(i)});x(this,Af);if(this.elements=r,o&&st._hasPopupData(i)){const l=this.popup=b(this,Af,kv).call(this);for(const c of r)c.popup=l}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const i=this.popup=b(this,Af,kv).call(this),r=[];for(const s of this.elements)s.popup=i,s.container.ariaHasPopup="dialog",r.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(s=>`${$c}${s}`).join(",")),this.container}}Af=new WeakSet,kv=function(){return new pP({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var ti,Ho,J0,e1,Jd,eu,ct,Wr,Uo,Ml,tu,nu,$r,ni,Ds,Ms,dt,Ns,Go,Ef,Bs,iu,Nl,Vo,It,Xo,he,km,Tv,_v,Rv,Tm,Pv,J8,eb,tb,nb,_m,Rm,Iv;class pP{constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:o,richText:l,parent:c,rect:d,parentRect:u,open:h,commentManager:p=null}){x(this,he);x(this,ti,null);x(this,Ho,b(this,he,tb).bind(this));x(this,J0,b(this,he,Iv).bind(this));x(this,e1,b(this,he,Rm).bind(this));x(this,Jd,b(this,he,_m).bind(this));x(this,eu,null);x(this,ct,null);x(this,Wr,null);x(this,Uo,null);x(this,Ml,null);x(this,tu,null);x(this,nu,null);x(this,$r,!1);x(this,ni,null);x(this,Ds,null);x(this,Ms,null);x(this,dt,null);x(this,Ns,null);x(this,Go,null);x(this,Ef,null);x(this,Bs,null);x(this,iu,null);x(this,Nl,null);x(this,Vo,!1);x(this,It,null);x(this,Xo,null);g(this,ct,e),g(this,iu,r),g(this,Wr,o),g(this,Bs,l),g(this,tu,c),g(this,eu,t),g(this,Ef,d),g(this,nu,u),g(this,Ml,i),g(this,ti,p),g(this,It,i[0]),g(this,Uo,R0.toDateObject(s)),this.trigger=i.flatMap(m=>m.getElementsToTriggerPopup()),p||(b(this,he,km).call(this),a(this,ct).hidden=!0,h&&b(this,he,_m).call(this))}renderCommentButton(){if(a(this,dt)){a(this,dt).parentNode||a(this,It).container.after(a(this,dt));return}if(a(this,Ns)||b(this,he,Tv).call(this),!a(this,Ns))return;const{signal:e}=g(this,Ds,new AbortController),t=a(this,It).hasOwnCommentButton,i=()=>{a(this,ti).toggleCommentPopup(this,!0,void 0,!t)},r=()=>{a(this,ti).toggleCommentPopup(this,!1,!0,!t)},s=()=>{a(this,ti).toggleCommentPopup(this,!1,!1)};if(t){g(this,dt,a(this,It).container);for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",a(this,Ho),{signal:e}),o.addEventListener("click",i,{signal:e}),o.addEventListener("pointerenter",r,{signal:e}),o.addEventListener("pointerleave",s,{signal:e}),o.classList.add("popupTriggerArea")}else{const o=g(this,dt,document.createElement("button"));o.className="annotationCommentButton";const l=a(this,It).container;o.style.zIndex=l.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),b(this,he,Rv).call(this),b(this,he,_v).call(this),o.addEventListener("keydown",a(this,Ho),{signal:e}),o.addEventListener("click",i,{signal:e}),o.addEventListener("pointerenter",r,{signal:e}),o.addEventListener("pointerleave",s,{signal:e}),l.after(o)}}get commentButtonColor(){const{color:e,opacity:t}=a(this,It).commentData;return e?a(this,tu)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=a(this,dt))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}=a(this,It).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}}get elementBeforePopup(){return a(this,dt)}get comment(){return a(this,Xo)||g(this,Xo,a(this,It).commentText),a(this,Xo)}set comment(e){e!==this.comment&&(a(this,It).commentText=g(this,Xo,e))}focus(){var e;(e=a(this,It).container)==null||e.focus()}get parentBoundingClientRect(){return a(this,It).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){a(this,dt)&&(a(this,dt).classList.toggle("selected",e),a(this,dt).ariaExpanded=t)}setSelectedCommentButton(e){a(this,dt).classList.toggle("selected",e)}get commentPopupPosition(){if(a(this,Go))return a(this,Go);const{x:e,y:t,height:i}=a(this,dt).getBoundingClientRect(),{x:r,y:s,width:o,height:l}=a(this,It).layer.getBoundingClientRect();return[(e-r)/o,(t+i-s)/l]}set commentPopupPosition(e){g(this,Go,e)}hasDefaultPopupPosition(){return a(this,Go)===null}get commentButtonPosition(){return a(this,Ns)}get commentButtonWidth(){return a(this,dt).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,i]=a(this,Go)||this.commentButtonPosition.map(d=>d/100),r=this.parentBoundingClientRect,{x:s,y:o,width:l,height:c}=r;a(this,ti).showDialog(null,this,s+t*l,o+i*c,{...e,parentDimensions:r})}render(){var i,r;if(a(this,ni))return;const e=g(this,ni,document.createElement("div"));if(e.className="popup",a(this,eu)){const s=e.style.outlineColor=Z.makeHexColor(...a(this,eu));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(i=a(this,iu))!=null&&i.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=a(this,iu)}if(e.append(t),a(this,Uo)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:a(this,Uo).valueOf()})),s.dateTime=a(this,Uo).toISOString(),t.append(s)}HS({html:a(this,he,Tm)||a(this,Wr).str,dir:(r=a(this,Wr))==null?void 0:r.dir,className:"popupContent"},e),a(this,ct).append(e)}updateEdited({rect:e,popup:t,deleted:i}){var r;if(a(this,ti)){i?(this.remove(),g(this,Xo,null)):t&&(t.deleted?this.remove():(b(this,he,Rv).call(this),g(this,Xo,t.text))),e&&(g(this,Ns,null),b(this,he,Tv).call(this),b(this,he,_v).call(this));return}if(i||t!=null&&t.deleted){this.remove();return}b(this,he,km).call(this),a(this,Nl)||g(this,Nl,{contentsObj:a(this,Wr),richText:a(this,Bs)}),e&&g(this,Ms,null),t&&t.text&&(g(this,Bs,b(this,he,eb).call(this,t.text)),g(this,Uo,R0.toDateObject(t.date)),g(this,Wr,null)),(r=a(this,ni))==null||r.remove(),g(this,ni,null)}resetEdited(){var e;a(this,Nl)&&({contentsObj:St(this,Wr)._,richText:St(this,Bs)._}=a(this,Nl),g(this,Nl,null),(e=a(this,ni))==null||e.remove(),g(this,ni,null),g(this,Ms,null))}remove(){var e,t,i;if((e=a(this,Ds))==null||e.abort(),g(this,Ds,null),(t=a(this,ni))==null||t.remove(),g(this,ni,null),g(this,Vo,!1),g(this,$r,!1),(i=a(this,dt))==null||i.remove(),g(this,dt,null),this.trigger)for(const r of this.trigger)r.classList.remove("popupTriggerArea")}forceHide(){g(this,Vo,this.isVisible),a(this,Vo)&&(a(this,ct).hidden=!0)}maybeShow(){a(this,ti)||(b(this,he,km).call(this),a(this,Vo)&&(a(this,ni)||b(this,he,Rm).call(this),g(this,Vo,!1),a(this,ct).hidden=!1))}get isVisible(){return a(this,ti)?!1:a(this,ct).hidden===!1}}ti=new WeakMap,Ho=new WeakMap,J0=new WeakMap,e1=new WeakMap,Jd=new WeakMap,eu=new WeakMap,ct=new WeakMap,Wr=new WeakMap,Uo=new WeakMap,Ml=new WeakMap,tu=new WeakMap,nu=new WeakMap,$r=new WeakMap,ni=new WeakMap,Ds=new WeakMap,Ms=new WeakMap,dt=new WeakMap,Ns=new WeakMap,Go=new WeakMap,Ef=new WeakMap,Bs=new WeakMap,iu=new WeakMap,Nl=new WeakMap,Vo=new WeakMap,It=new WeakMap,Xo=new WeakMap,he=new WeakSet,km=function(){var t;if(a(this,Ds))return;g(this,Ds,new AbortController);const{signal:e}=a(this,Ds);for(const i of this.trigger)i.addEventListener("click",a(this,Jd),{signal:e}),i.addEventListener("pointerenter",a(this,e1),{signal:e}),i.addEventListener("pointerleave",a(this,J0),{signal:e}),i.classList.add("popupTriggerArea");for(const i of a(this,Ml))(t=i.container)==null||t.addEventListener("keydown",a(this,Ho),{signal:e})},Tv=function(){const e=a(this,Ml).find(t=>t.hasCommentButton);e&&g(this,Ns,e._normalizePoint(e.commentButtonPosition))},_v=function(){if(a(this,It).extraPopupElement&&!a(this,It).editor)return;a(this,dt)||this.renderCommentButton();const[e,t]=a(this,Ns),{style:i}=a(this,dt);i.left=`calc(${e}%)`,i.top=`calc(${t}% - var(--comment-button-dim))`},Rv=function(){a(this,It).extraPopupElement||(a(this,dt)||this.renderCommentButton(),a(this,dt).style.backgroundColor=this.commentButtonColor||"")},Tm=function(){const e=a(this,Bs),t=a(this,Wr);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&a(this,Bs).html||null},Pv=function(){var e,t,i;return((i=(t=(e=a(this,he,Tm))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},J8=function(){var e,t,i;return((i=(t=(e=a(this,he,Tm))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},eb=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:a(this,he,J8),fontSize:a(this,he,Pv)?`calc(${a(this,he,Pv)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i},tb=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&a(this,$r))&&b(this,he,_m).call(this)},nb=function(){if(a(this,Ms)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=a(this,tu);let o=!!a(this,nu),l=o?a(this,nu):a(this,Ef);for(const C of a(this,Ml))if(!l||Z.intersect(C.data.rect,l)!==null){l=C.data.rect,o=!0;break}const c=Z.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),u=o?l[2]-l[0]+5:0,h=c[0]+u,p=c[1];g(this,Ms,[100*(h-r)/t,100*(p-s)/i]);const{style:m}=a(this,ct);m.left=`${a(this,Ms)[0]}%`,m.top=`${a(this,Ms)[1]}%`},_m=function(){if(a(this,ti)){a(this,ti).toggleCommentPopup(this,!1);return}g(this,$r,!a(this,$r)),a(this,$r)?(b(this,he,Rm).call(this),a(this,ct).addEventListener("click",a(this,Jd)),a(this,ct).addEventListener("keydown",a(this,Ho))):(b(this,he,Iv).call(this),a(this,ct).removeEventListener("click",a(this,Jd)),a(this,ct).removeEventListener("keydown",a(this,Ho)))},Rm=function(){a(this,ni)||this.render(),this.isVisible?a(this,$r)&&a(this,ct).classList.add("focused"):(b(this,he,nb).call(this),a(this,ct).hidden=!1,a(this,ct).style.zIndex=parseInt(a(this,ct).style.zIndex)+1e3)},Iv=function(){a(this,ct).classList.remove("focused"),!(a(this,$r)||!this.isVisible)&&(a(this,ct).hidden=!0,a(this,ct).style.zIndex=parseInt(a(this,ct).style.zIndex)-1e3)};class ib extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=le.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var kf;class fP extends st{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,kf,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),o=g(this,kf,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return a(this,kf)}addHighlightArea(){this.container.classList.add("highlightArea")}}kf=new WeakMap;var Tf;class gP extends st{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,Tf,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),o=t.borderStyle.width,l=g(this,Tf,this.svgFactory.createElement("svg:rect"));return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",i-o),l.setAttribute("height",r-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return a(this,Tf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Tf=new WeakMap;var _f;class mP extends st{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,_f,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),o=t.borderStyle.width,l=g(this,_f,this.svgFactory.createElement("svg:ellipse"));return l.setAttribute("cx",i/2),l.setAttribute("cy",r/2),l.setAttribute("rx",i/2-o/2),l.setAttribute("ry",r/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return a(this,_f)}addHighlightArea(){this.container.classList.add("highlightArea")}}_f=new WeakMap;var Rf;class rb extends st{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,Rf,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:r,popupRef:s},width:o,height:l}=this;if(!i)return this.container;const c=this.svgFactory.create(o,l,!0);let d=[];for(let h=0,p=i.length;h<p;h+=2){const m=i[h]-t[0],C=t[3]-i[h+1];d.push(`${m},${C}`)}d=d.join(" ");const u=g(this,Rf,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",d),u.setAttribute("stroke-width",r.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),c.append(u),this.container.append(c),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return a(this,Rf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rf=new WeakMap;class yP extends rb{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class vP extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var Pf,Bl,If,Dv;class _5 extends st{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,If);x(this,Pf,null);x(this,Bl,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?le.HIGHLIGHT:le.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:i,inkLists:r,borderStyle:s,popupRef:o}}=this,{transform:l,width:c,height:d}=b(this,If,Dv).call(this,i,t),u=this.svgFactory.create(c,d,!0),h=g(this,Pf,this.svgFactory.createElement("svg:g"));u.append(h),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",l);for(let p=0,m=r.length;p<m;p++){const C=this.svgFactory.createElement(this.svgElementName);a(this,Bl).push(C),C.setAttribute("points",r[p].join(",")),h.append(C)}return!o&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:i,points:r,rect:s}=t,o=a(this,Pf);if(i>=0&&o.setAttribute("stroke-width",i||1),r)for(let l=0,c=a(this,Bl).length;l<c;l++)a(this,Bl)[l].setAttribute("points",r[l].join(","));if(s){const{transform:l,width:c,height:d}=b(this,If,Dv).call(this,this.data.rotation,s);o.parentElement.setAttribute("viewBox",`0 0 ${c} ${d}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return a(this,Bl)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pf=new WeakMap,Bl=new WeakMap,If=new WeakSet,Dv=function(t,i){switch(t){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class sb extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=le.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class xP extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class CP extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class wP extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class ob extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=le.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var Df,Mf,Mv;class SP extends st{constructor(t){var r;super(t,{isRenderable:!0});x(this,Mf);x(this,Df,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",b(this,Mf,Mv).bind(this)),g(this,Df,r);const{isMac:s}=Qt.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&b(this,Mf,Mv).call(this)}),!i.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return a(this,Df)}addHighlightArea(){this.container.classList.add("highlightArea")}}Df=new WeakMap,Mf=new WeakSet,Mv=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Ll,Fl,ru,Ko,Nf,Ol,ii,Bf,Ks,Pm,Bv;const L5=class L5{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:o,structTreeLayer:l,commentManager:c,linkService:d,annotationStorage:u}){x(this,Ks);x(this,Ll,null);x(this,Fl,null);x(this,ru,null);x(this,Ko,new Map);x(this,Nf,null);x(this,Ol,null);x(this,ii,[]);x(this,Bf,!1);this.div=e,g(this,Ll,t),g(this,Fl,i),g(this,Nf,l||null),g(this,Ol,d||null),g(this,ru,u||new A5),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=c||null}hasEditableAnnotations(){return a(this,Ko).size>0}async render(e){var l;const{annotations:t}=e,i=this.div;hc(i,this.viewport);const r=new Map,s=[],o={data:null,layer:i,linkService:a(this,Ol),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new F0,annotationStorage:a(this,ru),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of t){if(c.noHTML)continue;const d=c.annotationType===vt.POPUP;if(d){const p=r.get(c.id);if(!p)continue;if(!this._commentManager){s.push(c);continue}o.elements=p}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;o.data=c;const u=R2.create(o);if(!u.isRenderable)continue;if(!d&&(a(this,ii).push(u),c.popupRef)){const p=r.get(c.popupRef);p?p.push(u):r.set(c.popupRef,[u])}const h=u.render();c.hidden&&(h.style.visibility="hidden"),u._isEditable&&(a(this,Ko).set(u.data.id,u),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(u))}await b(this,Ks,Pm).call(this);for(const c of s){const d=o.elements=r.get(c.id);o.data=c;const u=R2.create(o);if(!u.isRenderable)continue;const h=u.render();u.contentElement.id=`${$c}${c.id}`,c.hidden&&(h.style.visibility="hidden"),d.at(-1).container.after(h)}b(this,Ks,Bv).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:a(this,Ol),svgFactory:new F0,parent:this};for(const i of e){i.borderStyle||(i.borderStyle=L5._defaultBorderStyle),t.data=i;const r=R2.create(t);r.isRenderable&&(r.render(),r.contentElement.id=`${$c}${i.id}`,a(this,ii).push(r))}await b(this,Ks,Pm).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,hc(t,{rotation:e.rotation}),b(this,Ks,Bv).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(a(this,Ko).values())}getEditableAnnotation(e){return a(this,Ko).get(e)}addFakeAnnotation(e){const{div:t}=this,{id:i,rotation:r}=e,s=new oP({data:{id:i,rect:e.getPDFRect(),rotation:r},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:a(this,Ol),annotationStorage:a(this,ru)});return s.render(),s.contentElement.id=`${$c}${i}`,s.createOrUpdatePopup(),a(this,ii).push(s),s}removeAnnotation(e){var r;const t=a(this,ii).findIndex(s=>s.data.id===e);if(t<0)return;const[i]=a(this,ii).splice(t,1);(r=a(this,Ll))==null||r.removePointerInTextLayer(i.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);b(this,Ks,Pm).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return oe(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Sc.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};Ll=new WeakMap,Fl=new WeakMap,ru=new WeakMap,Ko=new WeakMap,Nf=new WeakMap,Ol=new WeakMap,ii=new WeakMap,Bf=new WeakMap,Ks=new WeakSet,Pm=async function(){var i,r,s;if(a(this,ii).length===0)return;this.div.replaceChildren();const e=[];if(!a(this,Bf)){g(this,Bf,!0);for(const{contentElement:o,data:{id:l}}of a(this,ii)){const c=o.id=`${$c}${l}`;e.push((i=a(this,Nf))==null?void 0:i.getAriaAttributes(c).then(d=>{if(d)for(const[u,h]of d)o.setAttribute(u,h)}))}}a(this,ii).sort(({data:{rect:[o,l,c,d]}},{data:{rect:[u,h,p,m]}})=>{if(o===c&&l===d)return 1;if(u===p&&h===m)return-1;const C=d,v=l,A=(l+d)/2,y=m,S=h,w=(h+m)/2;if(A>=y&&w<=v)return-1;if(w>=C&&A<=S)return 1;const k=(o+c)/2,E=(u+p)/2;return k-E});const t=document.createDocumentFragment();for(const o of a(this,ii))t.append(o.container),this._commentManager?(s=((r=o.extraPopupElement)==null?void 0:r.popup)||o.popup)==null||s.renderCommentButton():o.extraPopupElement&&t.append(o.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),a(this,Ll))for(const o of a(this,ii))a(this,Ll).addPointerInTextLayer(o.contentElement,!1)},Bv=function(){var t;if(!a(this,Fl))return;const e=this.div;for(const[i,r]of a(this,Fl)){const s=e.querySelector(`[data-annotation-id="${i}"]`);if(!s)continue;r.className="annotationContent";const{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(r):o.classList.contains("annotationContent")?o.after(r):o.before(r):s.append(r);const l=a(this,Ko).get(i);l&&(l._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(i,s.id,r),l._hasNoCanvas=!1):l.canvas=r)}a(this,Fl).clear()};let Nv=L5;const Wg=/\r\n?|\n/g;var ri,Lf,jl,si,wt,ab,lb,cb,Im,qs,Dm,Mm,db,Fv,ub;const Ke=class Ke extends Ge{constructor(t){super({...t,name:"freeTextEditor"});x(this,wt);x(this,ri,"");x(this,Lf,`${this.id}-editor`);x(this,jl,null);x(this,si);O(this,"_colorPicker",null);this.color=t.color||Ke._defaultColor||Ge._defaultLineColor,g(this,si,t.fontSize||Ke._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const t=Ke.prototype,i=o=>o.isEmpty(),r=pc.TRANSLATE_SMALL,s=pc.TRANSLATE_BIG;return oe(this,"_keyboardManager",new cg([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(t,i){Ge.initialize(t,i);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case ve.FREETEXT_SIZE:Ke._defaultFontSize=i;break;case ve.FREETEXT_COLOR:Ke._defaultColor=i;break}}updateParams(t,i){switch(t){case ve.FREETEXT_SIZE:b(this,wt,ab).call(this,i);break;case ve.FREETEXT_COLOR:b(this,wt,lb).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ve.FREETEXT_SIZE,Ke._defaultFontSize],[ve.FREETEXT_COLOR,Ke._defaultColor||Ge._defaultLineColor]]}get propertiesToUpdate(){return[[ve.FREETEXT_SIZE,a(this,si)],[ve.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new L0(this)),[["colorPicker",this._colorPicker]]}get colorType(){return ve.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ke._internalPadding*t,-(Ke._internalPadding+a(this,si))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),g(this,jl,new AbortController);const t=this._uiManager.combinedSignal(a(this,jl));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",a(this,Lf)),this._isDraggable=!0,(t=a(this,jl))==null||t.abort(),g(this,jl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var i;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=a(this,ri),i=g(this,ri,b(this,wt,cb).call(this).trimEnd());if(t===i)return;const r=s=>{if(g(this,ri,s),!s){this.remove();return}b(this,wt,Mm).call(this),this._uiManager.rebuild(this),b(this,wt,Im).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(t)},mustExec:!1}),b(this,wt,Im).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ke._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,i;(this._isCopy||this.annotationElementId)&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",a(this,Lf)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${a(this,si)}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,d]=this.getInitialTranslation();[c,d]=this.pageTranslationToScreen(c,d);const[u,h]=this.pageDimensions,[p,m]=this.pageTranslation;let C,v;switch(this.rotation){case 0:C=t+(l[0]-p)/u,v=i+this.height-(l[1]-m)/h;break;case 90:C=t+(l[0]-p)/u,v=i-(l[1]-m)/h,[c,d]=[d,-c];break;case 180:C=t-this.width+(l[0]-p)/u,v=i-(l[1]-m)/h,[c,d]=[-c,-d];break;case 270:C=t+(l[0]-p-this.height*h)/u,v=i+(l[1]-m-this.width*u)/h,[c,d]=[-d,c];break}this.setAt(C*s,v*o,c,d)}else this._moveAfterPaste(t,i);b(this,wt,Mm).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var C,v,A;const i=t.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const s=b(C=Ke,qs,Fv).call(C,i.getData("text")||"").replaceAll(Wg,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!s.includes(`
`)){l.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:d}=l,u=[],h=[];if(c.nodeType===Node.TEXT_NODE){const y=c.parentElement;if(h.push(c.nodeValue.slice(d).replaceAll(Wg,"")),y!==this.editorDiv){let S=u;for(const w of this.editorDiv.childNodes){if(w===y){S=h;continue}S.push(b(v=Ke,qs,Dm).call(v,w))}}u.push(c.nodeValue.slice(0,d).replaceAll(Wg,""))}else if(c===this.editorDiv){let y=u,S=0;for(const w of this.editorDiv.childNodes)S++===d&&(y=h),y.push(b(A=Ke,qs,Dm).call(A,w))}g(this,ri,`${u.join(`
`)}${s}${h.join(`
`)}`),b(this,wt,Mm).call(this);const p=new Range;let m=Math.sumPrecise(u.map(y=>y.length));for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const S=y.nodeValue.length;if(m<=S){p.setStart(y,m),p.setEnd(y,m);break}m-=S}o.removeAllRanges(),o.addRange(p)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Ke._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,i,r){var l;let s=null;if(t instanceof ib){const{data:{defaultAppearanceData:{fontSize:c,fontColor:d},rect:u,rotation:h,id:p,popupRef:m,richText:C,contentsObj:v,creationDate:A,modificationDate:y},textContent:S,textPosition:w,parent:{page:{pageNumber:k}}}=t;if(!S||S.length===0)return null;s=t={annotationType:le.FREETEXT,color:Array.from(d),fontSize:c,value:S.join(`
`),position:w,pageIndex:k-1,rect:u.slice(0),rotation:h,annotationElementId:p,id:p,deleted:!1,popupRef:m,comment:(v==null?void 0:v.str)||null,richText:C,creationDate:A,modificationDate:y}}const o=await super.deserialize(t,i,r);return g(o,si,t.fontSize),o.color=Z.makeHexColor(...t.color),g(o,ri,b(l=Ke,qs,Fv).call(l,t.value)),o._initialData=s,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Ge._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(t),{color:i,fontSize:a(this,si),value:b(this,wt,db).call(this)});return this.addComment(r),t?(r.isCopy=!0,r):this.annotationElementId&&!b(this,wt,ub).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(!i)return null;const{style:r}=i;r.fontSize=`calc(${a(this,si)}px * var(--total-scale-factor))`,r.color=this.color,i.replaceChildren();for(const s of a(this,ri).split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),i.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:a(this,ri)}}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};ri=new WeakMap,Lf=new WeakMap,jl=new WeakMap,si=new WeakMap,wt=new WeakSet,ab=function(t){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-a(this,si))*this.parentScale),g(this,si,s),b(this,wt,Im).call(this)},r=a(this,si);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ve.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},lb=function(t){const i=s=>{this.color=s,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ve.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},cb=function(){var r;const t=[];this.editorDiv.normalize();let i=null;for(const s of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(b(r=Ke,qs,Dm).call(r,s)),i=s);return t.join(`
`)},Im=function(){const[t,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,l=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/i):(this.width=r.height/t,this.height=r.width/i),this.fixAndSetPosition()},qs=new WeakSet,Dm=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Wg,"")},Mm=function(){if(this.editorDiv.replaceChildren(),!!a(this,ri))for(const t of a(this,ri).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},db=function(){return a(this,ri).replaceAll(""," ")},Fv=function(t){return t.replaceAll(" ","")},ub=function(t){const{value:i,fontSize:r,color:s,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==i||t.fontSize!==r||t.color.some((l,c)=>l!==s[c])||t.pageIndex!==o},x(Ke,qs),O(Ke,"_freeTextDefaultContent",""),O(Ke,"_internalPadding",0),O(Ke,"_defaultColor",null),O(Ke,"_defaultFontSize",10),O(Ke,"_type","freetext"),O(Ke,"_editorType",le.FREETEXT);let Lv=Ke;class Y{toSVGPath(){je("Abstract method `toSVGPath` must be implemented.")}get box(){je("Abstract getter `box` must be implemented.")}serialize(e,t){je("Abstract method `serialize` must be implemented.")}static _rescale(e,t,i,r,s,o){o||(o=new Float32Array(e.length));for(let l=0,c=e.length;l<c;l+=2)o[l]=t+e[l]*r,o[l+1]=i+e[l+1]*s;return o}static _rescaleAndSwap(e,t,i,r,s,o){o||(o=new Float32Array(e.length));for(let l=0,c=e.length;l<c;l+=2)o[l]=t+e[l+1]*r,o[l+1]=i+e[l]*s;return o}static _translate(e,t,i,r){r||(r=new Float32Array(e.length));for(let s=0,o=e.length;s<o;s+=2)r[s]=t+e[s],r[s+1]=i+e[s+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,i,r,s){switch(s){case 90:return[1-t/i,e/r];case 180:return[1-e/i,1-t/r];case 270:return[t/i,1-e/r];default:return[e/i,t/r]}}static _normalizePagePoint(e,t,i){switch(i){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,i,r,s,o){return[(e+5*i)/6,(t+5*r)/6,(5*i+s)/6,(5*r+o)/6,(i+s)/2,(r+o)/2]}}O(Y,"PRECISION",1e-4);var oi,ar,su,ou,Hr,fe,zl,Wl,Ff,Of,au,lu,qo,jf,t1,n1,Rt,Sh,hb,pb,fb,gb,mb,yb;const as=class as{constructor({x:e,y:t},i,r,s,o,l=0){x(this,Rt);x(this,oi);x(this,ar,[]);x(this,su);x(this,ou);x(this,Hr,[]);x(this,fe,new Float32Array(18));x(this,zl);x(this,Wl);x(this,Ff);x(this,Of);x(this,au);x(this,lu);x(this,qo,[]);g(this,oi,i),g(this,lu,s*r),g(this,ou,o),a(this,fe).set([NaN,NaN,NaN,NaN,e,t],6),g(this,su,l),g(this,Of,a(as,jf)*r),g(this,Ff,a(as,n1)*r),g(this,au,r),a(this,qo).push(e,t)}isEmpty(){return isNaN(a(this,fe)[8])}add({x:e,y:t}){var N;g(this,zl,e),g(this,Wl,t);const[i,r,s,o]=a(this,oi);let[l,c,d,u]=a(this,fe).subarray(8,12);const h=e-d,p=t-u,m=Math.hypot(h,p);if(m<a(this,Ff))return!1;const C=m-a(this,Of),v=C/m,A=v*h,y=v*p;let S=l,w=c;l=d,c=u,d+=A,u+=y,(N=a(this,qo))==null||N.push(e,t);const k=-y/C,E=A/C,T=k*a(this,lu),_=E*a(this,lu);return a(this,fe).set(a(this,fe).subarray(2,8),0),a(this,fe).set([d+T,u+_],4),a(this,fe).set(a(this,fe).subarray(14,18),12),a(this,fe).set([d-T,u-_],16),isNaN(a(this,fe)[6])?(a(this,Hr).length===0&&(a(this,fe).set([l+T,c+_],2),a(this,Hr).push(NaN,NaN,NaN,NaN,(l+T-i)/s,(c+_-r)/o),a(this,fe).set([l-T,c-_],14),a(this,ar).push(NaN,NaN,NaN,NaN,(l-T-i)/s,(c-_-r)/o)),a(this,fe).set([S,w,l,c,d,u],6),!this.isEmpty()):(a(this,fe).set([S,w,l,c,d,u],6),Math.abs(Math.atan2(w-c,S-l)-Math.atan2(y,A))<Math.PI/2?([l,c,d,u]=a(this,fe).subarray(2,6),a(this,Hr).push(NaN,NaN,NaN,NaN,((l+d)/2-i)/s,((c+u)/2-r)/o),[l,c,S,w]=a(this,fe).subarray(14,18),a(this,ar).push(NaN,NaN,NaN,NaN,((S+l)/2-i)/s,((w+c)/2-r)/o),!0):([S,w,l,c,d,u]=a(this,fe).subarray(0,6),a(this,Hr).push(((S+5*l)/6-i)/s,((w+5*c)/6-r)/o,((5*l+d)/6-i)/s,((5*c+u)/6-r)/o,((l+d)/2-i)/s,((c+u)/2-r)/o),[d,u,l,c,S,w]=a(this,fe).subarray(12,18),a(this,ar).push(((S+5*l)/6-i)/s,((w+5*c)/6-r)/o,((5*l+d)/6-i)/s,((5*c+u)/6-r)/o,((l+d)/2-i)/s,((c+u)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=a(this,Hr),t=a(this,ar);if(isNaN(a(this,fe)[6])&&!this.isEmpty())return b(this,Rt,hb).call(this);const i=[];i.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);b(this,Rt,fb).call(this,i);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return b(this,Rt,pb).call(this,i),i.join(" ")}newFreeDrawOutline(e,t,i,r,s,o){return new vb(e,t,i,r,s,o)}getOutlines(){var h;const e=a(this,Hr),t=a(this,ar),i=a(this,fe),[r,s,o,l]=a(this,oi),c=new Float32Array((((h=a(this,qo))==null?void 0:h.length)??0)+2);for(let p=0,m=c.length-2;p<m;p+=2)c[p]=(a(this,qo)[p]-r)/o,c[p+1]=(a(this,qo)[p+1]-s)/l;if(c[c.length-2]=(a(this,zl)-r)/o,c[c.length-1]=(a(this,Wl)-s)/l,isNaN(i[6])&&!this.isEmpty())return b(this,Rt,gb).call(this,c);const d=new Float32Array(a(this,Hr).length+24+a(this,ar).length);let u=e.length;for(let p=0;p<u;p+=2){if(isNaN(e[p])){d[p]=d[p+1]=NaN;continue}d[p]=e[p],d[p+1]=e[p+1]}u=b(this,Rt,yb).call(this,d,u);for(let p=t.length-6;p>=6;p-=6)for(let m=0;m<6;m+=2){if(isNaN(t[p+m])){d[u]=d[u+1]=NaN,u+=2;continue}d[u]=t[p+m],d[u+1]=t[p+m+1],u+=2}return b(this,Rt,mb).call(this,d,u),this.newFreeDrawOutline(d,c,a(this,oi),a(this,au),a(this,su),a(this,ou))}};oi=new WeakMap,ar=new WeakMap,su=new WeakMap,ou=new WeakMap,Hr=new WeakMap,fe=new WeakMap,zl=new WeakMap,Wl=new WeakMap,Ff=new WeakMap,Of=new WeakMap,au=new WeakMap,lu=new WeakMap,qo=new WeakMap,jf=new WeakMap,t1=new WeakMap,n1=new WeakMap,Rt=new WeakSet,Sh=function(){const e=a(this,fe).subarray(4,6),t=a(this,fe).subarray(16,18),[i,r,s,o]=a(this,oi);return[(a(this,zl)+(e[0]-t[0])/2-i)/s,(a(this,Wl)+(e[1]-t[1])/2-r)/o,(a(this,zl)+(t[0]-e[0])/2-i)/s,(a(this,Wl)+(t[1]-e[1])/2-r)/o]},hb=function(){const[e,t,i,r]=a(this,oi),[s,o,l,c]=b(this,Rt,Sh).call(this);return`M${(a(this,fe)[2]-e)/i} ${(a(this,fe)[3]-t)/r} L${(a(this,fe)[4]-e)/i} ${(a(this,fe)[5]-t)/r} L${s} ${o} L${l} ${c} L${(a(this,fe)[16]-e)/i} ${(a(this,fe)[17]-t)/r} L${(a(this,fe)[14]-e)/i} ${(a(this,fe)[15]-t)/r} Z`},pb=function(e){const t=a(this,ar);e.push(`L${t[4]} ${t[5]} Z`)},fb=function(e){const[t,i,r,s]=a(this,oi),o=a(this,fe).subarray(4,6),l=a(this,fe).subarray(16,18),[c,d,u,h]=b(this,Rt,Sh).call(this);e.push(`L${(o[0]-t)/r} ${(o[1]-i)/s} L${c} ${d} L${u} ${h} L${(l[0]-t)/r} ${(l[1]-i)/s}`)},gb=function(e){const t=a(this,fe),[i,r,s,o]=a(this,oi),[l,c,d,u]=b(this,Rt,Sh).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-i)/s,(t[3]-r)/o,NaN,NaN,NaN,NaN,(t[4]-i)/s,(t[5]-r)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,d,u,NaN,NaN,NaN,NaN,(t[16]-i)/s,(t[17]-r)/o,NaN,NaN,NaN,NaN,(t[14]-i)/s,(t[15]-r)/o],0),this.newFreeDrawOutline(h,e,a(this,oi),a(this,au),a(this,su),a(this,ou))},mb=function(e,t){const i=a(this,ar);return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6},yb=function(e,t){const i=a(this,fe).subarray(4,6),r=a(this,fe).subarray(16,18),[s,o,l,c]=a(this,oi),[d,u,h,p]=b(this,Rt,Sh).call(this);return e.set([NaN,NaN,NaN,NaN,(i[0]-s)/l,(i[1]-o)/c,NaN,NaN,NaN,NaN,d,u,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(r[0]-s)/l,(r[1]-o)/c],t),t+=24},x(as,jf,8),x(as,t1,2),x(as,n1,a(as,jf)+a(as,t1));let O0=as;var cu,$l,Ls,zf,ai,Wf,gt,i1,xb;class vb extends Y{constructor(t,i,r,s,o,l){super();x(this,i1);x(this,cu);x(this,$l,new Float32Array(4));x(this,Ls);x(this,zf);x(this,ai);x(this,Wf);x(this,gt);g(this,gt,t),g(this,ai,i),g(this,cu,r),g(this,Wf,s),g(this,Ls,o),g(this,zf,l),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],b(this,i1,xb).call(this,l);const[c,d,u,h]=a(this,$l);for(let p=0,m=t.length;p<m;p+=2)t[p]=(t[p]-c)/u,t[p+1]=(t[p+1]-d)/h;for(let p=0,m=i.length;p<m;p+=2)i[p]=(i[p]-c)/u,i[p+1]=(i[p+1]-d)/h}toSVGPath(){const t=[`M${a(this,gt)[4]} ${a(this,gt)[5]}`];for(let i=6,r=a(this,gt).length;i<r;i+=6){if(isNaN(a(this,gt)[i])){t.push(`L${a(this,gt)[i+4]} ${a(this,gt)[i+5]}`);continue}t.push(`C${a(this,gt)[i]} ${a(this,gt)[i+1]} ${a(this,gt)[i+2]} ${a(this,gt)[i+3]} ${a(this,gt)[i+4]} ${a(this,gt)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,r,s],o){const l=r-t,c=s-i;let d,u;switch(o){case 0:d=Y._rescale(a(this,gt),t,s,l,-c),u=Y._rescale(a(this,ai),t,s,l,-c);break;case 90:d=Y._rescaleAndSwap(a(this,gt),t,i,l,c),u=Y._rescaleAndSwap(a(this,ai),t,i,l,c);break;case 180:d=Y._rescale(a(this,gt),r,i,-l,c),u=Y._rescale(a(this,ai),r,i,-l,c);break;case 270:d=Y._rescaleAndSwap(a(this,gt),r,s,-l,-c),u=Y._rescaleAndSwap(a(this,ai),r,s,-l,-c);break}return{outline:Array.from(d),points:[Array.from(u)]}}get box(){return a(this,$l)}newOutliner(t,i,r,s,o,l=0){return new O0(t,i,r,s,o,l)}getNewOutline(t,i){const[r,s,o,l]=a(this,$l),[c,d,u,h]=a(this,cu),p=o*u,m=l*h,C=r*u+c,v=s*h+d,A=this.newOutliner({x:a(this,ai)[0]*p+C,y:a(this,ai)[1]*m+v},a(this,cu),a(this,Wf),t,a(this,zf),i??a(this,Ls));for(let y=2;y<a(this,ai).length;y+=2)A.add({x:a(this,ai)[y]*p+C,y:a(this,ai)[y+1]*m+v});return A.getOutlines()}}cu=new WeakMap,$l=new WeakMap,Ls=new WeakMap,zf=new WeakMap,ai=new WeakMap,Wf=new WeakMap,gt=new WeakMap,i1=new WeakSet,xb=function(t){const i=a(this,gt);let r=i[4],s=i[5];const o=[r,s,r,s];let l=r,c=s,d=r,u=s;const h=t?Math.max:Math.min,p=new Float32Array(4);for(let C=6,v=i.length;C<v;C+=6){const A=i[C+4],y=i[C+5];isNaN(i[C])?(Z.pointBoundingBox(A,y,o),c>y?(l=A,c=y):c===y&&(l=h(l,A)),u<y?(d=A,u=y):u===y&&(d=h(d,A))):(p[0]=p[1]=1/0,p[2]=p[3]=-1/0,Z.bezierBoundingBox(r,s,...i.slice(C,C+6),p),Z.rectBoundingBox(p[0],p[1],p[2],p[3],o),c>p[1]?(l=p[0],c=p[1]):c===p[1]&&(l=h(l,p[0])),u<p[3]?(d=p[2],u=p[3]):u===p[3]&&(d=h(d,p[2]))),r=A,s=y}const m=a(this,$l);m[0]=o[0]-a(this,Ls),m[1]=o[1]-a(this,Ls),m[2]=o[2]-o[0]+2*a(this,Ls),m[3]=o[3]-o[1]+2*a(this,Ls),this.firstPoint=[l,c],this.lastPoint=[d,u]};var $f,Hf,Uf,Yo,lr,An,Cb,Nm,wb,Sb,jv;class Ov{constructor(e,t=0,i=0,r=!0){x(this,An);x(this,$f);x(this,Hf);x(this,Uf);x(this,Yo,[]);x(this,lr,[]);const s=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:v,y:A,width:y,height:S}of e){const w=Math.floor((v-t)/o)*o,k=Math.ceil((v+y+t)/o)*o,E=Math.floor((A-t)/o)*o,T=Math.ceil((A+S+t)/o)*o,_=[w,E,T,!0],P=[k,E,T,!1];a(this,Yo).push(_,P),Z.rectBoundingBox(w,E,k,T,s)}const l=s[2]-s[0]+2*i,c=s[3]-s[1]+2*i,d=s[0]-i,u=s[1]-i;let h=r?-1/0:1/0,p=1/0;const m=a(this,Yo).at(r?-1:-2),C=[m[0],m[2]];for(const v of a(this,Yo)){const[A,y,S,w]=v;!w&&r?y<p?(p=y,h=A):y===p&&(h=Math.max(h,A)):w&&!r&&(y<p?(p=y,h=A):y===p&&(h=Math.min(h,A))),v[0]=(A-d)/l,v[1]=(y-u)/c,v[2]=(S-u)/c}g(this,$f,new Float32Array([d,u,l,c])),g(this,Hf,[h,p]),g(this,Uf,C)}getOutlines(){a(this,Yo).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of a(this,Yo))t[3]?(e.push(...b(this,An,jv).call(this,t)),b(this,An,wb).call(this,t)):(b(this,An,Sb).call(this,t),e.push(...b(this,An,jv).call(this,t)));return b(this,An,Cb).call(this,e)}}$f=new WeakMap,Hf=new WeakMap,Uf=new WeakMap,Yo=new WeakMap,lr=new WeakMap,An=new WeakSet,Cb=function(e){const t=[],i=new Set;for(const o of e){const[l,c,d]=o;t.push([l,c,o],[l,d,o])}t.sort((o,l)=>o[1]-l[1]||o[0]-l[0]);for(let o=0,l=t.length;o<l;o+=2){const c=t[o][2],d=t[o+1][2];c.push(d),d.push(c),i.add(c),i.add(d)}const r=[];let s;for(;i.size>0;){const o=i.values().next().value;let[l,c,d,u,h]=o;i.delete(o);let p=l,m=c;for(s=[l,d],r.push(s);;){let C;if(i.has(u))C=u;else if(i.has(h))C=h;else break;i.delete(C),[l,c,d,u,h]=C,p!==l&&(s.push(p,m,l,m===c?c:d),p=l),m=m===c?d:c}s.push(p,m)}return new bP(r,a(this,$f),a(this,Hf),a(this,Uf))},Nm=function(e){const t=a(this,lr);let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,o=t[s][0];if(o===e)return s;o<e?i=s+1:r=s-1}return r+1},wb=function([,e,t]){const i=b(this,An,Nm).call(this,e);a(this,lr).splice(i,0,[e,t])},Sb=function([,e,t]){const i=b(this,An,Nm).call(this,e);for(let r=i;r<a(this,lr).length;r++){const[s,o]=a(this,lr)[r];if(s!==e)break;if(s===e&&o===t){a(this,lr).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,o]=a(this,lr)[r];if(s!==e)break;if(s===e&&o===t){a(this,lr).splice(r,1);return}}},jv=function(e){const[t,i,r]=e,s=[[t,i,r]],o=b(this,An,Nm).call(this,r);for(let l=0;l<o;l++){const[c,d]=a(this,lr)[l];for(let u=0,h=s.length;u<h;u++){const[,p,m]=s[u];if(!(d<=p||m<=c)){if(p>=c){if(m>d)s[u][1]=d;else{if(h===1)return[];s.splice(u,1),u--,h--}continue}s[u][2]=c,m>d&&s.push([t,d,m])}}}return s};var Gf,du;class bP extends Y{constructor(t,i,r,s){super();x(this,Gf);x(this,du);g(this,du,t),g(this,Gf,i),this.firstPoint=r,this.lastPoint=s}toSVGPath(){const t=[];for(const i of a(this,du)){let[r,s]=i;t.push(`M${r} ${s}`);for(let o=2;o<i.length;o+=2){const l=i[o],c=i[o+1];l===r?(t.push(`V${c}`),s=c):c===s&&(t.push(`H${l}`),r=l)}t.push("Z")}return t.join(" ")}serialize([t,i,r,s],o){const l=[],c=r-t,d=s-i;for(const u of a(this,du)){const h=new Array(u.length);for(let p=0;p<u.length;p+=2)h[p]=t+u[p]*c,h[p+1]=s-u[p+1]*d;l.push(h)}return l}get box(){return a(this,Gf)}get classNamesForOutlining(){return["highlightOutline"]}}Gf=new WeakMap,du=new WeakMap;class zv extends O0{newFreeDrawOutline(e,t,i,r,s,o){return new AP(e,t,i,r,s,o)}}class AP extends vb{newOutliner(e,t,i,r,s,o=0){return new zv(e,t,i,r,s,o)}}var uu,Vf,Fs,Hl,Xf,Ln,Kf,qf,Ul,li,ci,Ht,hu,pu,dn,fu,ji,Yf,ue,Wv,Bm,bb,Ab,Eb,$v,Ia,Hi,_c,kb,Lm,Fm,Tb,_b,Rb,Pb,Ib;const be=class be extends Ge{constructor(t){super({...t,name:"highlightEditor"});x(this,ue);x(this,uu,null);x(this,Vf,0);x(this,Fs);x(this,Hl,null);x(this,Xf,null);x(this,Ln,null);x(this,Kf,null);x(this,qf,0);x(this,Ul,null);x(this,li,null);x(this,ci,null);x(this,Ht,!1);x(this,hu,null);x(this,pu,null);x(this,dn,null);x(this,fu,"");x(this,ji);x(this,Yf,"");this.color=t.color||be._defaultColor,g(this,ji,t.thickness||be._defaultThickness),this.opacity=t.opacity||be._defaultOpacity,g(this,Fs,t.boxes||null),g(this,Yf,t.methodOfCreation||""),g(this,fu,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(g(this,Ht,!0),b(this,ue,Bm).call(this,t),b(this,ue,Ia).call(this)):a(this,Fs)&&(g(this,uu,t.anchorNode),g(this,Vf,t.anchorOffset),g(this,Kf,t.focusNode),g(this,qf,t.focusOffset),b(this,ue,Wv).call(this),b(this,ue,Ia).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=be.prototype;return oe(this,"_keyboardManager",new cg([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:a(this,Ht)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:a(this,ji),methodOfCreation:a(this,Yf)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var r;Ge.initialize(t,i),be._defaultColor||(be._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case ve.HIGHLIGHT_COLOR:be._defaultColor=i;break;case ve.HIGHLIGHT_THICKNESS:be._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return a(this,pu)}get commentButtonPosition(){return a(this,hu)}updateParams(t,i){switch(t){case ve.HIGHLIGHT_COLOR:b(this,ue,bb).call(this,i);break;case ve.HIGHLIGHT_THICKNESS:b(this,ue,Ab).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ve.HIGHLIGHT_COLOR,be._defaultColor],[ve.HIGHLIGHT_THICKNESS,be._defaultThickness]]}get propertiesToUpdate(){return[[ve.HIGHLIGHT_COLOR,this.color||be._defaultColor],[ve.HIGHLIGHT_THICKNESS,a(this,ji)||be._defaultThickness],[ve.HIGHLIGHT_FREE,a(this,Ht)]]}onUpdatedColor(){var t,i;(t=this.parent)==null||t.drawLayer.updateProperties(a(this,ci),{root:{fill:this.color,"fill-opacity":this.opacity}}),(i=a(this,Xf))==null||i.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",g(this,Xf,new B0({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(b(this,ue,Fm).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,b(this,ue,Fm).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){b(this,ue,$v).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(b(this,ue,Ia).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?b(this,ue,$v).call(this):t&&(b(this,ue,Ia).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var s,o,l;const{drawLayer:i}=this.parent;let r;a(this,Ht)?(t=(t-this.rotation+360)%360,r=b(s=be,Hi,_c).call(s,a(this,li).box,t)):r=b(o=be,Hi,_c).call(o,[this.x,this.y,this.width,this.height],t),i.updateProperties(a(this,ci),{bbox:r,root:{"data-main-rotation":t}}),i.updateProperties(a(this,dn),{bbox:b(l=be,Hi,_c).call(l,a(this,Ln).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();a(this,fu)&&(t.setAttribute("aria-label",a(this,fu)),t.setAttribute("role","mark")),a(this,Ht)?t.classList.add("free"):this.div.addEventListener("keydown",b(this,ue,kb).bind(this),{signal:this._uiManager._signal});const i=g(this,Ul,document.createElement("div"));return t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=a(this,Hl),this.setDims(),YS(this,a(this,Ul),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(a(this,dn),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(a(this,dn),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:b(this,ue,Lm).call(this,!0);break;case 1:case 3:b(this,ue,Lm).call(this,!1);break}}select(){var t;super.select(),a(this,dn)&&((t=this.parent)==null||t.drawLayer.updateProperties(a(this,dn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),a(this,dn)&&((t=this.parent)==null||t.drawLayer.updateProperties(a(this,dn),{rootClass:{selected:!1}}),a(this,Ht)||b(this,ue,Lm).call(this,!1))}get _mustFixPosition(){return!a(this,Ht)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(a(this,ci),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(a(this,dn),{rootClass:{hidden:!t}}))}static startHighlighting(t,i,{target:r,x:s,y:o}){const{x:l,y:c,width:d,height:u}=r.getBoundingClientRect(),h=new AbortController,p=t.combinedSignal(h),m=C=>{h.abort(),b(this,Hi,Pb).call(this,t,C)};window.addEventListener("blur",m,{signal:p}),window.addEventListener("pointerup",m,{signal:p}),window.addEventListener("pointerdown",pt,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",qi,{signal:p}),r.addEventListener("pointermove",b(this,Hi,Rb).bind(this,t),{signal:p}),this._freeHighlight=new zv({x:s,y:o},[l,c,d,u],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,i,r){var v,A,y,S;let s=null;if(t instanceof sb){const{data:{quadPoints:w,rect:k,rotation:E,id:T,color:_,opacity:P,popupRef:N,richText:B,contentsObj:D,creationDate:I,modificationDate:F},parent:{page:{pageNumber:M}}}=t;s=t={annotationType:le.HIGHLIGHT,color:Array.from(_),opacity:P,quadPoints:w,boxes:null,pageIndex:M-1,rect:k.slice(0),rotation:E,annotationElementId:T,id:T,deleted:!1,popupRef:N,richText:B,comment:(D==null?void 0:D.str)||null,creationDate:I,modificationDate:F}}else if(t instanceof _5){const{data:{inkLists:w,rect:k,rotation:E,id:T,color:_,borderStyle:{rawWidth:P},popupRef:N,richText:B,contentsObj:D,creationDate:I,modificationDate:F},parent:{page:{pageNumber:M}}}=t;s=t={annotationType:le.HIGHLIGHT,color:Array.from(_),thickness:P,inkLists:w,boxes:null,pageIndex:M-1,rect:k.slice(0),rotation:E,annotationElementId:T,id:T,deleted:!1,popupRef:N,richText:B,comment:(D==null?void 0:D.str)||null,creationDate:I,modificationDate:F}}const{color:o,quadPoints:l,inkLists:c,opacity:d}=t,u=await super.deserialize(t,i,r);u.color=Z.makeHexColor(...o),u.opacity=d||1,c&&g(u,ji,t.thickness),u._initialData=s,t.comment&&u.setCommentData(t);const[h,p]=u.pageDimensions,[m,C]=u.pageTranslation;if(l){const w=g(u,Fs,[]);for(let k=0;k<l.length;k+=8)w.push({x:(l[k]-m)/h,y:1-(l[k+1]-C)/p,width:(l[k+2]-l[k])/h,height:(l[k+1]-l[k+5])/p});b(v=u,ue,Wv).call(v),b(A=u,ue,Ia).call(A),u.rotate(u.rotation)}else if(c){g(u,Ht,!0);const w=c[0],k={x:w[0]-m,y:p-(w[1]-C)},E=new zv(k,[0,0,h,p],1,a(u,ji)/2,!0,.001);for(let P=0,N=w.length;P<N;P+=2)k.x=w[P]-m,k.y=p-(w[P+1]-C),E.add(k);const{id:T,clipPathId:_}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:E.toSVGPath()}},!0,!0);b(y=u,ue,Bm).call(y,{highlightOutlines:E.getOutlines(),highlightId:T,clipPathId:_}),b(S=u,ue,Ia).call(S),u.rotate(u.parentRotation)}return u}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const i=Ge._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(t);return Object.assign(r,{color:i,opacity:this.opacity,thickness:a(this,ji),quadPoints:b(this,ue,Tb).call(this),outlines:b(this,ue,_b).call(this,r.rect)}),this.addComment(r),this.annotationElementId&&!b(this,ue,Ib).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};uu=new WeakMap,Vf=new WeakMap,Fs=new WeakMap,Hl=new WeakMap,Xf=new WeakMap,Ln=new WeakMap,Kf=new WeakMap,qf=new WeakMap,Ul=new WeakMap,li=new WeakMap,ci=new WeakMap,Ht=new WeakMap,hu=new WeakMap,pu=new WeakMap,dn=new WeakMap,fu=new WeakMap,ji=new WeakMap,Yf=new WeakMap,ue=new WeakSet,Wv=function(){const t=new Ov(a(this,Fs),.001);g(this,li,t.getOutlines()),[this.x,this.y,this.width,this.height]=a(this,li).box;const i=new Ov(a(this,Fs),.0025,.001,this._uiManager.direction==="ltr");g(this,Ln,i.getOutlines());const{firstPoint:r}=a(this,li);g(this,hu,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]);const{lastPoint:s}=a(this,Ln);g(this,pu,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},Bm=function({highlightOutlines:t,highlightId:i,clipPathId:r}){var p,m;if(g(this,li,t),g(this,Ln,t.getNewOutline(a(this,ji)/2+1.5,.0025)),i>=0)g(this,ci,i),g(this,Hl,r),this.parent.drawLayer.finalizeDraw(i,{bbox:t.box,path:{d:t.toSVGPath()}}),g(this,dn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:a(this,Ln).box,path:{d:a(this,Ln).toSVGPath()}},!0));else if(this.parent){const C=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(a(this,ci),{bbox:b(p=be,Hi,_c).call(p,a(this,li).box,(C-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(a(this,dn),{bbox:b(m=be,Hi,_c).call(m,a(this,Ln).box,C),path:{d:a(this,Ln).toSVGPath()}})}const[o,l,c,d]=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=c,this.height=d;break;case 90:{const[C,v]=this.parentDimensions;this.x=l,this.y=1-o,this.width=c*v/C,this.height=d*C/v;break}case 180:this.x=1-o,this.y=1-l,this.width=c,this.height=d;break;case 270:{const[C,v]=this.parentDimensions;this.x=1-l,this.y=o,this.width=c*v/C,this.height=d*C/v;break}}const{firstPoint:u}=t;g(this,hu,[(u[0]-o)/c,(u[1]-l)/d]);const{lastPoint:h}=a(this,Ln);g(this,pu,[(h[0]-o)/c,(h[1]-l)/d])},bb=function(t){const i=(o,l)=>{this.color=o,this.opacity=l,this.onUpdatedColor()},r=this.color,s=this.opacity;this.addCommands({cmd:i.bind(this,t,be._defaultOpacity),undo:i.bind(this,r,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ve.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},Ab=function(t){const i=a(this,ji),r=s=>{g(this,ji,s),b(this,ue,Eb).call(this,s)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ve.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},Eb=function(t){a(this,Ht)&&(b(this,ue,Bm).call(this,{highlightOutlines:a(this,li).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())},$v=function(){a(this,ci)===null||!this.parent||(this.parent.drawLayer.remove(a(this,ci)),g(this,ci,null),this.parent.drawLayer.remove(a(this,dn)),g(this,dn,null))},Ia=function(t=this.parent){a(this,ci)===null&&({id:St(this,ci)._,clipPathId:St(this,Hl)._}=t.drawLayer.draw({bbox:a(this,li).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:a(this,Ht)},path:{d:a(this,li).toSVGPath()}},!1,!0),g(this,dn,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:a(this,Ht)},bbox:a(this,Ln).box,path:{d:a(this,Ln).toSVGPath()}},a(this,Ht))),a(this,Ul)&&(a(this,Ul).style.clipPath=a(this,Hl)))},Hi=new WeakSet,_c=function([t,i,r,s],o){switch(o){case 90:return[1-i-s,t,s,r];case 180:return[1-t-r,1-i-s,r,s];case 270:return[i,1-t-r,s,r]}return[t,i,r,s]},kb=function(t){be._keyboardManager.exec(this,t)},Lm=function(t){if(!a(this,uu))return;const i=window.getSelection();t?i.setPosition(a(this,uu),a(this,Vf)):i.setPosition(a(this,Kf),a(this,qf))},Fm=function(){return a(this,Ht)?this.rotation:0},Tb=function(){if(a(this,Ht))return null;const[t,i]=this.pageDimensions,[r,s]=this.pageTranslation,o=a(this,Fs),l=new Float32Array(o.length*8);let c=0;for(const{x:d,y:u,width:h,height:p}of o){const m=d*t+r,C=(1-u)*i+s;l[c]=l[c+4]=m,l[c+1]=l[c+3]=C,l[c+2]=l[c+6]=m+h*t,l[c+5]=l[c+7]=C-p*i,c+=8}return l},_b=function(t){return a(this,li).serialize(t,b(this,ue,Fm).call(this))},Rb=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},Pb=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Ib=function(t){const{color:i}=this._initialData;return this.hasEditedComment||t.color.some((r,s)=>r!==i[s])},x(be,Hi),O(be,"_defaultColor",null),O(be,"_defaultOpacity",1),O(be,"_defaultThickness",12),O(be,"_type","highlight"),O(be,"_editorType",le.HIGHLIGHT),O(be,"_freeHighlightId",-1),O(be,"_freeHighlight",null),O(be,"_freeHighlightClipId","");let j0=be;var Gl;class Db{constructor(){x(this,Gl,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,i]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,i)}updateSVGProperty(e,t){a(this,Gl)[e]=t}toSVGProperties(){const e=a(this,Gl);return g(this,Gl,Object.create(null)),{root:e}}reset(){g(this,Gl,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){je("Not implemented")}}Gl=new WeakMap;var di,gu,Dt,Vl,Xl,we,Hv,Uv,Gv,bh,Mb,Om,Ah,Rc;const ye=class ye extends Ge{constructor(t){super(t);x(this,we);x(this,di,null);x(this,gu);O(this,"_colorPicker",null);O(this,"_drawId",null);g(this,gu,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(b(this,we,Hv).call(this,t),b(this,we,bh).call(this))}static _mergeSVGProperties(t,i){const r=new Set(Object.keys(t));for(const[s,o]of Object.entries(i))r.has(s)?Object.assign(t[s],o):t[s]=o;return t}static getDefaultDrawingOptions(t){je("Not implemented")}static get typesMap(){je("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,i){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,i),this._currentParent&&(a(ye,Dt).updateProperty(r,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,i){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,i)}static get defaultPropertiesToUpdate(){const t=[],i=this._defaultDrawingOptions;for(const[r,s]of this.typesMap)t.push([r,i[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:i}=this;for(const[r,s]of this.constructor.typesMap)t.push([r,i[s]]);return t}_updateProperty(t,i,r){const s=this._drawingOptions,o=s[i],l=c=>{var u;s.updateProperty(i,c);const d=a(this,di).updateProperty(i,c);d&&b(this,we,Ah).call(this,d),(u=this.parent)==null||u.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,r),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,ye._mergeSVGProperties(a(this,di).getPathResizingSVGProperties(b(this,we,Om).call(this)),{bbox:b(this,we,Rc).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,ye._mergeSVGProperties(a(this,di).getPathResizedSVGProperties(b(this,we,Om).call(this)),{bbox:b(this,we,Rc).call(this)}))}_onTranslating(t,i){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:b(this,we,Rc).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,ye._mergeSVGProperties(a(this,di).getPathTranslatedSVGProperties(b(this,we,Om).call(this),this.parentDimensions),{bbox:b(this,we,Rc).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,a(this,gu)&&(g(this,gu,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){b(this,we,Gv).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(b(this,we,bh).call(this),b(this,we,Ah).call(this,a(this,di).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),b(this,we,Gv).call(this)):t&&(this._uiManager.addShouldRescale(this),b(this,we,bh).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,ye._mergeSVGProperties({bbox:b(this,we,Rc).call(this)},a(this,di).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&b(this,we,Ah).call(this,a(this,di).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,i;this._isCopy&&(t=this.x,i=this.y);const r=super.render();r.classList.add("draw");const s=document.createElement("div");return r.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,i),r}static createDrawerInstance(t,i,r,s,o){je("Not implemented")}static startDrawing(t,i,r,s){var A;const{target:o,offsetX:l,offsetY:c,pointerId:d,pointerType:u}=s;if(sn.isInitializedAndDifferentPointerType(u))return;const{viewport:{rotation:h}}=t,{width:p,height:m}=o.getBoundingClientRect(),C=g(ye,Vl,new AbortController),v=t.combinedSignal(C);if(sn.setPointer(u,d),window.addEventListener("pointerup",y=>{sn.isSamePointerIdOrRemove(y.pointerId)&&this._endDraw(y)},{signal:v}),window.addEventListener("pointercancel",y=>{sn.isSamePointerIdOrRemove(y.pointerId)&&this._currentParent.endDrawingSession()},{signal:v}),window.addEventListener("pointerdown",y=>{sn.isSamePointerType(y.pointerType)&&(sn.initializeAndAddPointerId(y.pointerId),a(ye,Dt).isCancellable()&&(a(ye,Dt).removeLastElement(),a(ye,Dt).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",qi,{signal:v}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:v}),o.addEventListener("touchmove",y=>{sn.isSameTimeStamp(y.timeStamp)&&pt(y)},{signal:v}),t.toggleDrawing(),(A=i._editorUndoBar)==null||A.hide(),a(ye,Dt)){t.drawLayer.updateProperties(this._currentDrawId,a(ye,Dt).startNew(l,c,p,m,h));return}i.updateUIForDefaultProperties(this),g(ye,Dt,this.createDrawerInstance(l,c,p,m,h)),g(ye,Xl,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(a(ye,Xl).toSVGProperties(),a(ye,Dt).defaultSVGProperties),!0,!1)}static _drawMove(t){if(sn.isSameTimeStamp(t.timeStamp),!a(ye,Dt))return;const{offsetX:i,offsetY:r,pointerId:s}=t;if(sn.isSamePointerId(s)){if(sn.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,a(ye,Dt).add(i,r)),sn.setTimeStamp(t.timeStamp),pt(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,g(ye,Dt,null),g(ye,Xl,null),sn.clearPointerType(),sn.clearTimeStamp()),a(ye,Vl)&&(a(ye,Vl).abort(),g(ye,Vl,null),sn.clearPointerIds())}static _endDraw(t){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,a(ye,Dt).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=a(ye,Dt),s=this._currentDrawId,o=r.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(s,r.setLastElement(o))},undo:()=>{i.drawLayer.updateProperties(s,r.removeLastElement())},mustExec:!1,type:ve.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(ve.DRAW_STEP),!a(ye,Dt).isEmpty()){const{pageDimensions:[r,s],scale:o}=i,l=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:a(ye,Dt).getOutlines(r*o,s*o,o,this._INNER_MARGIN),drawingOptions:a(ye,Xl),mustBeCommitted:!t});return this._cleanup(!0),l}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,i,r,s,o,l){je("Not implemented")}static async deserialize(t,i,r){var h,p;const{rawDims:{pageWidth:s,pageHeight:o,pageX:l,pageY:c}}=i.viewport,d=this.deserializeDraw(l,c,s,o,this._INNER_MARGIN,t),u=await super.deserialize(t,i,r);return u.createDrawingOptions(t),b(h=u,we,Hv).call(h,{drawOutlines:d}),b(p=u,we,bh).call(p),u.onScaleChanging(),u.rotate(),u}serializeDraw(t){const[i,r]=this.pageTranslation,[s,o]=this.pageDimensions;return a(this,di).serialize([i,r,s,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};di=new WeakMap,gu=new WeakMap,Dt=new WeakMap,Vl=new WeakMap,Xl=new WeakMap,we=new WeakSet,Hv=function({drawOutlines:t,drawId:i,drawingOptions:r}){g(this,di,t),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,t.defaultProperties)):this._drawId=b(this,we,Uv).call(this,t,this.parent),b(this,we,Ah).call(this,t.box)},Uv=function(t,i){const{id:r}=i.drawLayer.draw(ye._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r},Gv=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},bh=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=b(this,we,Uv).call(this,a(this,di),t)}},Mb=function([t,i,r,s]){const{parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[i,1-t,r*(l/o),s*(o/l)];case 180:return[1-t,1-i,r,s];case 270:return[1-i,t,r*(l/o),s*(o/l)];default:return[t,i,r,s]}},Om=function(){const{x:t,y:i,width:r,height:s,parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[1-i,t,r*(o/l),s*(l/o)];case 180:return[1-t,1-i,r,s];case 270:return[i,1-t,r*(o/l),s*(l/o)];default:return[t,i,r,s]}},Ah=function(t){[this.x,this.y,this.width,this.height]=b(this,we,Mb).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Rc=function(){const{x:t,y:i,width:r,height:s,rotation:o,parentRotation:l,parentDimensions:[c,d]}=this;switch((o*4+l)/90){case 1:return[1-i-s,t,s,r];case 2:return[1-t-r,1-i-s,r,s];case 3:return[i,1-t-r,s,r];case 4:return[t,i-r*(c/d),s*(d/c),r*(c/d)];case 5:return[1-i,t,r*(c/d),s*(d/c)];case 6:return[1-t-s*(d/c),1-i,s*(d/c),r*(c/d)];case 7:return[i-r*(c/d),1-t-s*(d/c),r*(c/d),s*(d/c)];case 8:return[t-r,i-s,r,s];case 9:return[1-i,t-r,s,r];case 10:return[1-t,1-i,r,s];case 11:return[i-s,1-t,s,r];case 12:return[t-s*(d/c),i,s*(d/c),r*(c/d)];case 13:return[1-i-r*(c/d),t-s*(d/c),r*(c/d),s*(d/c)];case 14:return[1-t,1-i-r*(c/d),s*(d/c),r*(c/d)];case 15:return[i,1-t,r*(c/d),s*(d/c)];default:return[t,i,r,s]}},O(ye,"_currentDrawId",-1),O(ye,"_currentParent",null),x(ye,Dt,null),x(ye,Vl,null),x(ye,Xl,null),O(ye,"_INNER_MARGIN",3);let z0=ye;var Ur,Mt,Nt,Kl,mu,gn,Ut,zi,ql,Yl,Ql,yu,jm;class EP{constructor(e,t,i,r,s,o){x(this,yu);x(this,Ur,new Float64Array(6));x(this,Mt);x(this,Nt);x(this,Kl);x(this,mu);x(this,gn);x(this,Ut,"");x(this,zi,0);x(this,ql,new ug);x(this,Yl);x(this,Ql);g(this,Yl,i),g(this,Ql,r),g(this,Kl,s),g(this,mu,o),[e,t]=b(this,yu,jm).call(this,e,t);const l=g(this,Mt,[NaN,NaN,NaN,NaN,e,t]);g(this,gn,[e,t]),g(this,Nt,[{line:l,points:a(this,gn)}]),a(this,Ur).set(l,0)}updateProperty(e,t){e==="stroke-width"&&g(this,mu,t)}isEmpty(){return!a(this,Nt)||a(this,Nt).length===0}isCancellable(){return a(this,gn).length<=10}add(e,t){[e,t]=b(this,yu,jm).call(this,e,t);const[i,r,s,o]=a(this,Ur).subarray(2,6),l=e-s,c=t-o;return Math.hypot(a(this,Yl)*l,a(this,Ql)*c)<=2?null:(a(this,gn).push(e,t),isNaN(i)?(a(this,Ur).set([s,o,e,t],2),a(this,Mt).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(a(this,Ur)[0])&&a(this,Mt).splice(6,6),a(this,Ur).set([i,r,s,o,e,t],0),a(this,Mt).push(...Y.createBezierPoints(i,r,s,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const i=this.add(e,t);return i||(a(this,gn).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,i,r,s){g(this,Yl,i),g(this,Ql,r),g(this,Kl,s),[e,t]=b(this,yu,jm).call(this,e,t);const o=g(this,Mt,[NaN,NaN,NaN,NaN,e,t]);g(this,gn,[e,t]);const l=a(this,Nt).at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),a(this,Nt).push({line:o,points:a(this,gn)}),a(this,Ur).set(o,0),g(this,zi,0),this.toSVGPath(),null}getLastElement(){return a(this,Nt).at(-1)}setLastElement(e){return a(this,Nt)?(a(this,Nt).push(e),g(this,Mt,e.line),g(this,gn,e.points),g(this,zi,0),{path:{d:this.toSVGPath()}}):a(this,ql).setLastElement(e)}removeLastElement(){if(!a(this,Nt))return a(this,ql).removeLastElement();a(this,Nt).pop(),g(this,Ut,"");for(let e=0,t=a(this,Nt).length;e<t;e++){const{line:i,points:r}=a(this,Nt)[e];g(this,Mt,i),g(this,gn,r),g(this,zi,0),this.toSVGPath()}return{path:{d:a(this,Ut)}}}toSVGPath(){const e=Y.svgRound(a(this,Mt)[4]),t=Y.svgRound(a(this,Mt)[5]);if(a(this,gn).length===2)return g(this,Ut,`${a(this,Ut)} M ${e} ${t} Z`),a(this,Ut);if(a(this,gn).length<=6){const r=a(this,Ut).lastIndexOf("M");g(this,Ut,`${a(this,Ut).slice(0,r)} M ${e} ${t}`),g(this,zi,6)}if(a(this,gn).length===4){const r=Y.svgRound(a(this,Mt)[10]),s=Y.svgRound(a(this,Mt)[11]);return g(this,Ut,`${a(this,Ut)} L ${r} ${s}`),g(this,zi,12),a(this,Ut)}const i=[];a(this,zi)===0&&(i.push(`M ${e} ${t}`),g(this,zi,6));for(let r=a(this,zi),s=a(this,Mt).length;r<s;r+=6){const[o,l,c,d,u,h]=a(this,Mt).slice(r,r+6).map(Y.svgRound);i.push(`C${o} ${l} ${c} ${d} ${u} ${h}`)}return g(this,Ut,a(this,Ut)+i.join(" ")),g(this,zi,a(this,Mt).length),a(this,Ut)}getOutlines(e,t,i,r){const s=a(this,Nt).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),a(this,ql).build(a(this,Nt),e,t,i,a(this,Kl),a(this,mu),r),g(this,Ur,null),g(this,Mt,null),g(this,Nt,null),g(this,Ut,null),a(this,ql)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Ur=new WeakMap,Mt=new WeakMap,Nt=new WeakMap,Kl=new WeakMap,mu=new WeakMap,gn=new WeakMap,Ut=new WeakMap,zi=new WeakMap,ql=new WeakMap,Yl=new WeakMap,Ql=new WeakMap,yu=new WeakSet,jm=function(e,t){return Y._normalizePoint(e,t,a(this,Yl),a(this,Ql),a(this,Kl))};var mn,Qf,Zf,ui,Gr,Vr,vu,xu,Zl,Xt,rs,Nb,Bb,Lb;class ug extends Y{constructor(){super(...arguments);x(this,Xt);x(this,mn);x(this,Qf,0);x(this,Zf);x(this,ui);x(this,Gr);x(this,Vr);x(this,vu);x(this,xu);x(this,Zl)}build(t,i,r,s,o,l,c){g(this,Gr,i),g(this,Vr,r),g(this,vu,s),g(this,xu,o),g(this,Zl,l),g(this,Zf,c??0),g(this,ui,t),b(this,Xt,Bb).call(this)}get thickness(){return a(this,Zl)}setLastElement(t){return a(this,ui).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return a(this,ui).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:i}of a(this,ui)){if(t.push(`M${Y.svgRound(i[4])} ${Y.svgRound(i[5])}`),i.length===6){t.push("Z");continue}if(i.length===12&&isNaN(i[6])){t.push(`L${Y.svgRound(i[10])} ${Y.svgRound(i[11])}`);continue}for(let r=6,s=i.length;r<s;r+=6){const[o,l,c,d,u,h]=i.subarray(r,r+6).map(Y.svgRound);t.push(`C${o} ${l} ${c} ${d} ${u} ${h}`)}}return t.join("")}serialize([t,i,r,s],o){const l=[],c=[],[d,u,h,p]=b(this,Xt,Nb).call(this);let m,C,v,A,y,S,w,k,E;switch(a(this,xu)){case 0:E=Y._rescale,m=t,C=i+s,v=r,A=-s,y=t+d*r,S=i+(1-u-p)*s,w=t+(d+h)*r,k=i+(1-u)*s;break;case 90:E=Y._rescaleAndSwap,m=t,C=i,v=r,A=s,y=t+u*r,S=i+d*s,w=t+(u+p)*r,k=i+(d+h)*s;break;case 180:E=Y._rescale,m=t+r,C=i,v=-r,A=s,y=t+(1-d-h)*r,S=i+u*s,w=t+(1-d)*r,k=i+(u+p)*s;break;case 270:E=Y._rescaleAndSwap,m=t+r,C=i+s,v=-r,A=-s,y=t+(1-u-p)*r,S=i+(1-d-h)*s,w=t+(1-u)*r,k=i+(1-d)*s;break}for(const{line:T,points:_}of a(this,ui))l.push(E(T,m,C,v,A,o?new Array(T.length):null)),c.push(E(_,m,C,v,A,o?new Array(_.length):null));return{lines:l,points:c,rect:[y,S,w,k]}}static deserialize(t,i,r,s,o,{paths:{lines:l,points:c},rotation:d,thickness:u}){const h=[];let p,m,C,v,A;switch(d){case 0:A=Y._rescale,p=-t/r,m=i/s+1,C=1/r,v=-1/s;break;case 90:A=Y._rescaleAndSwap,p=-i/s,m=-t/r,C=1/s,v=1/r;break;case 180:A=Y._rescale,p=t/r+1,m=-i/s,C=-1/r,v=1/s;break;case 270:A=Y._rescaleAndSwap,p=i/s+1,m=t/r+1,C=-1/s,v=-1/r;break}if(!l){l=[];for(const S of c){const w=S.length;if(w===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1]]));continue}if(w===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1],NaN,NaN,NaN,NaN,S[2],S[3]]));continue}const k=new Float32Array(3*(w-2));l.push(k);let[E,T,_,P]=S.subarray(0,4);k.set([NaN,NaN,NaN,NaN,E,T],0);for(let N=4;N<w;N+=2){const B=S[N],D=S[N+1];k.set(Y.createBezierPoints(E,T,_,P,B,D),(N-2)*3),[E,T,_,P]=[_,P,B,D]}}}for(let S=0,w=l.length;S<w;S++)h.push({line:A(l[S].map(k=>k??NaN),p,m,C,v),points:A(c[S].map(k=>k??NaN),p,m,C,v)});const y=new this.prototype.constructor;return y.build(h,r,s,1,d,u,o),y}get box(){return a(this,mn)}updateProperty(t,i){return t==="stroke-width"?b(this,Xt,Lb).call(this,i):null}updateParentDimensions([t,i],r){const[s,o]=b(this,Xt,rs).call(this);g(this,Gr,t),g(this,Vr,i),g(this,vu,r);const[l,c]=b(this,Xt,rs).call(this),d=l-s,u=c-o,h=a(this,mn);return h[0]-=d,h[1]-=u,h[2]+=2*d,h[3]+=2*u,h}updateRotation(t){return g(this,Qf,t),{path:{transform:this.rotationTransform}}}get viewBox(){return a(this,mn).map(Y.svgRound).join(" ")}get defaultProperties(){const[t,i]=a(this,mn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Y.svgRound(t)} ${Y.svgRound(i)}`}}}get rotationTransform(){const[,,t,i]=a(this,mn);let r=0,s=0,o=0,l=0,c=0,d=0;switch(a(this,Qf)){case 90:s=i/t,o=-t/i,c=t;break;case 180:r=-1,l=-1,c=t,d=i;break;case 270:s=-i/t,o=t/i,d=i;break;default:return""}return`matrix(${r} ${s} ${o} ${l} ${Y.svgRound(c)} ${Y.svgRound(d)})`}getPathResizingSVGProperties([t,i,r,s]){const[o,l]=b(this,Xt,rs).call(this),[c,d,u,h]=a(this,mn);if(Math.abs(u-o)<=Y.PRECISION||Math.abs(h-l)<=Y.PRECISION){const A=t+r/2-(c+u/2),y=i+s/2-(d+h/2);return{path:{"transform-origin":`${Y.svgRound(t)} ${Y.svgRound(i)}`,transform:`${this.rotationTransform} translate(${A} ${y})`}}}const p=(r-2*o)/(u-2*o),m=(s-2*l)/(h-2*l),C=u/r,v=h/s;return{path:{"transform-origin":`${Y.svgRound(c)} ${Y.svgRound(d)}`,transform:`${this.rotationTransform} scale(${C} ${v}) translate(${Y.svgRound(o)} ${Y.svgRound(l)}) scale(${p} ${m}) translate(${Y.svgRound(-o)} ${Y.svgRound(-l)})`}}}getPathResizedSVGProperties([t,i,r,s]){const[o,l]=b(this,Xt,rs).call(this),c=a(this,mn),[d,u,h,p]=c;if(c[0]=t,c[1]=i,c[2]=r,c[3]=s,Math.abs(h-o)<=Y.PRECISION||Math.abs(p-l)<=Y.PRECISION){const y=t+r/2-(d+h/2),S=i+s/2-(u+p/2);for(const{line:w,points:k}of a(this,ui))Y._translate(w,y,S,w),Y._translate(k,y,S,k);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Y.svgRound(t)} ${Y.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(r-2*o)/(h-2*o),C=(s-2*l)/(p-2*l),v=-m*(d+o)+t+o,A=-C*(u+l)+i+l;if(m!==1||C!==1||v!==0||A!==0)for(const{line:y,points:S}of a(this,ui))Y._rescale(y,v,A,m,C,y),Y._rescale(S,v,A,m,C,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Y.svgRound(t)} ${Y.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,i],r){const[s,o]=r,l=a(this,mn),c=t-l[0],d=i-l[1];if(a(this,Gr)===s&&a(this,Vr)===o)for(const{line:u,points:h}of a(this,ui))Y._translate(u,c,d,u),Y._translate(h,c,d,h);else{const u=a(this,Gr)/s,h=a(this,Vr)/o;g(this,Gr,s),g(this,Vr,o);for(const{line:p,points:m}of a(this,ui))Y._rescale(p,c,d,u,h,p),Y._rescale(m,c,d,u,h,m);l[2]*=u,l[3]*=h}return l[0]=t,l[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Y.svgRound(t)} ${Y.svgRound(i)}`}}}get defaultSVGProperties(){const t=a(this,mn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Y.svgRound(t[0])} ${Y.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}mn=new WeakMap,Qf=new WeakMap,Zf=new WeakMap,ui=new WeakMap,Gr=new WeakMap,Vr=new WeakMap,vu=new WeakMap,xu=new WeakMap,Zl=new WeakMap,Xt=new WeakSet,rs=function(t=a(this,Zl)){const i=a(this,Zf)+t/2*a(this,vu);return a(this,xu)%180===0?[i/a(this,Gr),i/a(this,Vr)]:[i/a(this,Vr),i/a(this,Gr)]},Nb=function(){const[t,i,r,s]=a(this,mn),[o,l]=b(this,Xt,rs).call(this,0);return[t+o,i+l,r-2*o,s-2*l]},Bb=function(){const t=g(this,mn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of a(this,ui)){if(s.length<=12){for(let c=4,d=s.length;c<d;c+=6)Z.pointBoundingBox(s[c],s[c+1],t);continue}let o=s[4],l=s[5];for(let c=6,d=s.length;c<d;c+=6){const[u,h,p,m,C,v]=s.subarray(c,c+6);Z.bezierBoundingBox(o,l,u,h,p,m,C,v,t),o=C,l=v}}const[i,r]=b(this,Xt,rs).call(this);t[0]=xn(t[0]-i,0,1),t[1]=xn(t[1]-r,0,1),t[2]=xn(t[2]+i,0,1),t[3]=xn(t[3]+r,0,1),t[2]-=t[0],t[3]-=t[1]},Lb=function(t){const[i,r]=b(this,Xt,rs).call(this);g(this,Zl,t);const[s,o]=b(this,Xt,rs).call(this),[l,c]=[s-i,o-r],d=a(this,mn);return d[0]-=l,d[1]-=c,d[2]+=2*l,d[3]+=2*c,d};class M1 extends Db{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Ge._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new M1(this._viewParameters);return e.updateAll(this),e}}var r1,Fb;const Xc=class Xc extends z0{constructor(t){super({...t,name:"inkEditor"});x(this,r1);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,i){Ge.initialize(t,i),this._defaultDrawingOptions=new M1(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return oe(this,"typesMap",new Map([[ve.INK_THICKNESS,"stroke-width"],[ve.INK_COLOR,"stroke"],[ve.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,i,r,s,o){return new EP(t,i,r,s,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,i,r,s,o,l){return ug.deserialize(t,i,r,s,o,l)}static async deserialize(t,i,r){let s=null;if(t instanceof _5){const{data:{inkLists:l,rect:c,rotation:d,id:u,color:h,opacity:p,borderStyle:{rawWidth:m},popupRef:C,richText:v,contentsObj:A,creationDate:y,modificationDate:S},parent:{page:{pageNumber:w}}}=t;s=t={annotationType:le.INK,color:Array.from(h),thickness:m,opacity:p,paths:{points:l},boxes:null,pageIndex:w-1,rect:c.slice(0),rotation:d,annotationElementId:u,id:u,deleted:!1,popupRef:C,richText:v,comment:(A==null?void 0:A.str)||null,creationDate:y,modificationDate:S}}const o=await super.deserialize(t,i,r);return o._initialData=s,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new L0(this)),[["colorPicker",this._colorPicker]]}get colorType(){return ve.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:i,parent:r}=this;i.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:i,opacity:r}){this._drawingOptions=Xc.getDefaultDrawingOptions({stroke:Z.makeHexColor(...t),"stroke-width":i,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:r}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":o,"stroke-width":l}}=this,c=Object.assign(super.serialize(t),{color:Ge._colorManager.convert(s),opacity:o,thickness:l,paths:{lines:i,points:r}});return this.addComment(c),t?(c.isCopy=!0,c):this.annotationElementId&&!b(this,r1,Fb).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:i,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:i,popup:this.comment}),null}};r1=new WeakSet,Fb=function(t){const{color:i,thickness:r,opacity:s,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,c)=>l!==i[c])||t.thickness!==r||t.opacity!==s||t.pageIndex!==o},O(Xc,"_type","ink"),O(Xc,"_editorType",le.INK),O(Xc,"_defaultDrawingOptions",null);let Vv=Xc;class Xv extends ug{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const $g=8,Qu=3;var Jl,Ee,Kv,cr,Ob,jb,qv,zm,zb,Wb,$b,Yv,Qv,Hb;class Hs{static extractContoursFromText(e,{fontFamily:t,fontStyle:i,fontWeight:r},s,o,l,c){let d=new OffscreenCanvas(1,1),u=d.getContext("2d",{alpha:!1});const h=200,p=u.font=`${i} ${r} ${h}px ${t}`,{actualBoundingBoxLeft:m,actualBoundingBoxRight:C,actualBoundingBoxAscent:v,actualBoundingBoxDescent:A,fontBoundingBoxAscent:y,fontBoundingBoxDescent:S,width:w}=u.measureText(e),k=1.5,E=Math.ceil(Math.max(Math.abs(m)+Math.abs(C)||0,w)*k),T=Math.ceil(Math.max(Math.abs(v)+Math.abs(A)||h,Math.abs(y)+Math.abs(S)||h)*k);d=new OffscreenCanvas(E,T),u=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=p,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,E,T),u.fillStyle="black",u.fillText(e,E*(k-1)/2,T*(3-k)/2);const _=b(this,Ee,Yv).call(this,u.getImageData(0,0,E,T).data),P=b(this,Ee,$b).call(this,_),N=b(this,Ee,Qv).call(this,P),B=b(this,Ee,qv).call(this,_,E,T,N);return this.processDrawnLines({lines:{curves:B,width:E,height:T},pageWidth:s,pageHeight:o,rotation:l,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,t,i,r,s){const[o,l,c]=b(this,Ee,Hb).call(this,e),[d,u]=b(this,Ee,Wb).call(this,o,l,c,Math.hypot(l,c)*a(this,Jl).sigmaSFactor,a(this,Jl).sigmaR,a(this,Jl).kernelSize),h=b(this,Ee,Qv).call(this,u),p=b(this,Ee,qv).call(this,d,l,c,h);return this.processDrawnLines({lines:{curves:p,width:l,height:c},pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:o,areContours:l}){r%180!==0&&([t,i]=[i,t]);const{curves:c,width:d,height:u}=e,h=e.thickness??0,p=[],m=Math.min(t/d,i/u),C=m/t,v=m/i,A=[];for(const{points:S}of c){const w=o?b(this,Ee,zb).call(this,S):S;if(!w)continue;A.push(w);const k=w.length,E=new Float32Array(k),T=new Float32Array(3*(k===2?2:k-2));if(p.push({line:T,points:E}),k===2){E[0]=w[0]*C,E[1]=w[1]*v,T.set([NaN,NaN,NaN,NaN,E[0],E[1]],0);continue}let[_,P,N,B]=w;_*=C,P*=v,N*=C,B*=v,E.set([_,P,N,B],0),T.set([NaN,NaN,NaN,NaN,_,P],0);for(let D=4;D<k;D+=2){const I=E[D]=w[D]*C,F=E[D+1]=w[D+1]*v;T.set(Y.createBezierPoints(_,P,N,B,I,F),(D-2)*3),[_,P,N,B]=[N,B,I,F]}}if(p.length===0)return null;const y=l?new Xv:new ug;return y.build(p,t,i,1,r,l?0:h,s),{outline:y,newCurves:A,areContours:l,thickness:h,width:d,height:u}}static async compressSignature({outlines:e,areContours:t,thickness:i,width:r,height:s}){let o=1/0,l=-1/0,c=0;for(const w of e){c+=w.length;for(let k=2,E=w.length;k<E;k++){const T=w[k]-w[k-2];o=Math.min(o,T),l=Math.max(l,T)}}let d;o>=-128&&l<=127?d=Int8Array:o>=-32768&&l<=32767?d=Int16Array:d=Int32Array;const u=e.length,h=$g+Qu*u,p=new Uint32Array(h);let m=0;p[m++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*u)*d.BYTES_PER_ELEMENT,p[m++]=0,p[m++]=r,p[m++]=s,p[m++]=t?0:1,p[m++]=Math.max(0,Math.floor(i??0)),p[m++]=u,p[m++]=d.BYTES_PER_ELEMENT;for(const w of e)p[m++]=w.length-2,p[m++]=w[0],p[m++]=w[1];const C=new CompressionStream("deflate-raw"),v=C.writable.getWriter();await v.ready,v.write(p);const A=d.prototype.constructor;for(const w of e){const k=new A(w.length-2);for(let E=2,T=w.length;E<T;E++)k[E-2]=w[E]-w[E-2];v.write(k)}v.close();const y=await new Response(C.readable).arrayBuffer(),S=new Uint8Array(y);return WS(S)}static async decompressSignature(e){try{const t=W_(e),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let o=null,l=0;for await(const w of i)o||(o=new Uint8Array(new Uint32Array(w.buffer,0,4)[0])),o.set(w,l),l+=w.length;const c=new Uint32Array(o.buffer,0,o.length>>2),d=c[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const u=c[2],h=c[3],p=c[4]===0,m=c[5],C=c[6],v=c[7],A=[],y=($g+Qu*C)*Uint32Array.BYTES_PER_ELEMENT;let S;switch(v){case Int8Array.BYTES_PER_ELEMENT:S=new Int8Array(o.buffer,y);break;case Int16Array.BYTES_PER_ELEMENT:S=new Int16Array(o.buffer,y);break;case Int32Array.BYTES_PER_ELEMENT:S=new Int32Array(o.buffer,y);break}l=0;for(let w=0;w<C;w++){const k=c[Qu*w+$g],E=new Float32Array(k+2);A.push(E);for(let T=0;T<Qu-1;T++)E[T]=c[Qu*w+$g+T+1];for(let T=0;T<k;T++)E[T+2]=E[T]+S[l++]}return{areContours:p,thickness:m,outlines:A,width:u,height:h}}catch(t){return se(`decompressSignature: ${t}`),null}}}Jl=new WeakMap,Ee=new WeakSet,Kv=function(e,t,i,r){return i-=e,r-=t,i===0?r>0?0:4:i===1?r+6:2-r},cr=new WeakMap,Ob=function(e,t,i,r,s,o,l){const c=b(this,Ee,Kv).call(this,i,r,s,o);for(let d=0;d<8;d++){const u=(-d+c-l+16)%8,h=a(this,cr)[2*u],p=a(this,cr)[2*u+1];if(e[(i+h)*t+(r+p)]!==0)return u}return-1},jb=function(e,t,i,r,s,o,l){const c=b(this,Ee,Kv).call(this,i,r,s,o);for(let d=0;d<8;d++){const u=(d+c+l+16)%8,h=a(this,cr)[2*u],p=a(this,cr)[2*u+1];if(e[(i+h)*t+(r+p)]!==0)return u}return-1},qv=function(e,t,i,r){const s=e.length,o=new Int32Array(s);for(let u=0;u<s;u++)o[u]=e[u]<=r?1:0;for(let u=1;u<i-1;u++)o[u*t]=o[u*t+t-1]=0;for(let u=0;u<t;u++)o[u]=o[t*i-1-u]=0;let l=1,c;const d=[];for(let u=1;u<i-1;u++){c=1;for(let h=1;h<t-1;h++){const p=u*t+h,m=o[p];if(m===0)continue;let C=u,v=h;if(m===1&&o[p-1]===0)l+=1,v-=1;else if(m>=1&&o[p+1]===0)l+=1,v+=1,m>1&&(c=m);else{m!==1&&(c=Math.abs(m));continue}const A=[h,u],y=v===h+1,S={isHole:y,points:A,id:l,parent:0};d.push(S);let w;for(const D of d)if(D.id===c){w=D;break}w?w.isHole?S.parent=y?w.parent:c:S.parent=y?c:w.parent:S.parent=y?c:0;const k=b(this,Ee,Ob).call(this,o,t,u,h,C,v,0);if(k===-1){o[p]=-l,o[p]!==1&&(c=Math.abs(o[p]));continue}let E=a(this,cr)[2*k],T=a(this,cr)[2*k+1];const _=u+E,P=h+T;C=_,v=P;let N=u,B=h;for(;;){const D=b(this,Ee,jb).call(this,o,t,N,B,C,v,1);E=a(this,cr)[2*D],T=a(this,cr)[2*D+1];const I=N+E,F=B+T;A.push(F,I);const M=N*t+B;if(o[M+1]===0?o[M]=-l:o[M]===1&&(o[M]=l),I===u&&F===h&&N===_&&B===P){o[p]!==1&&(c=Math.abs(o[p]));break}else C=N,v=B,N=I,B=F}}}return d},zm=function(e,t,i,r){if(i-t<=4){for(let _=t;_<i-2;_+=2)r.push(e[_],e[_+1]);return}const s=e[t],o=e[t+1],l=e[i-4]-s,c=e[i-3]-o,d=Math.hypot(l,c),u=l/d,h=c/d,p=u*o-h*s,m=c/l,C=1/d,v=Math.atan(m),A=Math.cos(v),y=Math.sin(v),S=C*(Math.abs(A)+Math.abs(y)),w=C*(1-S+S**2),k=Math.max(Math.atan(Math.abs(y+A)*w),Math.atan(Math.abs(y-A)*w));let E=0,T=t;for(let _=t+2;_<i-2;_+=2){const P=Math.abs(p-u*e[_+1]+h*e[_]);P>E&&(T=_,E=P)}E>(d*k)**2?(b(this,Ee,zm).call(this,e,t,T+2,r),b(this,Ee,zm).call(this,e,T,i,r)):r.push(s,o)},zb=function(e){const t=[],i=e.length;return b(this,Ee,zm).call(this,e,0,i,t),t.push(e[i-2],e[i-1]),t.length<=4?null:t},Wb=function(e,t,i,r,s,o){const l=new Float32Array(o**2),c=-2*r**2,d=o>>1;for(let v=0;v<o;v++){const A=(v-d)**2;for(let y=0;y<o;y++)l[v*o+y]=Math.exp((A+(y-d)**2)/c)}const u=new Float32Array(256),h=-2*s**2;for(let v=0;v<256;v++)u[v]=Math.exp(v**2/h);const p=e.length,m=new Uint8Array(p),C=new Uint32Array(256);for(let v=0;v<i;v++)for(let A=0;A<t;A++){const y=v*t+A,S=e[y];let w=0,k=0;for(let T=0;T<o;T++){const _=v+T-d;if(!(_<0||_>=i))for(let P=0;P<o;P++){const N=A+P-d;if(N<0||N>=t)continue;const B=e[_*t+N],D=l[T*o+P]*u[Math.abs(B-S)];w+=B*D,k+=D}}const E=m[y]=Math.round(w/k);C[E]++}return[m,C]},$b=function(e){const t=new Uint32Array(256);for(const i of e)t[i]++;return t},Yv=function(e){const t=e.length,i=new Uint8ClampedArray(t>>2);let r=-1/0,s=1/0;for(let l=0,c=i.length;l<c;l++){const d=i[l]=e[l<<2];r=Math.max(r,d),s=Math.min(s,d)}const o=255/(r-s);for(let l=0,c=i.length;l<c;l++)i[l]=(i[l]-s)*o;return i},Qv=function(e){let t,i=-1/0,r=-1/0;const s=e.findIndex(c=>c!==0);let o=s,l=s;for(t=s;t<256;t++){const c=e[t];c>i&&(t-o>r&&(r=t-o,l=t-1),i=c,o=t)}for(t=l-1;t>=0&&!(e[t]>e[t+1]);t--);return t},Hb=function(e){const t=e,{width:i,height:r}=e,{maxDim:s}=a(this,Jl);let o=i,l=r;if(i>s||r>s){let p=i,m=r,C=Math.log2(Math.max(i,r)/s);const v=Math.floor(C);C=C===v?v-1:v;for(let y=0;y<C;y++){o=Math.ceil(p/2),l=Math.ceil(m/2);const S=new OffscreenCanvas(o,l);S.getContext("2d").drawImage(e,0,0,p,m,0,0,o,l),p=o,m=l,e!==t&&e.close(),e=S.transferToImageBitmap()}const A=Math.min(s/o,s/l);o=Math.round(o*A),l=Math.round(l*A)}const d=new OffscreenCanvas(o,l).getContext("2d",{willReadFrequently:!0});d.fillStyle="white",d.fillRect(0,0,o,l),d.filter="grayscale(1)",d.drawImage(e,0,0,e.width,e.height,0,0,o,l);const u=d.getImageData(0,0,o,l).data;return[b(this,Ee,Yv).call(this,u),o,l]},x(Hs,Ee),x(Hs,Jl,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),x(Hs,cr,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class R5 extends Db{constructor(){super(),super.updateProperties({fill:Ge._defaultLineColor,"stroke-width":0})}clone(){const e=new R5;return e.updateAll(this),e}}class P5 extends M1{constructor(e){super(e),super.updateProperties({stroke:Ge._defaultLineColor,"stroke-width":1})}clone(){const e=new P5(this._viewParameters);return e.updateAll(this),e}}var Qo,Xr,Zo,ec;const Kn=class Kn extends z0{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});x(this,Qo,!1);x(this,Xr,null);x(this,Zo,null);x(this,ec,null);this._willKeepAspectRatio=!0,g(this,Zo,t.signatureData||null),g(this,Xr,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,i){Ge.initialize(t,i),this._defaultDrawingOptions=new R5,this._defaultDrawnSignatureOptions=new P5(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return oe(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!a(this,Xr)}}static computeTelemetryFinalData(t){const i=t.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,i;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,t=this.x,i=this.y),super.render(),this._drawId===null)if(a(this,Zo)){const{lines:s,mustSmooth:o,areContours:l,description:c,uuid:d,heightInPage:u}=a(this,Zo),{rawDims:{pageWidth:h,pageHeight:p},rotation:m}=this.parent.viewport,C=Hs.processDrawnLines({lines:s,pageWidth:h,pageHeight:p,rotation:m,innerMargin:Kn._INNER_MARGIN,mustSmooth:o,areContours:l});this.addSignature(C,u,c,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:a(this,Xr)||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(t,i)),this.div}setUuid(t){g(this,ec,t),this.addEditToolbar()}getUuid(){return a(this,ec)}get description(){return a(this,Xr)}set description(t){g(this,Xr,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:i,thickness:r,width:s,height:o}=a(this,Zo),l=Math.max(s,o),c=Hs.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:r,width:s,height:o},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,i,r,s){const{x:o,y:l}=this,{outline:c}=g(this,Zo,t);g(this,Qo,c instanceof Xv),this.description=r;let d;a(this,Qo)?d=Kn.getDefaultDrawingOptions():(d=Kn._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:d});const[,u]=this.pageDimensions;let h=i/u;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=o,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return Hs.process(t,i,r,s,Kn._INNER_MARGIN)}getFromText(t,i){const{rawDims:{pageWidth:r,pageHeight:s},rotation:o}=this.parent.viewport;return Hs.extractContoursFromText(t,i,r,s,o,Kn._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return Hs.processDrawnLines({lines:t,pageWidth:i,pageHeight:r,rotation:s,innerMargin:Kn._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:i}){t?this._drawingOptions=Kn.getDefaultDrawingOptions():(this._drawingOptions=Kn._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:i,points:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:a(this,Qo),color:[0,0,0],thickness:a(this,Qo)?0:s});return this.addComment(o),t?(o.paths={lines:i,points:r},o.uuid=a(this,ec),o.isCopy=!0):o.lines=i,a(this,Xr)&&(o.accessibilityData={type:"Figure",alt:a(this,Xr)}),o}static deserializeDraw(t,i,r,s,o,l){return l.areContours?Xv.deserialize(t,i,r,s,o,l):ug.deserialize(t,i,r,s,o,l)}static async deserialize(t,i,r){var o;const s=await super.deserialize(t,i,r);return g(s,Qo,t.areContours),s.description=((o=t.accessibilityData)==null?void 0:o.alt)||"",g(s,ec,t.uuid),s}};Qo=new WeakMap,Xr=new WeakMap,Zo=new WeakMap,ec=new WeakMap,O(Kn,"_type","signature"),O(Kn,"_editorType",le.SIGNATURE),O(Kn,"_defaultDrawingOptions",null);let Zv=Kn;var Je,Bt,Jo,Os,ea,Cu,js,tc,Kr,hi,wu,Se,Eh,kh,Wm,$m,Hm,e3,Um,Ub;class Jv extends Ge{constructor(t){super({...t,name:"stampEditor"});x(this,Se);x(this,Je,null);x(this,Bt,null);x(this,Jo,null);x(this,Os,null);x(this,ea,null);x(this,Cu,"");x(this,js,null);x(this,tc,!1);x(this,Kr,null);x(this,hi,!1);x(this,wu,!1);g(this,Os,t.bitmapUrl),g(this,ea,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,i){Ge.initialize(t,i)}static isHandlingMimeForPasting(t){return Oy.includes(t)}static paste(t,i){i.pasteEditor({mode:le.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const i=t.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(t=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:l}=t||this.copyCanvas(null,null,!0).imageData,c=await r.guess({name:"altText",request:{data:s,width:o,height:l,channels:s.length/(o*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const d=c.output;return await this.setGuessedAltText(d),i&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}remove(){var t;a(this,Bt)&&(g(this,Je,null),this._uiManager.imageManager.deleteId(a(this,Bt)),(t=a(this,js))==null||t.remove(),g(this,js,null),a(this,Kr)&&(clearTimeout(a(this,Kr)),g(this,Kr,null))),super.remove()}rebuild(){if(!this.parent){a(this,Bt)&&b(this,Se,Wm).call(this);return}super.rebuild(),this.div!==null&&(a(this,Bt)&&a(this,js)===null&&b(this,Se,Wm).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(a(this,Jo)||a(this,Je)||a(this,Os)||a(this,ea)||a(this,Bt)||a(this,tc))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;return this._isCopy&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),a(this,tc)||(a(this,Je)?b(this,Se,$m).call(this):b(this,Se,Wm).call(this)),this._isCopy&&this._moveAfterPaste(t,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,i){const{id:r,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,i);i.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(g(this,Bt,r),s&&g(this,Je,s),g(this,tc,!1),b(this,Se,$m).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;a(this,Kr)!==null&&clearTimeout(a(this,Kr)),g(this,Kr,setTimeout(()=>{g(this,Kr,null),b(this,Se,e3).call(this)},200))}copyCanvas(t,i,r=!1){t||(t=224);const{width:s,height:o}=a(this,Je),l=new Jr;let c=a(this,Je),d=s,u=o,h=null;if(i){if(s>i||o>i){const _=Math.min(i/s,i/o);d=Math.floor(s*_),u=Math.floor(o*_)}h=document.createElement("canvas");const m=h.width=Math.ceil(d*l.sx),C=h.height=Math.ceil(u*l.sy);a(this,hi)||(c=b(this,Se,Hm).call(this,m,C));const v=h.getContext("2d");v.filter=this._uiManager.hcmFilter;let A="white",y="#cfcfd8";this._uiManager.hcmFilter!=="none"?y="black":X_.isDarkMode&&(A="#8f8f9d",y="#42414d");const S=15,w=S*l.sx,k=S*l.sy,E=new OffscreenCanvas(w*2,k*2),T=E.getContext("2d");T.fillStyle=A,T.fillRect(0,0,w*2,k*2),T.fillStyle=y,T.fillRect(0,0,w,k),T.fillRect(w,k,w,k),v.fillStyle=v.createPattern(E,"repeat"),v.fillRect(0,0,m,C),v.drawImage(c,0,0,c.width,c.height,0,0,m,C)}let p=null;if(r){let m,C;if(l.symmetric&&c.width<t&&c.height<t)m=c.width,C=c.height;else if(c=a(this,Je),s>t||o>t){const y=Math.min(t/s,t/o);m=Math.floor(s*y),C=Math.floor(o*y),a(this,hi)||(c=b(this,Se,Hm).call(this,m,C))}const A=new OffscreenCanvas(m,C).getContext("2d",{willReadFrequently:!0});A.drawImage(c,0,0,c.width,c.height,0,0,m,C),p={width:m,height:C,data:A.getImageData(0,0,m,C).data}}return{canvas:h,width:d,height:u,imageData:p}}static async deserialize(t,i,r){var A;let s=null,o=!1;if(t instanceof ob){const{data:{rect:y,rotation:S,id:w,structParent:k,popupRef:E,richText:T,contentsObj:_,creationDate:P,modificationDate:N},container:B,parent:{page:{pageNumber:D}},canvas:I}=t;let F,M;I?(delete t.canvas,{id:F,bitmap:M}=r.imageManager.getFromCanvas(B.id,I),I.remove()):(o=!0,t._hasNoCanvas=!0);const U=((A=await i._structTree.getAriaAttributes(`${$c}${w}`))==null?void 0:A.get("aria-label"))||"";s=t={annotationType:le.STAMP,bitmapId:F,bitmap:M,pageIndex:D-1,rect:y.slice(0),rotation:S,annotationElementId:w,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:U},isSvg:!1,structParent:k,popupRef:E,richText:T,comment:(_==null?void 0:_.str)||null,creationDate:P,modificationDate:N}}const l=await super.deserialize(t,i,r),{rect:c,bitmap:d,bitmapUrl:u,bitmapId:h,isSvg:p,accessibilityData:m}=t;o?(r.addMissingCanvas(t.id,l),g(l,tc,!0)):h&&r.imageManager.isValidId(h)?(g(l,Bt,h),d&&g(l,Je,d)):g(l,Os,u),g(l,hi,p);const[C,v]=l.pageDimensions;return l.width=(c[2]-c[0])/C,l.height=(c[3]-c[1])/v,m&&(l.altTextData=m),l._initialData=s,t.comment&&l.setCommentData(t),g(l,wu,!!s),l}serialize(t=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(t),{bitmapId:a(this,Bt),isSvg:a(this,hi)});if(this.addComment(r),t)return r.bitmapUrl=b(this,Se,Um).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(r.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const c=b(this,Se,Ub).call(this,r);return c.isSame?null:(c.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(i===null)return r;i.stamps||(i.stamps=new Map);const l=a(this,hi)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(a(this,Bt)))i.stamps.set(a(this,Bt),{area:l,serialized:r}),r.bitmap=b(this,Se,Um).call(this,!1);else if(a(this,hi)){const c=i.stamps.get(a(this,Bt));l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=b(this,Se,Um).call(this,!1))}return r}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Je=new WeakMap,Bt=new WeakMap,Jo=new WeakMap,Os=new WeakMap,ea=new WeakMap,Cu=new WeakMap,js=new WeakMap,tc=new WeakMap,Kr=new WeakMap,hi=new WeakMap,wu=new WeakMap,Se=new WeakSet,Eh=function(t,i=!1){if(!t){this.remove();return}g(this,Je,t.bitmap),i||(g(this,Bt,t.id),g(this,hi,t.isSvg)),t.file&&g(this,Cu,t.file.name),b(this,Se,$m).call(this)},kh=function(){if(g(this,Jo,null),this._uiManager.enableWaiting(!1),!!a(this,js)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&a(this,Je)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&a(this,Je)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Wm=function(){if(a(this,Bt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(a(this,Bt)).then(r=>b(this,Se,Eh).call(this,r,!0)).finally(()=>b(this,Se,kh).call(this));return}if(a(this,Os)){const r=a(this,Os);g(this,Os,null),this._uiManager.enableWaiting(!0),g(this,Jo,this._uiManager.imageManager.getFromUrl(r).then(s=>b(this,Se,Eh).call(this,s)).finally(()=>b(this,Se,kh).call(this)));return}if(a(this,ea)){const r=a(this,ea);g(this,ea,null),this._uiManager.enableWaiting(!0),g(this,Jo,this._uiManager.imageManager.getFromFile(r).then(s=>b(this,Se,Eh).call(this,s)).finally(()=>b(this,Se,kh).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Oy.join(",");const i=this._uiManager._signal;g(this,Jo,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),b(this,Se,Eh).call(this,s)}r()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>b(this,Se,kh).call(this))),t.click()},$m=function(){var d;const{div:t}=this;let{width:i,height:r}=a(this,Je);const[s,o]=this.pageDimensions,l=.75;if(this.width)i=this.width*s,r=this.height*o;else if(i>l*s||r>l*o){const u=Math.min(l*s/i,l*o/r);i*=u,r*=u}this._uiManager.enableWaiting(!1);const c=g(this,js,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),this.width=i/s,this.height=r/o,this.setDims(),(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),b(this,Se,e3).call(this),a(this,wu)||(this.parent.addUndoableEditor(this),g(this,wu,!0)),this._reportTelemetry({action:"inserted_image"}),a(this,Cu)&&this.div.setAttribute("aria-description",a(this,Cu)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},Hm=function(t,i){const{width:r,height:s}=a(this,Je);let o=r,l=s,c=a(this,Je);for(;o>2*t||l>2*i;){const d=o,u=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*i&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const h=new OffscreenCanvas(o,l);h.getContext("2d").drawImage(c,0,0,d,u,0,0,o,l),c=h.transferToImageBitmap()}return c},e3=function(){const[t,i]=this.parentDimensions,{width:r,height:s}=this,o=new Jr,l=Math.ceil(r*t*o.sx),c=Math.ceil(s*i*o.sy),d=a(this,js);if(!d||d.width===l&&d.height===c)return;d.width=l,d.height=c;const u=a(this,hi)?a(this,Je):b(this,Se,Hm).call(this,l,c),h=d.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(u,0,0,u.width,u.height,0,0,l,c)},Um=function(t){if(t){if(a(this,hi)){const s=this._uiManager.imageManager.getSvgUrl(a(this,Bt));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=a(this,Je),i.getContext("2d").drawImage(a(this,Je),0,0),i.toDataURL()}if(a(this,hi)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*wa.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*wa.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(s,o);return l.getContext("2d").drawImage(a(this,Je),0,0,a(this,Je).width,a(this,Je).height,0,0,s,o),l.transferToImageBitmap()}return structuredClone(a(this,Je))},Ub=function(t){var l;const{pageIndex:i,accessibilityData:{altText:r}}=this._initialData,s=t.pageIndex===i,o=(((l=t.accessibilityData)==null?void 0:l.alt)||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&o,isSameAltText:o}},O(Jv,"_type","stamp"),O(Jv,"_editorType",le.STAMP);var nc,Su,ta,na,zs,Fn,ia,bu,Au,dr,Ws,Lt,$s,ra,Eu,J,sa,Oe,n3,Gb,Er,i3,r3,Gm;const Zi=class Zi{constructor({uiManager:e,pageIndex:t,div:i,structTreeLayer:r,accessibilityManager:s,annotationLayer:o,drawLayer:l,textLayer:c,viewport:d,l10n:u}){x(this,Oe);x(this,nc);x(this,Su,!1);x(this,ta,null);x(this,na,null);x(this,zs,null);x(this,Fn,new Map);x(this,ia,!1);x(this,bu,!1);x(this,Au,!1);x(this,dr,null);x(this,Ws,null);x(this,Lt,null);x(this,$s,null);x(this,ra,null);x(this,Eu,-1);x(this,J);const h=[...a(Zi,sa).values()];if(!Zi._initialized){Zi._initialized=!0;for(const p of h)p.initialize(u,e)}e.registerEditorTypes(h),g(this,J,e),this.pageIndex=t,this.div=i,g(this,nc,s),g(this,ta,o),this.viewport=d,g(this,Lt,c),this.drawLayer=l,this._structTree=r,a(this,J).addLayer(this)}get isEmpty(){return a(this,Fn).size===0}get isInvisible(){return this.isEmpty&&a(this,J).getMode()===le.NONE}updateToolbar(e){a(this,J).updateToolbar(e)}updateMode(e=a(this,J).getMode()){switch(b(this,Oe,Gm).call(this),e){case le.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case le.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case le.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===le.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const i of a(Zi,sa).values())t.toggle(`${i._type}Editing`,e===i._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=a(this,Lt))==null?void 0:t.div)}setEditingState(e){a(this,J).setEditingState(e)}addCommands(e){a(this,J).addCommands(e)}cleanUndoStack(e){a(this,J).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=a(this,ta))==null||t.togglePointerEvents(e)}async enable(){var i;g(this,Au,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(i=a(this,ra))==null||i.abort(),g(this,ra,null);const e=new Set;for(const r of a(this,Oe,n3))r.enableEditing(),r.show(!0),r.annotationElementId&&(a(this,J).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const t=a(this,ta);if(t)for(const r of t.getEditableAnnotations()){if(r.hide(),a(this,J).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const s=await this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}g(this,Au,!1),a(this,J)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var r;if(g(this,bu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),a(this,Lt)&&!a(this,ra)){g(this,ra,new AbortController);const s=a(this,J).combinedSignal(a(this,ra));a(this,Lt).div.addEventListener("pointerdown",o=>{const{clientX:c,clientY:d,timeStamp:u}=o,h=a(this,Eu);if(u-h>500){g(this,Eu,u);return}g(this,Eu,-1);const{classList:p}=this.div;p.toggle("getElements",!0);const m=document.elementsFromPoint(c,d);if(p.toggle("getElements",!1),!this.div.contains(m[0]))return;let C;const v=new RegExp(`^${sp}[0-9]+$`);for(const y of m)if(v.test(y.id)){C=y.id;break}if(!C)return;const A=a(this,Fn).get(C);(A==null?void 0:A.annotationElementId)===null&&(o.stopPropagation(),o.preventDefault(),A.dblclick(o))},{signal:s,capture:!0})}const e=a(this,ta),t=[];if(e){const s=new Map,o=new Map;for(const c of a(this,Oe,n3)){if(c.disableEditing(),!c.annotationElementId){t.push(c);continue}if(c.serialize()!==null){s.set(c.annotationElementId,c);continue}else o.set(c.annotationElementId,c);(r=this.getEditableAnnotation(c.annotationElementId))==null||r.show(),c.remove()}const l=e.getEditableAnnotations();for(const c of l){const{id:d}=c.data;if(a(this,J).isDeletedAnnotationElement(d)){c.updateEdited({deleted:!0});continue}let u=o.get(d);if(u){u.resetAnnotationElement(c),u.show(!1),c.show();continue}u=s.get(d),u&&(a(this,J).addChangedExistingAnnotation(u),u.renderAnnotationElement(c)&&u.show(!1)),c.show()}}b(this,Oe,Gm).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of a(Zi,sa).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(t),g(this,bu,!1)}getEditableAnnotation(e){var t;return((t=a(this,ta))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){a(this,J).getActive()!==e&&a(this,J).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=a(this,Lt))!=null&&e.div&&!a(this,$s)){g(this,$s,new AbortController);const t=a(this,J).combinedSignal(a(this,$s));a(this,Lt).div.addEventListener("pointerdown",b(this,Oe,Gb).bind(this),{signal:t}),a(this,Lt).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=a(this,Lt))!=null&&e.div&&a(this,$s)&&(a(this,$s).abort(),g(this,$s,null),a(this,Lt).div.classList.remove("highlighting"))}enableClick(){if(a(this,na))return;g(this,na,new AbortController);const e=a(this,J).combinedSignal(a(this,na));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=a(this,na))==null||e.abort(),g(this,na,null)}attach(e){a(this,Fn).set(e.id,e);const{annotationElementId:t}=e;t&&a(this,J).isDeletedAnnotationElement(t)&&a(this,J).removeDeletedAnnotationElement(e)}detach(e){var t;a(this,Fn).delete(e.id),(t=a(this,nc))==null||t.removePointerInTextLayer(e.contentDiv),!a(this,bu)&&e.annotationElementId&&a(this,J).addDeletedAnnotationElement(e)}remove(e){this.detach(e),a(this,J).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(a(this,J).addDeletedAnnotationElement(e),Ge.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),a(this,J).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!a(this,Au)),a(this,J).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!a(this,zs)&&(e._focusEventsAllowed=!1,g(this,zs,setTimeout(()=>{g(this,zs,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:a(this,J)._signal}),t.focus())},0))),e._structTreeParentId=(i=a(this,nc))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getEditorByUID(e){for(const t of a(this,Fn).values())if(t.uid===e)return t;return null}getNextId(){return a(this,J).getId()}combinedSignal(e){return a(this,J).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=a(this,Oe,Er))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await a(this,J).updateMode(e.mode);const{offsetX:i,offsetY:r}=b(this,Oe,r3).call(this),s=this.getNextId(),o=b(this,Oe,i3).call(this,{parent:this,id:s,x:i,y:r,uiManager:a(this,J),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=a(Zi,sa).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,a(this,J)))||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),s=b(this,Oe,i3).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:a(this,J),isCentered:t,...i});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(b(this,Oe,r3).call(this),!0,e)}setSelected(e){a(this,J).setSelected(e)}toggleSelected(e){a(this,J).toggleSelected(e)}unselect(e){a(this,J).unselect(e)}pointerup(e){var r;const{isMac:t}=Qt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!a(this,ia)||(g(this,ia,!1),(r=a(this,Oe,Er))!=null&&r.isDrawer&&a(this,Oe,Er).supportMultipleDrawings))return;if(!a(this,Su)){g(this,Su,!0);return}const i=a(this,J).getMode();if(i===le.STAMP||i===le.SIGNATURE){a(this,J).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var r;if(a(this,J).getMode()===le.HIGHLIGHT&&this.enableTextSelection(),a(this,ia)){g(this,ia,!1);return}const{isMac:t}=Qt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(g(this,ia,!0),(r=a(this,Oe,Er))!=null&&r.isDrawer){this.startDrawingSession(e);return}const i=a(this,J).getActive();g(this,Su,!i||i.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),a(this,dr)){a(this,Oe,Er).startDrawing(this,a(this,J),!1,e);return}a(this,J).setCurrentDrawingSession(this),g(this,dr,new AbortController);const t=a(this,J).combinedSignal(a(this,dr));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(g(this,Ws,null),this.commitOrRemove())},{signal:t}),a(this,Oe,Er).startDrawing(this,a(this,J),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&g(this,Ws,t);return}a(this,Ws)&&setTimeout(()=>{var t;(t=a(this,Ws))==null||t.focus(),g(this,Ws,null)},0)}endDrawingSession(e=!1){return a(this,dr)?(a(this,J).setCurrentDrawingSession(null),a(this,dr).abort(),g(this,dr,null),g(this,Ws,null),a(this,Oe,Er).endDrawing(e)):null}findNewParent(e,t,i){const r=a(this,J).findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return a(this,dr)?(this.endDrawingSession(),!0):!1}onScaleChanging(){a(this,dr)&&a(this,Oe,Er).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=a(this,J).getActive())==null?void 0:e.parent)===this&&(a(this,J).commitOrRemove(),a(this,J).setActiveEditor(null)),a(this,zs)&&(clearTimeout(a(this,zs)),g(this,zs,null));for(const i of a(this,Fn).values())(t=a(this,nc))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,a(this,Fn).clear(),a(this,J).removeLayer(this)}render({viewport:e}){this.viewport=e,hc(this.div,e);for(const t of a(this,J).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){a(this,J).commitOrRemove(),b(this,Oe,Gm).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,hc(this.div,{rotation:i}),t!==i)for(const r of a(this,Fn).values())r.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return a(this,J).viewParameters.realScale}};nc=new WeakMap,Su=new WeakMap,ta=new WeakMap,na=new WeakMap,zs=new WeakMap,Fn=new WeakMap,ia=new WeakMap,bu=new WeakMap,Au=new WeakMap,dr=new WeakMap,Ws=new WeakMap,Lt=new WeakMap,$s=new WeakMap,ra=new WeakMap,Eu=new WeakMap,J=new WeakMap,sa=new WeakMap,Oe=new WeakSet,n3=function(){return a(this,Fn).size!==0?a(this,Fn).values():a(this,J).getEditors(this.pageIndex)},Gb=function(e){a(this,J).unselectAll();const{target:t}=e;if(t===a(this,Lt).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&a(this,Lt).div.contains(t)){const{isMac:i}=Qt.platform;if(e.button!==0||e.ctrlKey&&i)return;a(this,J).showAllEditors("highlight",!0,!0),a(this,Lt).div.classList.add("free"),this.toggleDrawing(),j0.startHighlighting(this,a(this,J).direction==="ltr",{target:a(this,Lt).div,x:e.x,y:e.y}),a(this,Lt).div.addEventListener("pointerup",()=>{a(this,Lt).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:a(this,J)._signal}),e.preventDefault()}},Er=function(){return a(Zi,sa).get(a(this,J).getMode())},i3=function(e){const t=a(this,Oe,Er);return t?new t.prototype.constructor(e):null},r3=function(){const{x:e,y:t,width:i,height:r}=this.boundingClientRect,s=Math.max(0,e),o=Math.max(0,t),l=Math.min(window.innerWidth,e+i),c=Math.min(window.innerHeight,t+r),d=(s+l)/2-e,u=(o+c)/2-t,[h,p]=this.viewport.rotation%180===0?[d,u]:[u,d];return{offsetX:h,offsetY:p}},Gm=function(){for(const e of a(this,Fn).values())e.isEmpty()&&e.remove()},O(Zi,"_initialized",!1),x(Zi,sa,new Map([Lv,Vv,Jv,j0,Zv].map(e=>[e._editorType,e])));let t3=Zi;var ur,yn,ic,Jf,s1,Vb,es,o3,Xb,a3;const At=class At{constructor({pageIndex:e}){x(this,es);x(this,ur,null);x(this,yn,new Map);x(this,ic,new Map);this.pageIndex=e}setParent(e){if(!a(this,ur)){g(this,ur,e);return}if(a(this,ur)!==e){if(a(this,yn).size>0)for(const t of a(this,yn).values())t.remove(),e.append(t);g(this,ur,e)}}static get _svgFactory(){return oe(this,"_svgFactory",new F0)}draw(e,t=!1,i=!1){const r=St(At,Jf)._++,s=b(this,es,o3).call(this),o=At._svgFactory.createElement("defs");s.append(o);const l=At._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${r}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),t&&a(this,ic).set(r,l);const d=i?b(this,es,Xb).call(this,o,c):null,u=At._svgFactory.createElement("use");return s.append(u),u.setAttribute("href",`#${c}`),this.updateProperties(s,e),a(this,yn).set(r,s),{id:r,clipPathId:`url(#${d})`}}drawOutline(e,t){const i=St(At,Jf)._++,r=b(this,es,o3).call(this),s=At._svgFactory.createElement("defs");r.append(s);const o=At._svgFactory.createElement("path");s.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke");let c;if(t){const h=At._svgFactory.createElement("mask");s.append(h),c=`mask_p${this.pageIndex}_${i}`,h.setAttribute("id",c),h.setAttribute("maskUnits","objectBoundingBox");const p=At._svgFactory.createElement("rect");h.append(p),p.setAttribute("width","1"),p.setAttribute("height","1"),p.setAttribute("fill","white");const m=At._svgFactory.createElement("use");h.append(m),m.setAttribute("href",`#${l}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const d=At._svgFactory.createElement("use");r.append(d),d.setAttribute("href",`#${l}`),c&&d.setAttribute("mask",`url(#${c})`);const u=d.cloneNode();return r.append(u),d.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(r,e),a(this,yn).set(i,r),i}finalizeDraw(e,t){a(this,ic).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var c;if(!t)return;const{root:i,bbox:r,rootClass:s,path:o}=t,l=typeof e=="number"?a(this,yn).get(e):e;if(l){if(i&&b(this,es,a3).call(this,l,i),r&&b(c=At,s1,Vb).call(c,l,r),s){const{classList:d}=l;for(const[u,h]of Object.entries(s))d.toggle(u,h)}if(o){const u=l.firstElementChild.firstElementChild;b(this,es,a3).call(this,u,o)}}}updateParent(e,t){if(t===this)return;const i=a(this,yn).get(e);i&&(a(t,ur).append(i),a(this,yn).delete(e),a(t,yn).set(e,i))}remove(e){a(this,ic).delete(e),a(this,ur)!==null&&(a(this,yn).get(e).remove(),a(this,yn).delete(e))}destroy(){g(this,ur,null);for(const e of a(this,yn).values())e.remove();a(this,yn).clear(),a(this,ic).clear()}};ur=new WeakMap,yn=new WeakMap,ic=new WeakMap,Jf=new WeakMap,s1=new WeakSet,Vb=function(e,[t,i,r,s]){const{style:o}=e;o.top=`${100*i}%`,o.left=`${100*t}%`,o.width=`${100*r}%`,o.height=`${100*s}%`},es=new WeakSet,o3=function(){const e=At._svgFactory.create(1,1,!0);return a(this,ur).append(e),e.setAttribute("aria-hidden",!0),e},Xb=function(e,t){const i=At._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=At._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r},a3=function(e,t){for(const[i,r]of Object.entries(t))r===null?e.removeAttribute(i):e.setAttribute(i,r)},x(At,s1),x(At,Jf,0);let s3=At;globalThis._pdfjsTestingUtils={HighlightOutliner:Ov};globalThis.pdfjsLib={AbortException:Ca,AnnotationEditorLayer:t3,AnnotationEditorParamsType:ve,AnnotationEditorType:le,AnnotationEditorUIManager:pc,AnnotationLayer:Nv,AnnotationMode:fo,AnnotationType:vt,applyOpacity:q_,build:nP,ColorPicker:B0,createValidAbsoluteUrl:FS,CSSConstants:K_,DOMSVGFactory:F0,DrawLayer:s3,FeatureTest:Qt,fetchData:og,findContrastColor:Y_,getDocument:G8,getFilenameFromUrl:$_,getPdfFilenameFromUrl:H_,getRGB:lg,getUuid:zS,getXfaPageViewport:G_,GlobalWorkerOptions:Yr,ImageKind:hm,InvalidPDFException:Ly,isDataScheme:I1,isPdfFile:b5,isValidExplicitDest:oR,MathClamp:xn,noContextMenu:qi,normalizeUnicode:j_,OPS:op,OutputScale:Jr,PasswordResponses:P_,PDFDataRangeTransport:V8,PDFDateString:R0,PDFWorker:cp,PermissionFlag:R_,PixelsPerInch:wa,RenderingCancelledException:S5,renderRichText:HS,ResponseException:_0,setLayerDimensions:hc,shadow:oe,SignatureExtractor:Hs,stopEvent:pt,SupportedImageMimeTypes:Oy,TextLayer:lp,TouchManager:I0,updateUrlHash:OS,Util:Z,VerbosityLevel:_1,version:tP,XfaLayer:$S};const kP="/assets/pdf.worker.min-CXgfMxHN.mjs";Yr.workerSrc=kP;const TP=({isVisible:n,onClose:e})=>{const[t,i]=$.useState(0),[r,s]=$.useState(!1),[o,l]=$.useState(!1),[c,d]=$.useState(null),[u,h]=$.useState({x:0,y:0}),[p,m]=$.useState(!1),[C,v]=$.useState(null),[A,y]=$.useState([]),S=$.useRef(null),w=$.useRef(null);$.useEffect(()=>{n?(async()=>{try{console.log("Loading PDF: /ormara-base-overview.pdf"),m(!1);const F=await G8("/ormara-base-overview.pdf").promise;console.log("PDF loaded, total pages:",F.numPages),v(F);const M=[];for(let U=1;U<=Math.min(F.numPages,46);U++)((await(await F.getPage(U)).getTextContent()).items.length>0||U<=40)&&M.push(U);console.log("Filtered active pages:",M.length),y(M),m(!0)}catch(I){console.error("Error loading PDF:",I)}})():(v(null),y([]),i(0),m(!1))},[n]),$.useEffect(()=>{(async()=>{if(!(!C||A.length===0||!S.current||!p))try{w.current&&w.current.cancel();const I=A[t];console.log("Rendering PDF page",I);const F=await C.getPage(I),M=S.current,U=M.getContext("2d");if(!U)return;const z=F.getViewport({scale:2});M.height=z.height,M.width=z.width,console.log("Canvas dimensions configured:",M.width,"x",M.height);const W={canvasContext:U,viewport:z,canvas:M},R=F.render(W);w.current=R,await R.promise,console.log("PDF page rendered",I)}catch(I){I.name!=="RenderingCancelledException"&&console.error("Error rendering page:",I)}})()},[t,C,A,n,p]);const k=()=>{p&&i(D=>(D+1)%(A.length||1))},E=()=>{p&&i(D=>(D-1+(A.length||1))%(A.length||1))},T=D=>{p&&i(D)},_=D=>{!r||!p||(l(!0),d({x:D.clientX-u.x,y:D.clientY-u.y}))},P=()=>{l(!1)},N=D=>{!o||!r||!c||!p||h({x:D.clientX-c.x,y:D.clientY-c.y})},B=()=>{l(!1)};return $.useEffect(()=>{r||h({x:0,y:0})},[r,t]),n?f.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.95)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e4,fontFamily:"monospace"},onClick:e,children:[f.jsx("div",{style:{width:"90vw",maxWidth:"1000px",height:"80vh",background:"rgba(0, 0, 0, 0.9)",border:"2px solid #00ffff",borderRadius:"8px",padding:"20px",position:"relative",display:"flex",flexDirection:"column",boxShadow:"0 0 50px rgba(0, 255, 255, 0.25)"},onClick:D=>D.stopPropagation(),children:!p||A.length===0?f.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#00ffff",gap:"20px"},children:[f.jsx("div",{style:{fontSize:"24px",animation:"pulse 1s infinite alternate",letterSpacing:"4px"},children:"DECRYPTING FILES..."}),f.jsx("div",{style:{fontSize:"10px",opacity:.5,letterSpacing:"2px"},children:"ACCESSING CLASSIFIED NAVAL RECORDS // SECTOR 7"}),f.jsx("div",{style:{width:"200px",height:"2px",background:"rgba(0, 255, 255, 0.1)",position:"relative",overflow:"hidden"},children:f.jsx("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"50%",background:"#00ffff",animation:"loading-bar 1.5s infinite linear"}})})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",borderBottom:"1px solid #333",paddingBottom:"15px"},children:[f.jsx("h2",{style:{color:"#00ffff",fontSize:"20px",margin:0,letterSpacing:"2px",textTransform:"uppercase"},children:"ORMARA PROJECT GALLERY"}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("button",{onClick:()=>s(!0),style:{background:r?"rgba(0,255,255,0.5)":"rgba(0,255,255,0.15)",border:"1px solid #00ffff",color:r?"#000":"#00ffff",borderRadius:"4px",padding:"6px 10px",fontSize:"14px",cursor:"pointer",fontFamily:"monospace",transition:"all 0.2s ease"},title:"Zoom In",children:""}),f.jsx("button",{onClick:()=>s(!1),style:{background:r?"rgba(0,255,255,0.15)":"rgba(0,255,255,0.5)",border:"1px solid #00ffff",color:r?"#00ffff":"#000",borderRadius:"4px",padding:"6px 10px",fontSize:"14px",cursor:"pointer",fontFamily:"monospace",transition:"all 0.2s ease"},title:"Zoom Out",children:""}),f.jsx("button",{onClick:e,style:{background:"transparent",border:"1px solid #ff4444",color:"#ff4444",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontFamily:"monospace"},children:" CLOSE"})]})]}),f.jsxs("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",position:"relative",marginBottom:"20px",width:"100%",height:"100%",overflow:"hidden",cursor:r?o?"grabbing":"grab":"default",userSelect:"none",background:"#000",borderRadius:"4px",border:"1px solid #111"},onMouseDown:_,onMouseUp:P,onMouseMove:N,onMouseLeave:B,children:[f.jsx("div",{style:{width:r?"180%":"100%",height:r?"180%":"100%",display:"flex",justifyContent:"center",alignItems:"center",transition:"width 0.3s, height 0.3s",transform:r?`translate(${u.x}px, ${u.y}px)`:"none"},children:f.jsx("canvas",{ref:S,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",boxShadow:"0 0 40px rgba(0, 255, 255, 0.1)"}})}),f.jsx("button",{onClick:E,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(0, 255, 255, 0.1)",border:"1px solid rgba(0, 255, 255, 0.3)",color:"#00ffff",padding:"15px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"18px",fontFamily:"monospace",zIndex:10,transition:"all 0.2s ease"},onMouseEnter:D=>{D.currentTarget.style.background="rgba(0, 255, 255, 0.2)",D.currentTarget.style.borderColor="#00ffff"},onMouseLeave:D=>{D.currentTarget.style.background="rgba(0, 255, 255, 0.1)",D.currentTarget.style.borderColor="rgba(0, 255, 255, 0.3)"},children:""}),f.jsx("button",{onClick:k,style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(0, 255, 255, 0.1)",border:"1px solid rgba(0, 255, 255, 0.3)",color:"#00ffff",padding:"15px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"18px",fontFamily:"monospace",zIndex:10,transition:"all 0.2s ease"},onMouseEnter:D=>{D.currentTarget.style.background="rgba(0, 255, 255, 0.2)",D.currentTarget.style.borderColor="#00ffff"},onMouseLeave:D=>{D.currentTarget.style.background="rgba(0, 255, 255, 0.1)",D.currentTarget.style.borderColor="rgba(0, 255, 255, 0.3)"},children:""})]}),f.jsxs("div",{style:{background:"rgba(0, 255, 255, 0.05)",padding:"15px",borderRadius:"4px",marginBottom:"15px",borderLeft:"4px solid #00ffff"},children:[f.jsxs("div",{style:{color:"#00ffff",fontSize:"14px",fontWeight:"bold",marginBottom:"5px",letterSpacing:"1px"},children:["Jinnah Naval Base Intel - Page ",A[t]||"?"]}),f.jsxs("div",{style:{color:"#888",fontSize:"12px",lineHeight:"1.4"},children:["Classified documentation: Aerial reconnaissance and base layout analysis. Page ",t+1," of ",A.length,"."]})]}),f.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"8px",flexWrap:"wrap",padding:"0 40px",maxHeight:"60px",overflowY:"auto"},children:A.map((D,I)=>f.jsx("div",{onClick:()=>T(I),style:{width:"8px",height:"8px",borderRadius:"50%",border:"1px solid #00ffff",background:I===t?"#00ffff":"transparent",cursor:"pointer",transition:"all 0.2s ease"}},I))}),f.jsxs("div",{style:{position:"absolute",top:"60px",right:"20px",color:"#00ffff",fontSize:"12px",background:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(0, 255, 255, 0.3)",padding:"5px 12px",borderRadius:"4px",zIndex:10,letterSpacing:"1px"},children:[t+1," / ",A.length]})]})}),f.jsx("style",{children:`
          @keyframes pulse {
            from { opacity: 0.8; }
            to { opacity: 0.3; }
          }
          @keyframes loading-bar {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(200%); }
          }
        `})]}):null},_P=({isVisible:n,onClose:e,onViewKeyOfficials:t,onZoomTarget:i})=>{const[r,s]=$.useState(!1),[o,l]=$.useState(""),[c,d]=$.useState(!1),[u,h]=$.useState(!1),p=async()=>{s(!0);const m=["ACCESSING NAVAL INTELLIGENCE BASE...","RETRIEVING SATELLITE IMAGERY (SECTOR 7)...","DECRYPTING PORT TRAFFIC DATA...","VERIFYING COASTAL SURVEILLANCE...","LOADING VISUAL INTELLIGENCE..."];for(let C=0;C<m.length;C++)l(m[C]),await new Promise(v=>setTimeout(v,600));s(!1),l(""),h(!0)};return n?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>d(!1),title:"Expand Ormara Sidebar",style:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",background:"rgba(0, 0, 0, 0.9)",border:"1px solid #00ffaa",borderRight:"none",borderRadius:"4px 0 0 4px",color:"#00ffaa",fontSize:"18px",cursor:"pointer",padding:"15px 8px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.4s ease-in-out",zIndex:499,opacity:c?1:0,pointerEvents:c?"auto":"none"},onMouseEnter:m=>{m.currentTarget.style.background="rgba(0, 255, 170, 0.2)"},onMouseLeave:m=>{m.currentTarget.style.background="rgba(0, 0, 0, 0.9)"},children:f.jsx(LS,{})}),f.jsx("button",{onClick:()=>d(!0),title:"Minimize Sidebar",style:{position:"absolute",right:c?"-50px":"350px",top:"50%",transform:"translateY(-50%)",background:"rgba(0, 0, 0, 0.9)",border:"1px solid #00ffaa",borderRight:"none",borderRadius:"4px 0 0 4px",color:"#00ffaa",fontSize:"14px",cursor:"pointer",padding:"12px 8px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.4s ease-in-out",zIndex:501,opacity:c?0:1,pointerEvents:c?"none":"auto"},onMouseEnter:m=>{m.currentTarget.style.background="rgba(0, 255, 170, 0.2)"},onMouseLeave:m=>{m.currentTarget.style.background="rgba(0, 0, 0, 0.9)"},children:f.jsx(C5,{})}),f.jsxs("div",{style:{position:"absolute",top:0,right:c?"-350px":"0px",width:"350px",height:"100vh",background:"rgba(0, 5, 10, 0.95)",color:"white",padding:"20px",boxSizing:"border-box",zIndex:500,fontFamily:"monospace",overflow:"auto",transition:"right 0.4s ease-in-out",borderLeft:"2px solid #00ffaa"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",borderBottom:"1px solid #00ffaa33",paddingBottom:"15px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[f.jsx(WT,{style:{color:"#00ffaa",fontSize:"20px"}}),f.jsx("h2",{style:{color:"#00ffaa",fontSize:"18px",margin:0,letterSpacing:"2px",textTransform:"uppercase"},children:"ORMARA INTELLIGENCE"})]}),f.jsx("button",{onClick:e,style:{background:"none",border:"none",color:"white",fontSize:"20px",cursor:"pointer",padding:"5px"},children:""})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"20px"},children:[f.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#00ffaa",animation:"pulse 1.5s ease-in-out infinite alternate"}}),f.jsx("span",{style:{fontSize:"12px",color:"#00ffaa"},children:"SECURE LINK ACTIVE"})]}),f.jsxs("div",{style:{marginBottom:"25px"},children:[f.jsx("div",{style:{color:"#00ffaa",fontSize:"12px",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"1px",display:"flex",alignItems:"center",gap:"6px"},children:" TARGET SECTOR"}),f.jsx("div",{style:{background:"rgba(0, 255, 170, 0.1)",padding:"12px",borderRadius:"4px",fontSize:"15px",lineHeight:"1.4",fontWeight:"bold"},children:"Strategic Naval Sector including Jinnah Naval Base and Ormara Coastline. Primary hub for maritime overwatch."})]}),f.jsx("div",{style:{marginBottom:"25px"},children:f.jsxs("div",{onClick:p,style:{width:"100%",height:"120px",background:"linear-gradient(45deg, #001122, #002233)",borderRadius:"4px",position:"relative",overflow:"hidden",cursor:"pointer",border:"1px solid transparent",transition:"all 0.3s ease"},onMouseEnter:m=>{m.currentTarget.style.border="1px solid #00ffaa",m.currentTarget.style.background="linear-gradient(45deg, #001133, #003344)"},onMouseLeave:m=>{m.currentTarget.style.border="1px solid transparent",m.currentTarget.style.background="linear-gradient(45deg, #001122, #002233)"},children:[f.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"24px",color:"#00ffaa",opacity:.7},children:""}),f.jsx("div",{style:{position:"absolute",top:"8px",right:"8px",fontSize:"10px",color:"#00ffaa",opacity:.8},children:"CLICK TO VIEW GALLERY"}),f.jsx("div",{style:{position:"absolute",bottom:"8px",left:"8px",fontSize:"10px",color:"#00ffaa"},children:"SOURCE: NAVAL SURVEILLANCE FEED - ORMARA"})]})}),f.jsxs("div",{style:{marginBottom:"25px"},children:[f.jsxs("div",{style:{color:"#00ffaa",fontSize:"12px",marginBottom:"12px",textTransform:"uppercase",letterSpacing:"1px",display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx(QT,{})," TACTICAL NAVIGATION"]}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"10px"},children:[{label:"JINNAH NAVAL BASE (PORT)",lon:64.683,lat:25.185,height:3500,icon:f.jsx(ZT,{})},{label:"ORMARA AIRSTRIP",lon:64.646,lat:25.215,height:2500,icon:f.jsx(XT,{})},{label:"COASTAL DEFENSE GRID",lon:64.674,lat:25.201,height:15e3,icon:f.jsx(w5,{})},{label:"DEEP SEA OVERWATCH",lon:64.7,lat:25.1,height:8e4,icon:f.jsx(t_,{})}].map((m,C)=>f.jsxs("div",{onClick:()=>i(m.lon,m.lat,m.height),style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 15px",background:"rgba(0, 255, 170, 0.05)",border:"1px solid rgba(0, 255, 170, 0.2)",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s ease",fontSize:"11px",color:"#e0e0e0"},onMouseEnter:v=>{v.currentTarget.style.background="rgba(0, 255, 170, 0.15)",v.currentTarget.style.borderColor="#00ffaa"},onMouseLeave:v=>{v.currentTarget.style.background="rgba(0, 255, 170, 0.05)",v.currentTarget.style.borderColor="rgba(0, 255, 170, 0.2)"},children:[f.jsx("span",{style:{color:"#00ffaa"},children:m.icon}),f.jsx("span",{style:{fontWeight:"bold",letterSpacing:"1px"},children:m.label})]},C))})]}),f.jsx("button",{onClick:t,style:{width:"100%",background:"rgba(0, 255, 170, 0.2)",border:"1px solid #00ffaa",color:"#00ffaa",padding:"12px",borderRadius:"4px",fontSize:"12px",cursor:"pointer",marginBottom:"15px",textTransform:"uppercase",letterSpacing:"1px"},children:" VIEW COMMAND STRUCTURE"}),f.jsx("button",{style:{width:"100%",background:"#00ffaa",color:"#000",border:"none",padding:"15px",borderRadius:"4px",fontSize:"12px",cursor:"pointer",marginBottom:"25px",textTransform:"uppercase",letterSpacing:"1px",fontWeight:"bold"},children:" ENTER INTEL WORKSPACE"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px"},children:[f.jsxs("div",{children:[f.jsx("div",{style:{fontSize:"10px",color:"#888",marginBottom:"5px",textTransform:"uppercase"},children:"Base Capacity"}),f.jsx("div",{style:{color:"#00ffaa",fontSize:"18px",fontWeight:"bold"},children:"DEEP SEA"})]}),f.jsxs("div",{children:[f.jsx("div",{style:{fontSize:"10px",color:"#888",marginBottom:"5px",textTransform:"uppercase"},children:"Coastline"}),f.jsx("div",{style:{color:"#00ffaa",fontSize:"18px",fontWeight:"bold"},children:"120 KM"})]}),f.jsxs("div",{children:[f.jsx("div",{style:{fontSize:"10px",color:"#888",marginBottom:"5px",textTransform:"uppercase"},children:"Defense"}),f.jsx("div",{style:{color:"#00ff00",fontSize:"18px",fontWeight:"bold"},children:"FORTIFIED"})]}),f.jsxs("div",{children:[f.jsx("div",{style:{fontSize:"10px",color:"#888",marginBottom:"5px",textTransform:"uppercase"},children:"Readiness"}),f.jsx("div",{style:{color:"#00ff00",fontSize:"18px",fontWeight:"bold"},children:"OPTIMAL"})]})]}),f.jsxs("div",{style:{borderTop:"1px solid #333",paddingTop:"15px",fontSize:"10px",color:"#555"},children:[f.jsx("div",{children:"JINNAH.V.3.1.2"}),f.jsx("div",{children:" SECURE NAVAL CONNECTION"})]}),f.jsx("style",{children:`
            @keyframes pulse {
              from { opacity: 1; }
              to { opacity: 0.3; }
            }
          `}),r&&f.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.95)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:15e3,fontFamily:"monospace"},children:[f.jsx("div",{style:{color:"#00ffaa",fontSize:"24px",marginBottom:"30px",letterSpacing:"3px",textTransform:"uppercase"},children:"ORMARA VISUAL INTELLIGENCE"}),f.jsx("div",{style:{color:"#ffff00",fontSize:"16px",marginBottom:"40px",animation:"pulse 1.5s ease-in-out infinite alternate",textAlign:"center",minHeight:"20px"},children:o}),f.jsx("div",{style:{width:"300px",height:"2px",background:"rgba(0, 255, 170, 0.3)",borderRadius:"1px",overflow:"hidden",position:"relative"},children:f.jsx("div",{style:{width:"100px",height:"100%",background:"linear-gradient(90deg, transparent, #00ffaa, transparent)",animation:"loading 2s linear infinite"}})})]})]}),f.jsx(TP,{isVisible:u,onClose:()=>h(!1)})]}):null},RP=[{filename:"CONFIDENTIAL_13th_JCC_Minutes_Signed.pdf",type:"MEMO",date:"2025-01-15",description:"Classified minutes from 13th Joint Cooperation Committee meeting with signed agreements.",tag:"JCC",tagColor:"#00ffff",decryptedContent:" KEY POINTS: Agreement on ML-1 cost revision from $6.8B to $5.2B. Chinese side committed to 90% financing. New SEZ locations approved: Rashakai, Dhabeji, Bostan. Next JCC scheduled for Beijing, March 2025."},{filename:"ML-1_Railway_Cost_Rationalization_Final_v3.xlsx",type:"REPORT",date:"2025-01-14",description:"Final cost breakdown and rationalization report for ML-1 Railway upgradation project.",tag:"Infrastructure",tagColor:"#ff6600",decryptedContent:" SUMMARY: Total revised cost: PKR 1.53 Trillion. Phase-I (Karachi-Multan): $2.7B. Phase-II (Multan-Lahore-Peshawar): $2.5B. Local component: 10%. Completion target: 2030. 171 stations to be upgraded."},{filename:"CPEC_2.0_Concept_Paper_Agri_and_IT_Focus.docx",type:"BRIEF",date:"2025-01-12",description:"Strategic concept paper outlining CPEC Phase 2 with focus on agriculture and IT sectors.",tag:"Strategy",tagColor:"#00ff00",decryptedContent:" CPEC 2.0 PILLARS: 1) Agricultural cooperation - seed technology transfer, cold chain logistics. 2) IT Parks in 5 cities. 3) Tech skill development for 50,000 youth. 4) E-commerce corridor integration with Alibaba."},{filename:"Talking_Points_Press_Conference_Nov_26.pdf",type:"MEMO",date:"2025-01-10",description:"Prepared talking points for ministerial press conference on CPEC progress.",tag:"Media",tagColor:"#ffff00",decryptedContent:" APPROVED MESSAGING: Emphasize $25B completed projects. Avoid debt trap narrative - highlight concessional loans. Do NOT discuss Thar coal delays. Redirect Gwadar questions to development narrative."},{filename:"Letter_to_NDRC_Chairman_Re_Debt_Restructuring.pdf",type:"WIRE",date:"2025-01-08",description:"Official correspondence to NDRC Chairman regarding debt restructuring proposals.",tag:"Finance",tagColor:"#ff4444",decryptedContent:" REQUEST: Extension of repayment timeline for IPP loans from 10 to 20 years. Reduction of interest rate from 5.2% to 2.5%. Conversion of $4.2B debt to equity stake in power projects. Response pending."},{filename:"Gwadar_Smart_Port_City_Masterplan_Update_2025.pptx",type:"BRIEF",date:"2025-01-06",description:"Updated masterplan presentation for Gwadar Smart Port City development.",tag:"Gwadar",tagColor:"#00ffff",decryptedContent:" PLAN: 2,292 acres allocated for Smart City. New airport operational by Q3 2025. Desalination plant capacity: 5 MGD. Hospital, university, and vocational center under construction. Population target: 500,000 by 2035."},{filename:"PSDP_2025-26_CPEC_Allocation_Summary.xlsx",type:"REPORT",date:"2025-01-05",description:"Public Sector Development Programme allocation summary for CPEC projects FY 2025-26.",tag:"Budget",tagColor:"#ff6600",decryptedContent:" ALLOCATIONS: Total PSDP for CPEC: PKR 89.5B. Roads & Highways: 42%. Rail: 28%. Power: 18%. SEZs: 7%. Gwadar: 5%. Shortfall from previous year: PKR 23B (to be covered by supplementary grant)."},{filename:"Security_Protocols_Chinese_Engineers_Dasu_Review.pdf",type:"INTEL",date:"2025-01-03",description:"Security protocol review for Chinese engineers at Dasu Hydropower Project.",tag:"Security",tagColor:"#ff4444",decryptedContent:" THREAT LEVEL: ELEVATED. Current deployment: 2 SSG battalions, 500 FC personnel. Recommended: Additional sniper teams, drone surveillance expansion. Chinese workers restricted to compound. Convoy protocols updated post-2021 incident."},{filename:"Transition_Plan_Post_CPEC_Authority_Dissolution.docx",type:"MEMO",date:"2025-01-02",description:"Internal transition plan following dissolution of CPEC Authority.",tag:"Admin",tagColor:"#888888",decryptedContent:" RESTRUCTURING: All functions transferred to Planning Ministry. Staff retention: 65%. New CPEC Wing established. Budget reallocated. Chinese counterparts notified. PM directive: Ensure zero disruption to ongoing projects."},{filename:"Meeting_Brief_PM_Shehbaz_Visit_Beijing.pdf",type:"BRIEF",date:"2025-01-01",description:"Classified briefing document for PM visit to Beijing bilateral meetings.",tag:"Diplomatic",tagColor:"#00ff00",decryptedContent:" AGENDA: 1) Request $2B emergency loan. 2) ML-1 groundbreaking ceremony. 3) New energy projects (Kohala, Azad Pattan). 4) Discuss Xinjiang security cooperation. 5) BRI summit invitation. Meeting with Xi Jinping confirmed."}],PP=[{filename:"Audit_Report_CPEC_Energy_Arrears_Optimization.xlsx",type:"REPORT",date:"2025-11-20",description:"Comprehensive audit report on billions owed to Chinese power producers under CPEC energy projects.",tag:"Finance",tagColor:"#ff4444",decryptedContent:" ARREARS AUDIT: Total owed to Chinese IPPs: $2.47B. Breakdown: Huaneng Sahiwal ($412M), Port Qasim ($389M), China Power Hub ($298M), SPIC Thar ($267M), Others ($1.1B). Payment delays: Avg 14 months. Interest accrued: $187M. Recommendation: Immediate settlement of 40% via sovereign bonds, remaining via tariff surcharge. Risk: Project suspension threats from 3 IPPs."},{filename:"List_of_Industries_for_Relocation_to_Rashakai_SEZ.xls",type:"INTEL",date:"2025-11-18",description:"Master list of Chinese industries approved for relocation to Rashakai Special Economic Zone, KP.",tag:"SEZ",tagColor:"#00ff00",decryptedContent:" RASHAKAI RELOCATION LIST: Total approved: 38 enterprises. Textiles: 14 (Zhejiang cluster). Steel processing: 8 (Hebei relocations). Electronics assembly: 6. Pharmaceuticals: 4. Ceramics: 3. Auto parts: 3. Total investment: $1.8B. Jobs: 28,000. Status: 12 operational, 18 under construction, 8 pending utilities. Key bottleneck: Gas supply (only 15 MMCFD available vs 50 needed)."},{filename:"ML-1_Railway_Financing_Model_RMB_vs_USD.pptx",type:"BRIEF",date:"2025-11-15",description:"Comparative financing model analysis for ML-1 Railway in RMB vs USD denomination.",tag:"Infrastructure",tagColor:"#00ffff",decryptedContent:" FINANCING ANALYSIS: Option A (USD): $5.2B at 2.5% LIBOR+spread, 20yr tenure. Risk: PKR depreciation (projected 8% annual). Option B (RMB): 37.4B at 2.0% fixed. Benefit: Shields from USD volatility, aligns with bilateral swap. NDRC preference: RMB (60/40 split). Pakistan concern: RMB convertibility. Recommendation: Hybrid model with 60% RMB, 40% USD. Savings estimate: $340M over project life."},{filename:"Feasibility_Review_Cross_Border_Fiber_Optic_Phase2.pdf",type:"REPORT",date:"2025-11-12",description:"Feasibility review for Phase 2 of China-Pakistan cross-border fiber optic cable project.",tag:"Digital",tagColor:"#ffff00",decryptedContent:" FIBER OPTIC PHASE-2: Route: Kashgar-Khunjerab-Islamabad-Karachi (2,950km). Capacity: 100 Tbps (upgrade from 40 Tbps). Investment: $285M. Chinese stake: 70% (China Telecom). Strategic value: Alternative to submarine cables (India bypass). Completion: 2027. Side benefit: 5G backbone for northern Pakistan. Security: Dedicated military channel (encrypted)."},{filename:"Meeting_Minutes_Ahsan_Iqbal_Beijing_Visit_Oct2025.docx",type:"MEMO",date:"2025-11-10",description:"Official minutes from Planning Minister Ahsan Iqbal bilateral meetings in Beijing.",tag:"Diplomatic",tagColor:"#00ff00",decryptedContent:" MEETING MINUTES (Oct 15-18, 2025): Attendees: Min. Ahsan Iqbal, Chairman Zheng Shanjie + delegations. Key outcomes: 1) ML-1 groundbreaking confirmed Q1 2026. 2) $800M immediate disbursement approved. 3) SEZ gas supply escalated to State Council. 4) Debt restructuring: Partial acceptance ($4.2B eligible). 5) New MOU on agricultural cooperation signed. Pakistani ask (deferred): Interest rate reduction on IPP loans. Next meeting: JCC-14, Beijing, March 2026."},{filename:"Risk_Assessment_Thar_Coal_Gasification_Project.pdf",type:"INTEL",date:"2025-11-08",description:"Risk assessment for proposed Thar coal-to-gas conversion project.",tag:"Energy",tagColor:"#ff6600",decryptedContent:" RISK ASSESSMENT: Project: Thar Coal Gasification (Block VI). Capacity: 1.2 BCF/day synthetic gas. Investment: $3.8B. Technology: Shanghai Electric (licensed). Risks: HIGH - Environmental (carbon capture cost +40%), Technical (coal quality variability), Financial (competing LNG prices). Water requirement: 50 MGD (critical in desert). Chinese recommendation: Defer to 2028, prioritize solar/wind instead. Pakistan position: Proceed (energy security)."},{filename:"NDRC_Opinion_on_Mainline-1_Cost_Rationalization.doc",type:"MEMO",date:"2025-11-05",description:"NDRC internal opinion document on ML-1 Railway cost rationalization proposal.",tag:"Rail",tagColor:"#00ffff",decryptedContent:" NDRC OPINION: Subject: ML-1 Cost Reduction ($6.8B  $5.2B). Assessment: ACCEPTABLE with conditions. Scope changes approved: Design speed 160km/h (from 200), 3 phases (from 4), simplified stations. Concerns: Pakistan Railways O&M capacity, traffic projections optimistic. Conditions: 1) Phase-wise disbursement tied to milestones. 2) Chinese contractor mandatory for civil works. 3) Technology transfer limited to operations only. Approval: Vice Chairman signed Nov 3, 2025."},{filename:"Map_Industrial_Cooperation_Zones_Punjab_Sindh.jpg",type:"INTEL",date:"2025-11-02",description:"Strategic map showing planned industrial cooperation zones across Punjab and Sindh provinces.",tag:"SEZ",tagColor:"#00ff00",decryptedContent:" INDUSTRIAL ZONES MAP: Punjab: 1) Allama Iqbal (Faisalabad) - Textiles, 420 acres, 65% occupied. 2) M-3 Industrial City - Mixed, 1,500 acres, 30% developed. 3) Quaid-e-Azam Apparel Park - Garments, 200 acres. Sindh: 1) Dhabeji SEZ - Heavy industry, 1,530 acres, utilities pending. 2) Bin Qasim Industrial Park - Petrochemicals, 350 acres. Chinese investment committed: $4.2B across zones. Employment target: 150,000 by 2030."},{filename:"Report_on_Gwadar_Free_Zone_Tax_Exemptions_Status.pdf",type:"REPORT",date:"2025-10-28",description:"Status report on tax exemptions and incentives implementation in Gwadar Free Zone.",tag:"Gwadar",tagColor:"#00ffff",decryptedContent:" TAX EXEMPTION STATUS: Gwadar Free Zone incentives: 23-year tax holiday (income tax, customs, sales tax). Implementation: PARTIAL. Issues: 1) Provincial vs Federal jurisdiction disputes (3 cases pending). 2) Customs clearance delays (avg 12 days vs promised 48 hrs). 3) Banking restrictions (forex controls). Chinese enterprises affected: 18 (operations delayed). COPHC complaint: Formal note submitted. Resolution: Task force formed, PM directive issued. Target: Full compliance by March 2026."},{filename:"Comparison_CPEC_vs_China_Myanmar_Corridor_ROI.xlsx",type:"REPORT",date:"2025-10-25",description:"Comparative ROI analysis between CPEC and China-Myanmar Economic Corridor investments.",tag:"Strategy",tagColor:"#ff6600",decryptedContent:" CORRIDOR COMPARISON: CPEC - Investment: $62B (committed), $28B (disbursed). ROI: 3.8% (projected). Completion: 67%. Risk: MODERATE-HIGH (security, debt). Strategic value: VERY HIGH (Indian Ocean access). CMEC - Investment: $24B (committed), $9B (disbursed). ROI: 4.5% (projected). Completion: 45%. Risk: HIGH (political instability, sanctions). Strategic value: HIGH (Bay of Bengal access). NDRC assessment: CPEC remains priority corridor despite higher costs. Recommendation: Maintain CPEC flagship status, accelerate CMEC selectively."}],IP=[{filename:"CPEC_Financing_Restructuring_Proposal_PM_Briefing.pdf",type:"BRIEF",date:"2025-01-18",description:"Prime Minister briefing on proposed restructuring of CPEC financing arrangements with Chinese counterparts.",tag:"Finance",tagColor:"#ff4444",decryptedContent:" PM BRIEF: Seeking $8.5B debt restructuring. Proposed: 10-year extension on IPP loans, interest rate reduction to 2%. Chinese response: Partial acceptance ($4.2B eligible). Condition: No sovereign default. IMF coordination required. Cabinet approval pending."},{filename:"PM_Xi_Jinping_Call_Summary_Jan_2025.docx",type:"WIRE",date:"2025-01-16",description:"Summary of PM telephonic conversation with President Xi Jinping on CPEC progress and bilateral ties.",tag:"Diplomatic",tagColor:"#00ff00",decryptedContent:" CALL SUMMARY: Duration: 35 minutes. Topics: ML-1 groundbreaking (confirmed Q1 2025), Gwadar development, security cooperation. Xi expressed concern on project delays. PM assured expedited land acquisition. Invitation to visit Beijing: Accepted for March 2025."},{filename:"Cabinet_Decision_CPEC_Authority_Dissolution.pdf",type:"MEMO",date:"2025-01-14",description:"Official cabinet decision document dissolving CPEC Authority and transferring functions.",tag:"Admin",tagColor:"#ffff00",decryptedContent:" CABINET DECISION: CPEC Authority dissolved effective Feb 1, 2025. Functions transferred to Planning Ministry. Reason: Streamlining, cost-cutting. Chinese side notified. Key staff retained. New CPEC Wing under Ahsan Iqbal. Budget: PKR 450M (reduced from 1.2B)."},{filename:"SIFC_CPEC_Integration_Framework_Draft.pptx",type:"BRIEF",date:"2025-01-12",description:"Draft framework for integrating CPEC projects under Special Investment Facilitation Council oversight.",tag:"SIFC",tagColor:"#00ffff",decryptedContent:" SIFC-CPEC INTEGRATION: Army-led facilitation for Chinese investors. Fast-track approvals: 72 hours. Security guarantees enhanced. SEZ land allocation: SIFC priority. Chinese Ambassador briefed. Goal: Restore investor confidence post-2023 incidents."},{filename:"Emergency_Loan_Request_to_China_Development_Bank.pdf",type:"WIRE",date:"2025-01-10",description:"Official request for emergency loan from China Development Bank to support forex reserves.",tag:"Finance",tagColor:"#ff4444",decryptedContent:" EMERGENCY REQUEST: Amount: $2B. Purpose: Forex reserve support (current: $8.1B). Terms requested: 1-year rollover, 3% interest. Collateral: Future Gwadar revenue. Status: Under CDB review. Finance Ministry coordination. IMF notification: Required within 7 days."},{filename:"PM_Directive_ML1_Land_Acquisition_Priority.pdf",type:"MEMO",date:"2025-01-08",description:"Prime Minister directive to provincial governments on expediting ML-1 railway land acquisition.",tag:"Infrastructure",tagColor:"#ff6600",decryptedContent:" PM DIRECTIVE: All provinces to complete ML-1 land acquisition by March 2025. Punjab: 340km (65% done). Sindh: 280km (45% done). Compensation: Market rate + 25%. Legal challenges to be resolved via ordinance. Weekly progress reports mandatory."},{filename:"National_Security_Committee_CPEC_Security_Review.pdf",type:"INTEL",date:"2025-01-06",description:"National Security Committee review of security arrangements for CPEC projects and Chinese personnel.",tag:"Security",tagColor:"#ff4444",decryptedContent:" NSC REVIEW: Chinese personnel: 7,850 in-country. Threat level: ELEVATED (Balochistan), MODERATE (elsewhere). SSG deployment: 4 battalions dedicated. Drone surveillance: Expanded to 12 sites. Chinese request: Joint security operations. Decision: Approved for Gwadar only."},{filename:"Strategic_Talking_Points_SCO_Summit_CPEC.docx",type:"BRIEF",date:"2025-01-04",description:"Strategic talking points for PM regarding CPEC discussions at upcoming SCO Summit.",tag:"Strategy",tagColor:"#00ff00",decryptedContent:" SCO TALKING POINTS: Highlight CPEC as BRI flagship. Counter Indian narrative on debt trap. Emphasize: $25B completed, 100K jobs created. Avoid: Circular debt discussion, security incidents. Push: Regional connectivity via CPEC extension to Central Asia."},{filename:"PM_Visit_Gwadar_Briefing_Package_Complete.pdf",type:"BRIEF",date:"2025-01-02",description:"Complete briefing package for PM official visit to Gwadar Port and Free Zone.",tag:"Gwadar",tagColor:"#00ffff",decryptedContent:" VISIT BRIEF: Date: Jan 15, 2025. Itinerary: Port facility, New Airport (95% complete), Desalination Plant, Free Zone. Inaugurations: Vocational Center, 300-bed Hospital. Meetings: Chinese Ambassador, COPHC CEO. Media: Controlled access. Security: Red Zone protocols."},{filename:"Bilateral_Agreement_Draft_CPEC_Phase2_Framework.pdf",type:"MEMO",date:"2025-01-01",description:"Draft bilateral agreement framework for CPEC Phase 2 covering agriculture, IT, and science cooperation.",tag:"Agreement",tagColor:"#00ff00",decryptedContent:" PHASE 2 FRAMEWORK: Pillars: Agriculture ($5B), IT Parks ($2B), Science & Tech ($1.5B). New corridors: Green CPEC (renewables), Digital CPEC. Timeline: 2025-2030. Signing target: PM Beijing visit March 2025. Legal review: Complete. Chinese draft: Received and aligned."}],DP=[{filename:"PSDP_Releases_Q3_2025_CPEC_Projects.xlsx",type:"REPORT",date:"2025-10-15",description:"Quarterly PSDP release statement for CPEC projects showing disbursement status and utilization.",tag:"Budget",tagColor:"#ff6600",decryptedContent:" Q3 RELEASES: Total allocated: PKR 89.5B. Released: PKR 52.3B (58%). Utilization: 71%. Top performers: KKH Phase-II (92%), Gwadar Airport (88%). Lagging: SEZ Infrastructure (34%), ML-1 Land (28%). Recommendation: Expedite releases for priority projects."},{filename:"PC-1_Approval_Thakot_Raikot_KKH_Phase_2.pdf",type:"MEMO",date:"2025-10-12",description:"PC-1 approval document for Thakot-Raikot section of Karakoram Highway Phase 2 upgradation.",tag:"Infrastructure",tagColor:"#00ffff",decryptedContent:" PC-1 APPROVED: Project: KKH Thakot-Raikot (136km). Total cost: PKR 198B ($710M). Chinese financing: 85%. Timeline: 4 years. Contractor: CRBC. Key features: 4-lane dual carriageway, 12 tunnels, 36 bridges. ECNEC approval: Pending."},{filename:"Summary_for_ECNEC_ML1_Revised_Cost.doc",type:"BRIEF",date:"2025-10-08",description:"Summary prepared for ECNEC consideration on ML-1 Railway revised cost estimates.",tag:"Rail",tagColor:"#00ff00",decryptedContent:" ECNEC SUMMARY: Original cost (2017): $8.2B. Current estimate: $5.2B (-36%). Scope reduction: 4 sections to 3. Design speed: 160 km/h (reduced from 200). Chinese concessional loan: 90%. Local component: PKR 115B. ECNEC decision: APPROVED with conditions."},{filename:"Internal_Memo_CPEC_Secretariat_Staffing_Reorganization.pdf",type:"MEMO",date:"2025-10-05",description:"Internal memo on CPEC Secretariat staffing changes following Authority dissolution.",tag:"Admin",tagColor:"#888888",decryptedContent:" REORGANIZATION: Total positions: 87  54. Retained: 62%. Key transfers: 12 to Planning Division, 8 to BOI, 6 to Finance. Redundancies: 21 (VRS offered). New structure: 4 wings (Infrastructure, Energy, SEZ, Coordination). Effective: Feb 2025."},{filename:"Audit_Objections_Orange_Line_Subsidy_Draft_Reply.docx",type:"REPORT",date:"2025-10-02",description:"Draft reply to AGP audit objections on Orange Line Metro operational subsidy payments.",tag:"Audit",tagColor:"#ff4444",decryptedContent:" AUDIT RESPONSE: Objections: 14 (PKR 8.2B subsidy questioned). Key issues: No competitive bidding for O&M, excess fare subsidy, non-recovery of penalties. Defense: Emergency procurement justified, ridership below projection (65K vs 250K target). Status: PAC hearing scheduled."},{filename:"Meeting_Notice_Central_Development_Working_Party_CDWP.pdf",type:"MEMO",date:"2025-09-28",description:"CDWP meeting notice for review of CPEC infrastructure projects requiring approval.",tag:"Approval",tagColor:"#ffff00",decryptedContent:" CDWP AGENDA (Oct 2025): 1) Gwadar Eastbay Expressway Phase-II (PKR 28B). 2) Rashakai SEZ Utilities (PKR 12B). 3) Thar Coal Rail Link (PKR 45B). 4) Kohala Hydropower (revised PC-I). Quorum: Deputy Chairman + 8 members. Venue: Planning Commission."},{filename:"Funds_Surrender_Reappropriation_Statement_FY25.xls",type:"REPORT",date:"2025-09-25",description:"Statement of surrendered and reappropriated funds for CPEC projects FY 2024-25.",tag:"Finance",tagColor:"#ff6600",decryptedContent:" SURRENDER STATEMENT: Total surrendered: PKR 18.7B. Reasons: Land acquisition delays (42%), contractor issues (28%), security (18%), approvals pending (12%). Reappropriation: PKR 11.2B to priority projects. Net lapse: PKR 7.5B. Finance Ministry notification: Submitted."},{filename:"Circular_Debt_Payment_Priority_List_Chinese_IPPs.xlsx",type:"INTEL",date:"2025-09-20",description:"Priority list for circular debt payments to Chinese Independent Power Producers.",tag:"Energy",tagColor:"#ff4444",decryptedContent:" PAYMENT PRIORITY: Total owed to Chinese IPPs: PKR 485B ($1.74B). Priority 1: Port Qasim (PKR 89B). Priority 2: Sahiwal (PKR 72B). Priority 3: Hub Power (PKR 65B). Payment schedule: 6 tranches over 18 months. Chinese condition: No new arrears accumulation."},{filename:"Scan_Letter_Ministry_Finance_Sovereign_Guarantees.jpg",type:"WIRE",date:"2025-09-15",description:"Scanned letter from Ministry of Finance regarding sovereign guarantee issuance for new CPEC loans.",tag:"Guarantee",tagColor:"#00ff00",decryptedContent:" MOF POSITION: New sovereign guarantees: RESTRICTED (IMF conditionality). Existing guarantees: $12.4B (CPEC only). Proposed ML-1 guarantee: $4.7B (requires Cabinet approval). Finance Secretary recommendation: Partial guarantee with provincial co-guarantee. Timeline: 45 days for processing."},{filename:"Presentation_Planning_Commission_Annual_Review.pptx",type:"BRIEF",date:"2025-09-10",description:"Annual review presentation on CPEC progress for Planning Commission leadership.",tag:"Review",tagColor:"#00ffff",decryptedContent:" ANNUAL REVIEW: Projects completed: 32 ($19.5B). Ongoing: 18 ($8.7B). Pipeline: 24 ($33.8B). Employment generated: 236,000 (direct + indirect). Power added: 5,320 MW. Roads: 886 km. Challenges: Debt servicing, security, land acquisition. Outlook: Phase-2 acceleration required."}],MP=[{filename:"Master_Tracker_CPEC_Projects_Status_Nov_2025.xlsx",type:"REPORT",date:"2025-11-25",description:"Master tracker spreadsheet showing status of all 74 CPEC projects with completion percentages.",tag:"Tracker",tagColor:"#00ffff",decryptedContent:" PROJECT STATUS: Total projects: 74. Completed: 32 (43%). Ongoing: 26 (35%). Pipeline: 16 (22%). On track: 18. Delayed: 8. Critical: Kohala HPP (land issues), ML-1 (financing), Gwadar Airport (commissioning). Overall health: AMBER. Next review: Dec 15."},{filename:"Site_Visit_Report_Suki_Kinari_Hydropower_Progress_98%.pdf",type:"REPORT",date:"2025-11-22",description:"Site visit report on Suki Kinari Hydropower Project showing 98% physical progress.",tag:"Energy",tagColor:"#00ff00",decryptedContent:" SITE REPORT: Project: Suki Kinari HPP (884 MW). Progress: 98%. Location: Kaghan Valley, KP. Contractor: CGGC. Investment: $1.96B. Commissioning: Q1 2026. Issues: Transmission line (NTDC delay). Recommendation: Expedite grid connectivity. Chinese team: Satisfied with progress."},{filename:"Feasibility_Study_Dhabeji_SEZ_Water_Supply.pdf",type:"BRIEF",date:"2025-11-18",description:"Feasibility study for water supply infrastructure to Dhabeji Special Economic Zone.",tag:"SEZ",tagColor:"#ffff00",decryptedContent:" FEASIBILITY: Dhabeji SEZ water demand: 15 MGD (Phase-1), 40 MGD (full build-out). Source: Hub Dam + desalination. Cost: PKR 8.5B. Timeline: 24 months. Sindh Govt contribution: 40%. Federal: 60%. Status: PC-1 under preparation. Chinese investor concern: Water availability critical for textile units."},{filename:"Meeting_Minutes_Joint_Working_Group_Transport_Infrastructure.docx",type:"MEMO",date:"2025-11-15",description:"Minutes from Joint Working Group meeting on transport infrastructure projects.",tag:"JWG",tagColor:"#00ffff",decryptedContent:" JWG MINUTES: Attendees: 12 (PK: 7, CN: 5). Agenda: ML-1 progress, KKH Phase-II, Gwadar-Quetta road. Decisions: ML-1 groundbreaking confirmed Dec 2025. KKH contractor mobilization: Jan 2026. Gwadar road: Feasibility revision requested. Next JWG: Beijing, Feb 2026."},{filename:"Data_Sheet_Gwadar_Port_Throughput_Cargo_Stats.xls",type:"REPORT",date:"2025-11-12",description:"Data sheet with Gwadar Port cargo throughput statistics and vessel movement data.",tag:"Gwadar",tagColor:"#00ffff",decryptedContent:" PORT DATA: YTD throughput: 1.4M tons. Containers: 52,000 TEUs. Vessel calls: 165. Bulk cargo: 78%. Afghan transit: 22% (growing). Top commodities: Fertilizer, wheat, vehicles. Utilization: 28%. Target 2026: 2.5M tons. Constraint: Hinterland connectivity."},{filename:"Map_Route_Alignment_DI_Khan_Zhob_Road.png",type:"INTEL",date:"2025-11-08",description:"Route alignment map for DI Khan-Zhob road section of Western Route.",tag:"Western Route",tagColor:"#ff6600",decryptedContent:" ROUTE DETAILS: DI Khan-Zhob section: 210 km. Terrain: Mountainous (Sulaiman Range). Key features: 8 tunnels, 22 bridges. Estimated cost: $1.2B. Security assessment: HIGH RISK (TTP activity). Contractor: CSCEC (shortlisted). Timeline: 5 years. Land acquisition: 35% complete."},{filename:"Pending_Issues_Log_Rashakai_SEZ_Gas_Connection.docx",type:"MEMO",date:"2025-11-05",description:"Issues log tracking pending gas connection for Rashakai Special Economic Zone.",tag:"SEZ",tagColor:"#ff4444",decryptedContent:" PENDING ISSUES: Rashakai SEZ gas supply: CRITICAL. SNGPL commitment: 50 MMCFD. Current availability: 0. Bottleneck: 12km pipeline from Nowshera. Cost: PKR 2.8B (unfunded). Chinese investors: 8 units on hold pending gas. Escalation: PM level required. Deadline: March 2026."},{filename:"Presentation_Progress_Review_Meeting_PM_Office.pptx",type:"BRIEF",date:"2025-11-02",description:"Progress review presentation prepared for PM Office monthly review meeting.",tag:"Review",tagColor:"#00ff00",decryptedContent:" PM REVIEW: Key highlights: Suki Kinari 98%, Gwadar Airport 95%, KKH-II 72%. Concerns: ML-1 land (45%), SEZ utilities (delayed), circular debt (PKR 485B). Achievements: 5,320 MW added, 236K jobs. Ask: PKR 23B supplementary grant, gas for Rashakai. PM directive: Weekly monitoring."},{filename:"List_Chinese_Experts_Visa_Extension_Request.xlsx",type:"INTEL",date:"2025-10-28",description:"List of Chinese technical experts requiring visa extensions for CPEC projects.",tag:"Personnel",tagColor:"#ffff00",decryptedContent:" VISA REQUESTS: Total experts: 342. Projects: 18. Extensions needed: 287 (6-month). New visas: 55. Priority projects: ML-1 (89), Suki Kinari (45), Kohala (67). Processing time: 15-20 days. Interior Ministry coordination: Ongoing. Security clearance: 98% approved."},{filename:"Brief_B2B_Matchmaking_Textile_Sector.pdf",type:"BRIEF",date:"2025-10-25",description:"Brief on B2B matchmaking event for textile sector relocation to Pakistan SEZs.",tag:"Investment",tagColor:"#00ff00",decryptedContent:" B2B EVENT: Venue: Shenzhen, Dec 2025. Pakistani delegation: 45 companies. Chinese participants: 120+ textile manufacturers. Target: $500M investment commitments. SEZs promoted: Rashakai, Dhabeji, M-3 Faisalabad. Incentives: 10-year tax holiday, subsidized utilities. Follow-up: Site visits Jan 2026."}],NP=[{filename:"Diplomatic_Cypher_Meeting_with_Vice_Foreign_Minister_Sun_Weidong.pdf",type:"WIRE",date:"2025-11-26",description:"Encrypted diplomatic cable summarizing meeting with Chinese Vice Foreign Minister Sun Weidong.",tag:"Diplomatic",tagColor:"#ff4444",decryptedContent:" CYPHER SUMMARY: Meeting duration: 90 mins. Topics: Security cooperation, Uyghur repatriation requests, CPEC Phase-2. Chinese concerns: BLA attacks, slow project delivery. Pakistani ask: $2B loan, ML-1 financing. Outcome: Positive signals on loan, security MOU draft shared. Follow-up: FM level meeting Jan 2026."},{filename:"Briefing_Note_Debt_Profiling_Request_Exim_Bank.docx",type:"BRIEF",date:"2025-11-24",description:"Briefing note on Exim Bank request for comprehensive debt profiling of Pakistani CPEC loans.",tag:"Finance",tagColor:"#ff6600",decryptedContent:" DEBT PROFILE: Exim Bank request: Full disclosure of Pakistan debt obligations. Total CPEC debt: $19.3B. Exim Bank exposure: $12.1B. Repayment schedule: 2024-2040. Current arrears: $340M (IPPs). Pakistan response: Partial disclosure (citing IMF confidentiality). Exim concern: Debt sustainability."},{filename:"Schedule_Minister_Planning_Visit_Beijing_Dec2025.xlsx",type:"MEMO",date:"2025-11-22",description:"Detailed schedule for Planning Minister visit to Beijing in December 2025.",tag:"Visit",tagColor:"#00ffff",decryptedContent:" VISIT SCHEDULE: Dec 8-12, 2025. Day 1: Arrival, Embassy dinner. Day 2: NDRC meetings (ML-1, SEZs). Day 3: Exim Bank, China Development Bank. Day 4: Industrial park tours (Suzhou). Day 5: Signing ceremony, departure. Delegation: 12 officials. Accommodation: St. Regis Beijing."},{filename:"Report_Chinese_Social_Media_Sentiment_Pakistan_Security.pdf",type:"INTEL",date:"2025-11-20",description:"Intelligence report on Chinese social media sentiment regarding Pakistan security situation.",tag:"OSINT",tagColor:"#ff4444",decryptedContent:" SENTIMENT ANALYSIS: Platform: Weibo, WeChat. Period: Oct-Nov 2025. Mentions: 45,000+. Sentiment: 62% negative (security), 28% neutral, 10% positive. Key concerns: Worker safety, BLA attacks, Karachi incident. Trending hashtags: # (Pakistan Security). Recommendation: Proactive messaging campaign."},{filename:"Invitation_Belt_and_Road_Forum_2026.jpg",type:"MEMO",date:"2025-11-18",description:"Scanned official invitation for Belt and Road Forum 2026 addressed to PM Pakistan.",tag:"BRI",tagColor:"#00ff00",decryptedContent:' INVITATION: Event: 4th Belt and Road Forum. Date: May 14-16, 2026. Venue: Beijing National Convention Center. Invitee: PM Shehbaz Sharif (Head of State level). Theme: "High-Quality BRI Development". Pakistan slot: Keynote address (Day 2). RSVP deadline: Feb 2026. Protocol: Red carpet reception.'},{filename:"List_Pakistani_Students_stranded_Wuhan_Scholarships.xls",type:"REPORT",date:"2025-11-15",description:"List of Pakistani scholarship students facing issues in Wuhan universities.",tag:"Consular",tagColor:"#ffff00",decryptedContent:" STUDENT ISSUES: Total students (Wuhan): 2,340. Issues reported: 187. Categories: Scholarship delays (89), accommodation (45), visa renewal (32), medical (21). Universities: Wuhan University, HUST, CCNU. Embassy action: Note verbal sent to MFA. Resolution timeline: 30 days. Escalation: HEC coordination."},{filename:"Note_Verbal_Ministry_Foreign_Affairs_China_Security_Assurance.pdf",type:"WIRE",date:"2025-11-12",description:"Note verbal from Chinese MFA requesting enhanced security assurances for Chinese nationals.",tag:"Security",tagColor:"#ff4444",decryptedContent:" MFA NOTE VERBAL: Reference: 2025/BJ/4521. Subject: Security of Chinese nationals. Chinese demands: 1) Dedicated protection force expansion. 2) Real-time threat sharing. 3) Compensation framework for incidents. 4) Quarterly security reviews. Pakistan response: Draft under preparation. Deadline: Dec 15, 2025."},{filename:"Event_Plan_Pakistan_Culture_Week_Beijing.pptx",type:"BRIEF",date:"2025-11-08",description:"Event plan for Pakistan Culture Week celebration in Beijing.",tag:"Cultural",tagColor:"#00ff00",decryptedContent:' CULTURE WEEK: Dates: Jan 20-26, 2026. Venue: National Art Museum of China. Events: Art exhibition, food festival, fashion show, music concert. Budget: $180,000 (HQ approved). Expected attendance: 15,000+. VIP: Vice Premier (invited). Media coverage: CCTV, Xinhua confirmed. Theme: "75 Years of Friendship".'},{filename:"Profile_New_Chairman_China_Energy_Engineering_Corp.docx",type:"INTEL",date:"2025-11-05",description:"Intelligence profile on newly appointed Chairman of China Energy Engineering Corporation.",tag:"Profile",tagColor:"#00ffff",decryptedContent:" PROFILE: Name: Wang Jianguo. Position: Chairman, CEEC (Nov 2025). Age: 58. Background: SASAC, State Grid. Education: Tsinghua (Engineering). Pakistan exposure: Led Sahiwal Coal project (2015-2017). Assessment: Pro-Pakistan, pragmatic. Opportunity: Direct engagement on Thar Coal Phase-III. Meeting request: Submitted."},{filename:"Urgent_Cable_Coal_Import_Restrictions_Impact.pdf",type:"WIRE",date:"2025-11-02",description:"Urgent diplomatic cable on impact of Chinese coal import restrictions on Pakistani exports.",tag:"Trade",tagColor:"#ff6600",decryptedContent:' URGENT: China carbon policy restricting coal imports. Impact on Pakistan: $120M annual exports at risk. Affected: Thar coal (planned exports). Chinese position: Environmental commitments non-negotiable. Mitigation: Request exemption for "clean coal" category. Lobbying: Commerce Ministry, NDRC. Timeline: Policy effective Jan 2026.'}],BP=[{filename:"Directive_State_Council_Security_of_Overseas_Personnel_Pakistan.pdf",type:"WIRE",date:"2025-11-27",description:"State Council directive on enhanced security measures for Chinese personnel working on CPEC projects in Pakistan.",tag:"Security",tagColor:"#ff4444",decryptedContent:' STATE COUNCIL DIRECTIVE: Classification: TOP SECRET. Subject: Protection of overseas personnel (Pakistan). Mandates: 1) Double security budget for Balochistan projects. 2) Restrict new deployments to "secure zones" only. 3) Establish rapid extraction protocols. 4) Monthly security briefings to Politburo Standing Committee. Effective: Immediate.'},{filename:"Briefing_Meeting_PM_Shehbaz_Sharif_Nov_2025.docx",type:"BRIEF",date:"2025-11-25",description:"Briefing document prepared for Premier Li Qiang meeting with PM Shehbaz Sharif.",tag:"Diplomatic",tagColor:"#00ff00",decryptedContent:" MEETING BRIEF: Date: Nov 28, 2025. Duration: 60 mins. Pakistani asks: $2B emergency loan, ML-1 financing, debt restructuring. Chinese position: Conditional approval ($800M), security guarantees required. Talking points: Praise CPEC progress, express security concerns diplomatically, announce Gwadar development package."},{filename:"Strategic_Review_BRI_South_Asia_Corridor_vs_IMEC.pptx",type:"INTEL",date:"2025-11-22",description:"Strategic intelligence review comparing BRI South Asia Corridor with competing India-Middle East-Europe Corridor (IMEC).",tag:"Geostrategy",tagColor:"#ff6600",decryptedContent:" IMEC THREAT ASSESSMENT: IMEC partners: India, UAE, Saudi Arabia, EU, USA. Investment: $20B announced. Timeline: 2030 operational. CPEC advantage: Already operational, China-controlled. IMEC weakness: Geopolitical tensions, funding gaps. Counter-strategy: Accelerate CPEC Phase-2, Gwadar-Xinjiang rail link priority. Recommendation: Outpace IMEC delivery."},{filename:"Approval_Sovereign_Loan_Rollover_Pakistan_FY2025.pdf",type:"MEMO",date:"2025-11-20",description:"State Council approval document for rolling over Pakistani sovereign loans for FY2025.",tag:"Finance",tagColor:"#ffff00",decryptedContent:" LOAN ROLLOVER APPROVED: Amount: $4.5B. Original maturity: Dec 2025. New maturity: Dec 2026. Interest rate: Unchanged (2.5%). Conditions: 1) No default on IPP payments. 2) ML-1 groundbreaking by Q1 2026. 3) Enhanced security protocols. Signatories: Finance Ministry, PBOC, State Council. IMF notification: Not required (bilateral)."},{filename:"Summary_Report_Gwadar_Port_Naval_Access_Potential.secret",type:"INTEL",date:"2025-11-18",description:"Classified summary report on potential naval access arrangements at Gwadar Port.",tag:"Naval",tagColor:"#ff4444",decryptedContent:' TOP SECRET: Subject: PLA Navy access to Gwadar. Assessment: Port infrastructure sufficient for destroyer-class vessels. Pakistani position: Unofficial support, public denial required. US/India response: Expected strong opposition. Recommendation: Gradual approach - start with "logistics support facility". Timeline: 2028-2030. Risk: HIGH (regional escalation).'},{filename:"Letter_to_President_Xi_Jinping_Re_CPEC_Phase_II_Priorities.jpg",type:"WIRE",date:"2025-11-15",description:"Scanned letter to President Xi Jinping outlining Premier Li Qiang recommendations on CPEC Phase II priorities.",tag:"Strategy",tagColor:"#00ffff",decryptedContent:" LETTER TO PRESIDENT XI: Subject: CPEC Phase-II Strategic Direction. Recommendations: 1) Prioritize industrial relocation over new infrastructure. 2) Condition new loans on security improvements. 3) Accelerate Gwadar development (strategic value). 4) Balance IMF concerns with bilateral priorities. Request: Politburo review at Dec 2025 meeting."},{filename:"Economic_Stability_Assessment_Pakistan_Post_IMF.xlsx",type:"REPORT",date:"2025-11-12",description:"Economic stability assessment of Pakistan following IMF program implementation.",tag:"Economy",tagColor:"#ff6600",decryptedContent:" ASSESSMENT: GDP growth: 2.8% (recovering). Inflation: 12% (declining). Forex reserves: $9.2B (improving). IMF compliance: 82%. Debt-to-GDP: 78% (concerning). Risk rating: MODERATE. Outlook: Stable if IMF program continues. CPEC impact: Positive (infrastructure, jobs). Recommendation: Continue measured support, avoid overexposure."},{filename:"Speech_Draft_Boao_Forum_2026_BRI_Integration.doc",type:"BRIEF",date:"2025-11-08",description:"Draft speech for Premier Li Qiang at Boao Forum 2026 on BRI regional integration.",tag:"Speech",tagColor:"#00ff00",decryptedContent:' SPEECH DRAFT: Theme: "BRI: Connecting Continents, Building Futures". Key messages: 1) CPEC as flagship success. 2) $62B investment in Pakistan. 3) 100,000+ jobs created. 4) Counter "debt trap" narrative. 5) Announce CPEC Phase-2 framework. Duration: 25 mins. Audience: 2,000 delegates from 60 countries.'},{filename:"Action_Plan_China_Pakistan_Community_Shared_Future_2025-2029.pdf",type:"MEMO",date:"2025-11-05",description:"Five-year action plan for building China-Pakistan Community of Shared Future.",tag:"Bilateral",tagColor:"#00ffff",decryptedContent:" ACTION PLAN 2025-2029: Pillars: 1) Economic (CPEC Phase-2, $15B). 2) Security (counter-terrorism cooperation). 3) Cultural (student exchanges, 10,000/year). 4) Political (annual summits). 5) Regional (Afghanistan stability). Targets: Trade $30B by 2029, 50 industrial units in SEZs. Review: Annual bilateral summit."},{filename:"Invitation_List_Belt_and_Road_Summit_Heads_of_State.xlsx",type:"INTEL",date:"2025-11-02",description:"Classified invitation list for Belt and Road Summit 2026 showing confirmed heads of state.",tag:"Summit",tagColor:"#ffff00",decryptedContent:" BRF 2026 CONFIRMED: Total invitations: 140 countries. Heads of State confirmed: 38. Key attendees: Russia (Putin), Pakistan (Shehbaz), Saudi Arabia (MBS - tentative), Indonesia, Malaysia, Thailand. Notable declines: India, Japan, Australia. US: Observer status (downgrade). Pakistan slot: Day 1 plenary, bilateral with Xi Jinping."}],LP=[{filename:"Update_Karot_Hydropower_Station_Operational_Data.xls",type:"REPORT",date:"2025-11-25",description:"Operational performance data update for Karot Hydropower Station since commercial operations began.",tag:"Energy",tagColor:"#00ff00",decryptedContent:" KAROT HPP DATA: Capacity: 720 MW. Commercial operation: Jun 2022. YTD generation: 3.2 TWh. Capacity factor: 52%. Revenue: $185M. Issues: Sedimentation (7% above design), turbine blade erosion (Unit 2). Maintenance: Scheduled outage Feb 2026. Chinese O&M staff: 45. Transfer to Pakistan: 2052. Debt servicing: On track."},{filename:"Logistics_Bottlenecks_Report_Khunjerab_Pass.pdf",type:"REPORT",date:"2025-11-22",description:"Analysis of logistics bottlenecks at Khunjerab Pass affecting China-Pakistan trade flow.",tag:"Logistics",tagColor:"#ff6600",decryptedContent:" KHUNJERAB BOTTLENECKS: Annual capacity: 15,000 trucks. Actual throughput: 8,200 (55%). Closure days: 120 (weather). Issues: 1) Single-lane sections (23km). 2) Customs processing: 8 hrs avg. 3) No cold storage. 4) Altitude sickness (workers). Recommendations: Tunnel feasibility study, 24/7 customs, bonded warehouse at Sost. Investment needed: $340M."},{filename:"Technical_Spec_ML-1_Rolling_Stock_Procurement.pptx",type:"BRIEF",date:"2025-11-20",description:"Technical specifications for rolling stock procurement under ML-1 Railway project.",tag:"Rail",tagColor:"#00ffff",decryptedContent:" ROLLING STOCK SPECS: Locomotives: 75 units (CRRC Qingdao). Type: HXD3D electric (160 km/h). Passenger coaches: 230 (air-conditioned). Freight wagons: 800 (container-compatible). Total cost: $1.1B. Delivery: 2027-2030. Local assembly: 20% (Risalpur). Training: 500 Pakistan Railways staff. Warranty: 5 years. Spare parts depot: Lahore."},{filename:"Site_Inspection_Gwadar_Desalination_Plant_Defects.docx",type:"MEMO",date:"2025-11-18",description:"Site inspection report documenting defects found at Gwadar desalination plant.",tag:"Gwadar",tagColor:"#ff4444",decryptedContent:" DEFECTS REPORT: Facility: Gwadar Desalination (5 MGD). Inspection date: Nov 12, 2025. Defects: 1) RO membrane fouling (3 of 8 trains). 2) Brine discharge non-compliant (salinity 48 ppt vs 42 limit). 3) Power backup failure (2 incidents). 4) Corrosion on intake pipes. Contractor: CSCEC. Rectification cost: $4.2M. Timeline: 90 days. Warranty claim: Filed."},{filename:"Meeting_Record_Pakistan_Railways_Chairman_Nov_15.pdf",type:"MEMO",date:"2025-11-15",description:"Official meeting record with Pakistan Railways Chairman on ML-1 implementation coordination.",tag:"Coordination",tagColor:"#00ff00",decryptedContent:" MEETING RECORD: Date: Nov 15, 2025. Attendees: PR Chairman, MOFCOM DG Zhou, CREC VP. Agenda: ML-1 Phase-1 timeline. Outcomes: 1) Land handover: 85% by Dec 2025. 2) Station design: 12 finalized, 8 pending. 3) Signaling: ETCS Level 2 confirmed. 4) O&M training: 200 staff to China Q1 2026. Concerns: Pension liability for displaced PR staff. Next meeting: Dec 20."},{filename:"Route_Map_China_Europe_Railway_Express_Pakistan_Link.png",type:"INTEL",date:"2025-11-12",description:"Strategic route map for proposed China-Europe Railway Express link via Pakistan corridor.",tag:"Strategy",tagColor:"#ffff00",decryptedContent:" CRE PAKISTAN LINK: Proposed route: Kashgar  Khunjerab  Islamabad  Karachi  Gwadar (sea link to Middle East). Distance: 2,800 km. Transit time: 8 days (vs 45 days sea). Connectivity: Iran rail (Gwadar-Chabahar), Turkey (future). Cargo potential: 500,000 TEUs/year. Investment: $12B (integrated). Status: Pre-feasibility. Strategic value: VERY HIGH (BRI diversification)."},{filename:"Proposal_Cold_Chain_Logistics_Network_CPEC_Route.pdf",type:"BRIEF",date:"2025-11-10",description:"Investment proposal for cold chain logistics network along CPEC route for agricultural exports.",tag:"Agriculture",tagColor:"#00ff00",decryptedContent:" COLD CHAIN PROPOSAL: Investment: $280M. Facilities: 8 cold storage hubs (Gilgit, Peshawar, Lahore, Multan, Sukkur, Karachi, Gwadar, Kashgar). Capacity: 200,000 MT total. Products: Fruits (mango, cherry), seafood, dairy. Chinese partner: Sinotrans. Pakistan benefit: 40% reduction in post-harvest loss. Export potential: $500M/year to China. Timeline: 3 years. ROI: 12%."},{filename:"Orange_Line_Metro_Spare_Parts_Supply_Chain_Issues.xlsx",type:"REPORT",date:"2025-11-08",description:"Analysis of spare parts supply chain issues affecting Orange Line Metro operations.",tag:"Metro",tagColor:"#ff6600",decryptedContent:" SUPPLY CHAIN ISSUES: System: Lahore Orange Line (27 km). Operator: Punjab Masstransit Authority. Issues: 1) Lead time for CRRC parts: 180 days (vs 45 contract). 2) Inventory stockout: 23 SKUs. 3) Forex delays (LC opening). 4) Customs clearance: 15 days avg. Impact: 3 trains grounded. Solution: Local warehousing, advance ordering. Cost: $8M for 2-year inventory."},{filename:"Security_Measures_Dasu_Dam_Construction_Site_Review.doc",type:"INTEL",date:"2025-11-05",description:"Review of security measures at Dasu Dam construction site following threat assessments.",tag:"Security",tagColor:"#ff4444",decryptedContent:" DASU SECURITY REVIEW: Project: Dasu HPP (4,320 MW). Chinese workers: 1,200. Security forces: 2 SSG companies, 400 FC, 150 police. Measures: Biometric access, drone surveillance (4 units), blast-proof accommodation. Threat level: HIGH (TTP, local insurgents). Post-2021 upgrades: Armored vehicles (8), safe rooms (12), medevac protocol. Assessment: ADEQUATE but recommend helicopter QRF."},{filename:"Visa_Processing_Delays_Chinese_Technicians_List.xls",type:"REPORT",date:"2025-11-02",description:"List of Chinese technicians facing visa processing delays affecting CPEC project timelines.",tag:"Personnel",tagColor:"#ffff00",decryptedContent:" VISA DELAYS: Total applications pending: 487. Duration: 45-90 days (target: 15 days). Projects affected: ML-1 (156), Dasu (89), Kohala (78), SEZs (164). Bottlenecks: 1) Security clearance (ISI). 2) Work permit (BOI). 3) Provincial NOC (Balochistan, KP). Impact: $12M delay costs. MOFCOM intervention: Note to Foreign Ministry. Resolution target: Dec 15, 2025."}],FP=[{filename:"Diplomatic_Cable_Islamabad_Political_Stability_Forecast.pdf",type:"WIRE",date:"2025-11-26",description:"Classified diplomatic cable assessing political stability forecast for Pakistan and implications for CPEC.",tag:"Political",tagColor:"#ff4444",decryptedContent:" STABILITY FORECAST: Assessment period: 2025-2027. Political risk: MODERATE-HIGH. Factors: Coalition fragility (PML-N + PPP), PTI agitation, IMF conditionalities. Military stance: Supportive of CPEC. Scenarios: 1) Status quo (60%). 2) Early elections (25%). 3) Technocrat govt (15%). Recommendation: Maintain engagement with all stakeholders. CPEC impact: Projects continue regardless of govt change."},{filename:"Talking_Points_for_Meeting_Foreign_Secretary_Amna_Baloch.docx",type:"BRIEF",date:"2025-11-24",description:"Prepared talking points for Vice Foreign Minister meeting with Pakistan Foreign Secretary.",tag:"Diplomatic",tagColor:"#00ff00",decryptedContent:" TALKING POINTS: Meeting: VFM Sun - FS Amna Baloch. Date: Nov 26, 2025. Topics: 1) Security of Chinese nationals (express concern, request action plan). 2) CPEC Phase-2 (reaffirm commitment). 3) Kashmir (support Pakistan position). 4) Afghanistan (joint approach). 5) UN coordination. Avoid: Uyghur topic, IMF discussions. Tone: Warm but firm on security."},{filename:"Report_on_Anti-China_Sentiment_in_Balochistan_Media.pptx",type:"INTEL",date:"2025-11-22",description:"Intelligence report analyzing anti-China sentiment trends in Balochistan media and social networks.",tag:"OSINT",tagColor:"#ff4444",decryptedContent:" SENTIMENT ANALYSIS: Region: Balochistan. Period: Sep-Nov 2025. Sources: 45 media outlets, social media. Findings: 1) Negative sentiment: 68% (up 12%). 2) Key narratives: Resource exploitation, Gwadar fishermen displacement, jobs for locals. 3) BLA propaganda: 15 videos (500K+ views). 4) Influencers: 8 identified (diaspora-linked). Recommendation: Counter-narrative campaign, local CSR increase."},{filename:"Consular_Protection_Protocols_Karachi_Consulate.pdf",type:"MEMO",date:"2025-11-20",description:"Updated consular protection protocols for Chinese Consulate General in Karachi.",tag:"Consular",tagColor:"#00ffff",decryptedContent:" CONSULAR PROTOCOLS: Post-2018 attack upgrades: Perimeter wall (12ft), blast barriers, CCTV (48 cameras), armed guards (24/7). Emergency procedures: 1) Shelter-in-place protocol. 2) Evacuation route (3 options). 3) Safe haven: Naval base (10 min). 4) Medevac: Aga Khan Hospital MOU. Staff: 45 diplomatic, 120 local. Drill frequency: Quarterly. Last drill: Oct 2025 (satisfactory)."},{filename:"Joint_Working_Group_International_Cooperation_Agenda.doc",type:"MEMO",date:"2025-11-18",description:"Agenda for Joint Working Group on International Cooperation between China and Pakistan foreign ministries.",tag:"JWG",tagColor:"#00ff00",decryptedContent:" JWG AGENDA: Date: Dec 5, 2025. Venue: Beijing. Co-chairs: VFM Sun, Addl FS Pakistan. Agenda: 1) UN voting coordination (UNGA 2026). 2) SCO summit prep. 3) OIC engagement. 4) Afghanistan policy alignment. 5) Climate cooperation (COP31). 6) Counter-terrorism intel sharing. Deliverables: Joint statement, 3 MOUs. Delegation size: 8 each."},{filename:"Press_Statement_Re_Terror_Attack_Prevention.pdf",type:"WIRE",date:"2025-11-15",description:"Draft press statement following prevention of terror attack targeting Chinese engineers.",tag:"Security",tagColor:"#ff4444",decryptedContent:` PRESS STATEMENT (DRAFT): "China commends Pakistan security forces for preventing attack on Chinese personnel in [LOCATION]. We appreciate Pakistan's commitment to protecting our citizens. Both nations remain united against terrorism. Enhanced security cooperation discussed at highest levels." Note: Release only if media reports. Coordinate with ISPR. Avoid: Specifics on target, casualties, methods.`},{filename:"Profile_New_Pakistani_Corps_Commanders_2025.docx",type:"INTEL",date:"2025-11-12",description:"Intelligence profiles on newly appointed Pakistani Corps Commanders relevant to CPEC security.",tag:"Profile",tagColor:"#ffff00",decryptedContent:" CORPS COMMANDERS 2025: 1) Quetta Corps: Lt Gen Faiz Hameed - Pro-China, visited Beijing 2023. 2) Peshawar Corps: Lt Gen Ahmed Khan - CT specialist, neutral on CPEC. 3) Karachi Corps: Lt Gen Naveed Mukhtar - Intel background, security-focused. Assessment: Overall positive for CPEC security. Engagement recommendation: Host delegation to China, PLA-PA exercises. Watch: KP corps for TTP coordination."},{filename:"Event_Schedule_75th_Anniversary_Diplomatic_Ties.xlsx",type:"REPORT",date:"2025-11-10",description:"Event schedule for 75th anniversary celebrations of China-Pakistan diplomatic relations in 2026.",tag:"Cultural",tagColor:"#00ff00",decryptedContent:' 75TH ANNIVERSARY EVENTS (2026): Jan: Launch ceremony (Beijing + Islamabad). Mar: Art exchange. May: Trade expo (Shanghai). Jul: Youth delegation (500 students). Aug: Film festival. Oct: Sports games. Dec: State banquet. Budget: $12M (shared). VIP participation: Presidents, PMs. Media coverage: CCTV, PTV joint broadcast. Theme: "Iron Brothers: 75 Years".'},{filename:"Briefing_US_Influence_on_Pakistan_CPEC_Policy.secret",type:"INTEL",date:"2025-11-08",description:"Classified briefing on US influence operations affecting Pakistan CPEC policy decisions.",tag:"Geopolitics",tagColor:"#ff6600",decryptedContent:' US INFLUENCE ASSESSMENT: Activities: 1) USAID "alternative development" in Gwadar ($50M). 2) Think tank funding (RAND, Hudson - anti-CPEC narratives). 3) IMF conditionalities (restrict Chinese loans). 4) Defense cooperation expansion (F-16 package). Impact: Moderate - slowing not stopping CPEC. Pakistan stance: Balancing act. Counter-measures: Increase soft power, media engagement, scholarship expansion.'},{filename:"Emergency_Contact_List_Chinese_Embassy_Islamabad.xls",type:"REPORT",date:"2025-11-05",description:"Updated emergency contact list for Chinese Embassy Islamabad and key Pakistani counterparts.",tag:"Admin",tagColor:"#888888",decryptedContent:" EMERGENCY CONTACTS: Ambassador: [REDACTED]. DCM: [REDACTED]. Defense Attach: [REDACTED]. Pakistan contacts: NSA office (direct line), ISI DG (secure), Foreign Secretary (mobile), NDMA Chairman. Hospitals: PIMS, Shifa. Evacuation: PIA priority, PLAAF standby (Kashgar). Media: Xinhua bureau, APP. Protocol: 3-tier escalation. Update frequency: Monthly."}],OP=[{filename:"Daily_SitRep_Security_Threats_Chinese_Nationals.pdf",type:"INTEL",date:"2025-11-28",description:"Daily situation report on security threats to Chinese nationals across Pakistan.",tag:"Security",tagColor:"#ff4444",decryptedContent:" DAILY SITREP (Nov 28): Threat level: ELEVATED. Active threats: 3 (Balochistan-2, KP-1). Chinese nationals in-country: 7,847. Incidents (24hr): 0. Near-misses: 1 (suspicious vehicle near Sahiwal plant - cleared). Travel advisories: Gwadar (restricted), Turbat (no-go), Peshawar (escort required). ISI coordination: Active. Next briefing: 0800 Nov 29."},{filename:"Guest_List_New_Gwadar_Intl_Airport_Handover_Ceremony.xlsx",type:"MEMO",date:"2025-11-26",description:"VIP guest list for New Gwadar International Airport handover ceremony.",tag:"Event",tagColor:"#00ffff",decryptedContent:" AIRPORT HANDOVER CEREMONY: Date: Dec 15, 2025. Venue: NGIA Terminal. Chinese delegation: Ambassador Jiang, CACC Chairman, CSCEC VP (28 total). Pakistan VIPs: PM Shehbaz, CM Balochistan, Aviation Minister. International: UAE Ambassador, Saudi charg. Media: 45 accredited. Security: SSG perimeter, Chinese PSO for Ambassador. Gifts: Aircraft model (gold-plated). Reception: 200 guests."},{filename:"Photos_Visit_to_Confucius_Institute_Punjab_University.zip",type:"REPORT",date:"2025-11-24",description:"Photo documentation of Ambassador visit to Confucius Institute at Punjab University.",tag:"Cultural",tagColor:"#00ff00",decryptedContent:' VISIT DOCUMENTATION: Date: Nov 22, 2025. Location: CI Punjab University, Lahore. Activities: Classroom visit, calligraphy demo, student interaction. Students enrolled: 1,200 (up 15% YoY). Scholarships announced: 50 (CSC 2026). Media: Dawn, Express covered. Social media reach: 45K. Ambassador remarks: "Bridge of friendship". Follow-up: HSK exam center expansion proposal.'},{filename:"Report_Local_Labor_Issues_Suki_Kinari_Dam.docx",type:"REPORT",date:"2025-11-22",description:"Report on local labor disputes and community issues at Suki Kinari Dam project.",tag:"Labor",tagColor:"#ff6600",decryptedContent:" LABOR ISSUES: Project: Suki Kinari HPP. Incidents: 2 (Nov 2025). Issue 1: Wage dispute (local vs Chinese differential). Resolution: 15% local wage increase. Issue 2: Land compensation (3 families). Status: Provincial govt mediating. Contractor response: CGGC HR director deployed. Community relations: Deteriorating (4.2/10 survey). Recommendation: Increase local hiring (target 60%), CSR fund expansion."},{filename:"Media_Monitoring_Dawn_Geo_Express_Nov_26.pdf",type:"INTEL",date:"2025-11-26",description:"Daily media monitoring report covering CPEC and China-related coverage in major Pakistani outlets.",tag:"Media",tagColor:"#ffff00",decryptedContent:" MEDIA MONITORING (Nov 26): Dawn: 3 articles (2 neutral, 1 negative - debt concerns). Geo: 2 segments (positive - ML-1 progress). Express Tribune: Op-ed critical of SEZ delays. The News: Gwadar airport feature (positive). Social media: #CPEC trending (45K mentions). Negative narratives: Debt trap (23%), job displacement (18%). Response needed: Op-ed placement on Phase-2 benefits."},{filename:"Visa_Issuance_Stats_Pakistani_Students_2025.xls",type:"REPORT",date:"2025-11-20",description:"Statistics on student visa issuances to Pakistani nationals for Chinese universities in 2025.",tag:"Education",tagColor:"#00ff00",decryptedContent:" STUDENT VISAS 2025: Total issued: 8,450 (YTD). Scholarships: CSC (2,100), Provincial (1,200), University (5,150). Top destinations: Beijing (1,800), Shanghai (1,200), Wuhan (980). Fields: Engineering (42%), Medicine (28%), Business (18%). Processing time: 12 days avg. Rejection rate: 3.2%. Trend: +18% vs 2024. Target 2026: 10,000. Embassy recommendation: Expand Mandarin pre-departure training."},{filename:"Proposal_Ramadan_Food_Aid_Packages_Gwadar.pptx",type:"BRIEF",date:"2025-11-18",description:"Soft power initiative proposal for Ramadan food aid distribution in Gwadar communities.",tag:"Soft Power",tagColor:"#00ffff",decryptedContent:' RAMADAN AID PROPOSAL: Target: 5,000 families (Gwadar, Turbat, Pasni). Package: Rice (10kg), flour (10kg), oil (5L), dates, sugar. Cost: $180,000. Partners: COPHC, Chinese companies, Pakistan Red Crescent. Distribution: Local mosques (coordinated with clerics). Media: Low-key (avoid "buying loyalty" narrative). Timeline: Ramadan 2026 (Feb-Mar). Objective: Improve local sentiment, counter BLA narrative. Ambassador approval: Pending.'},{filename:"Scan_Letter_Interior_Ministry_Bulletproof_Vehicles_Permit.jpg",type:"MEMO",date:"2025-11-15",description:"Scanned permit letter from Interior Ministry for bulletproof vehicles for Embassy use.",tag:"Security",tagColor:"#ff4444",decryptedContent:" VEHICLE PERMIT: Reference: MOI/SEC/2025/4521. Approval: 8 additional armored vehicles (B6+ rating). Vehicles: Toyota Land Cruiser (4), Mercedes S-Class (2), BMW X5 (2). Import duty: Waived (diplomatic). Registration: Islamabad (CD plates). Deployment: Ambassador (2), DCM (1), Security (3), Pool (2). Validity: 5 years. Condition: Route notification to SSU for movements outside Islamabad."},{filename:"Evaluation_Pak_China_Friendship_Hospital_Staffing.pdf",type:"REPORT",date:"2025-11-12",description:"Staffing evaluation report for Pak-China Friendship Hospital in Gwadar.",tag:"Healthcare",tagColor:"#00ff00",decryptedContent:" HOSPITAL EVALUATION: Facility: PCF Hospital Gwadar (300 beds). Current staff: 45 doctors (12 Chinese, 33 Pakistani), 120 nurses, 80 support. Occupancy: 42%. Services: General, surgery, OB-GYN, pediatrics. Issues: 1) Specialist shortage (cardio, neuro). 2) Equipment maintenance delays. 3) Local doctor retention (salaries). Chinese medical team rotation: 6-month cycles. Recommendation: Increase stipends, add telemedicine link to Shanghai."},{filename:"Embassy_Budget_Security_Upgrades_2026.xlsx",type:"REPORT",date:"2025-11-10",description:"Proposed budget for Embassy security infrastructure upgrades in 2026.",tag:"Budget",tagColor:"#ff6600",decryptedContent:" SECURITY BUDGET 2026: Total request: $4.8M. Breakdown: Perimeter upgrade ($1.2M), CCTV expansion ($450K), Drone detection ($380K), Safe room construction ($650K), Armored vehicles ($1.5M), Personnel training ($280K), Contingency ($340K). Comparison: +45% vs 2025. Justification: Elevated threat environment, post-Karachi consulate review. MFA approval: Submitted Nov 5. Expected decision: Dec 2025."}],jP=n=>n.toLowerCase().includes("ahsan")?RP:n.toLowerCase().includes("zheng")?PP:n.toLowerCase().includes("shehbaz")||n.toLowerCase().includes("sharif")?IP:n.toLowerCase().includes("awais")||n.toLowerCase().includes("sumra")?DP:n.toLowerCase().includes("muzammil")||n.toLowerCase().includes("zia")?MP:n.toLowerCase().includes("khalil")||n.toLowerCase().includes("hashmi")?NP:n.toLowerCase().includes("li qiang")||n.toLowerCase().includes("li")&&n.toLowerCase().includes("qiang")?BP:n.toLowerCase().includes("zhou")||n.toLowerCase().includes("haibing")?LP:n.toLowerCase().includes("sun")||n.toLowerCase().includes("weidong")?FP:n.toLowerCase().includes("jiang")||n.toLowerCase().includes("zaidong")?OP:[],zP=({official:n,isVisible:e,onClose:t})=>{const[i,r]=$.useState(new Set),[s,o]=$.useState(null);if(!e||!n)return null;const l=jP(n.name),c=async d=>{o(d),await new Promise(u=>setTimeout(u,1500)),r(u=>new Set([...u,d])),o(null)};return f.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:3e3,fontFamily:"monospace"},children:f.jsxs("div",{style:{width:"900px",maxHeight:"90vh",background:"rgba(0, 0, 0, 0.95)",border:"2px solid #00ffff",borderRadius:"8px",display:"flex",flexDirection:"column",position:"relative",overflow:"hidden"},children:[f.jsx("button",{onClick:t,style:{position:"absolute",top:"10px",right:"15px",background:"none",border:"none",color:"#00ffff",fontSize:"20px",cursor:"pointer",padding:"5px",zIndex:1},children:""}),f.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #333",padding:"25px 20px",minHeight:"220px"},children:[f.jsx("div",{style:{width:"180px",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"25px"},children:f.jsx("div",{style:{width:"160px",height:"200px",background:"#1a1a1a",border:"2px solid #00ffff",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:f.jsx("img",{src:`/assets/${n.imageFileName}`,alt:n.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:d=>{d.target.style.display="none",d.target.parentElement.innerHTML=`
                    <div style="color: #666; font-size: 10px; text-align: center; padding: 10px;">
                      IMAGE<br/>NOT AVAILABLE
                    </div>
                  `}})})}),f.jsxs("div",{style:{flex:1,color:"white",display:"flex",flexDirection:"column",justifyContent:"center",gap:"12px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px"},children:[f.jsx("span",{style:{fontSize:"20px",marginRight:"12px"},children:n.country==="pakistan"?"":""}),f.jsx("h3",{style:{color:n.country==="pakistan"?"#00ff00":"#ffff00",fontSize:"24px",margin:0,fontWeight:"bold"},children:n.name})]}),f.jsxs("div",{style:{marginBottom:"4px"},children:[f.jsx("span",{style:{color:"#00ffff",fontSize:"12px",letterSpacing:"1px"},children:"POSITION: "}),f.jsx("span",{style:{color:"#ccc",fontSize:"14px"},children:n.title})]}),n.role&&f.jsxs("div",{style:{marginBottom:"4px"},children:[f.jsx("span",{style:{color:"#00ffff",fontSize:"12px",letterSpacing:"1px"},children:"ROLE: "}),f.jsx("span",{style:{color:"#ccc",fontSize:"14px",fontStyle:"italic"},children:n.role})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"8px"},children:[f.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#00ff00",animation:"pulse 1.5s ease-in-out infinite alternate"}}),f.jsx("span",{style:{color:"#00ff00",fontSize:"10px",letterSpacing:"1px"},children:"ACTIVE OFFICIAL"})]})]})]}),l.length>0&&f.jsxs("div",{style:{maxHeight:"350px",overflow:"auto",padding:"15px 20px"},children:[f.jsx("div",{style:{color:"#ff4444",fontSize:"12px",fontWeight:"bold",letterSpacing:"2px",marginBottom:"12px",textTransform:"uppercase"},children:"INTERCEPTED INTEL"}),f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:l.map((d,u)=>f.jsxs("div",{style:{background:"rgba(0, 50, 50, 0.3)",border:"1px solid #333",borderRadius:"4px",padding:"10px 12px",borderLeft:"3px solid #00ffff"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"6px"},children:[f.jsxs("div",{style:{flex:1},children:[f.jsxs("div",{style:{color:"white",fontSize:"12px",fontWeight:"bold",marginBottom:"3px"},children:[d.filename.replace(/_/g," ").replace(/\.[^/.]+$/,"").toUpperCase().substring(0,35),d.filename.length>35?"...":""," // STATUS RPT"]}),f.jsxs("div",{style:{color:"#00ffff",fontSize:"10px"},children:[d.type," | ",d.date]})]}),f.jsx("button",{onClick:()=>c(d.filename),disabled:i.has(d.filename)||s===d.filename,style:{background:i.has(d.filename)?"rgba(0, 255, 0, 0.2)":"transparent",border:`1px solid ${i.has(d.filename)?"#00ff00":"#00ffff"}`,color:i.has(d.filename)?"#00ff00":"#00ffff",padding:"4px 10px",borderRadius:"4px",fontSize:"10px",cursor:i.has(d.filename)?"default":"pointer",fontFamily:"monospace",letterSpacing:"1px",minWidth:"80px"},children:s===d.filename?"DECRYPTING...":i.has(d.filename)?" DECRYPTED":"DECRYPT"})]}),f.jsx("div",{style:{color:"#999",fontSize:"11px",lineHeight:"1.3",marginBottom:"6px"},children:d.description}),f.jsx("div",{style:{display:"inline-block",background:d.tagColor,color:"#000",padding:"2px 6px",borderRadius:"3px",fontSize:"9px",fontWeight:"bold"},children:d.tag}),i.has(d.filename)&&f.jsxs("div",{style:{marginTop:"8px",padding:"10px",background:"rgba(0, 255, 0, 0.1)",border:"1px solid rgba(0, 255, 0, 0.3)",borderRadius:"4px"},children:[f.jsx("div",{style:{color:"#00ff00",fontSize:"9px",letterSpacing:"1px",marginBottom:"6px",fontWeight:"bold"},children:" DECRYPTED CONTENT"}),f.jsx("div",{style:{color:"#ccc",fontSize:"11px",lineHeight:"1.5"},children:d.decryptedContent})]})]},u))})]}),l.length===0&&f.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#666"},children:[f.jsx("div",{style:{fontSize:"14px",marginBottom:"10px"},children:"NO INTERCEPTED INTEL AVAILABLE"}),f.jsx("div",{style:{fontSize:"11px"},children:"Intelligence gathering in progress..."})]}),f.jsx("style",{children:`
            @keyframes pulse {
              from { opacity: 1; }
              to { opacity: 0.3; }
            }
          `})]})})},WP=({isVisible:n,onClose:e})=>{const[t,i]=$.useState(!1),[r,s]=$.useState(!1),[o,l]=$.useState(null),[c,d]=$.useState(!1);return n?f.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"350px",height:"100vh",background:"rgba(0, 0, 0, 0.9)",color:"white",padding:"20px",boxSizing:"border-box",zIndex:2e3,fontFamily:"monospace",overflow:"auto"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",borderBottom:"1px solid #333",paddingBottom:"15px"},children:[f.jsx("h2",{style:{color:"#00ffff",fontSize:"18px",margin:0,letterSpacing:"2px"},children:"KEY OFFICIALS"}),f.jsx("button",{onClick:e,style:{background:"none",border:"none",color:"white",fontSize:"20px",cursor:"pointer",padding:"5px"},children:""})]}),f.jsxs("div",{style:{marginBottom:"25px"},children:[f.jsx("div",{style:{color:"#00ffff",fontSize:"14px",marginBottom:"15px",textTransform:"uppercase",letterSpacing:"1px",fontWeight:"bold"},children:" Joint Cooperation Committee (JCC) Leadership"}),f.jsx("div",{style:{fontSize:"11px",color:"#ccc",marginBottom:"20px",lineHeight:"1.4"},children:"The JCC is the supreme decision-making body for CPEC."}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("div",{style:{color:"#00ff00",fontSize:"12px",marginBottom:"8px",fontWeight:"bold"},children:" Pakistan Co-Chair:"}),f.jsx("div",{onClick:()=>{l({name:"Prof. Ahsan Iqbal",title:"Federal Minister for Planning, Development & Special Initiatives",role:"The public face and operational lead for CPEC",country:"pakistan",imageFileName:"ahsan-iqbal.jpg"}),d(!0)},style:{color:"white",fontSize:"13px",marginBottom:"10px",fontWeight:"bold",cursor:"pointer",textDecoration:"underline",textDecorationColor:"#00ff00"},children:"Prof. Ahsan Iqbal"}),f.jsx("div",{style:{color:"#aaa",fontSize:"11px",marginBottom:"10px"},children:"Federal Minister for Planning, Development & Special Initiatives"}),f.jsx("button",{onClick:()=>i(!t),style:{background:"rgba(0, 255, 0, 0.2)",border:"1px solid #00ff00",color:"#00ff00",padding:"6px 12px",borderRadius:"3px",fontSize:"10px",cursor:"pointer",textTransform:"uppercase",letterSpacing:"0.5px"},children:t?" Hide":" View More Officials"}),t&&f.jsx("div",{style:{marginTop:"15px",background:"rgba(0, 255, 0, 0.05)",padding:"15px",borderRadius:"4px",border:"1px solid rgba(0, 255, 0, 0.2)"},children:[{name:"Shehbaz Sharif",title:"Prime Minister",role:"Oversees the overall strategic direction of CPEC 2.0",country:"pakistan",imageFileName:"shehbaz-sharif.jpg"},{name:"Prof. Ahsan Iqbal",title:"Federal Minister for Planning, Development & Special Initiatives",role:"The public face and operational lead for CPEC",country:"pakistan",imageFileName:"ahsan-iqbal.jpg"},{name:"Awais Manzur Sumra",title:"Secretary, Ministry of Planning, Development & Special Initiatives",role:"",country:"pakistan",imageFileName:"awais-manzur-sumra.jpg"},{name:"Dr. M. Muzammil Zia",title:"Executive Director / Project Director, CPEC Secretariat",role:"Operational head handling day-to-day coordination",country:"pakistan",imageFileName:"muzammil-zia.jpg"},{name:"Khalil Hashmi",title:"Ambassador of Pakistan to China",role:"Key liaison for diplomatic coordination in Beijing",country:"pakistan",imageFileName:"khalil-hashmi.jpg"}].map((u,h)=>f.jsxs("div",{style:{marginBottom:"12px",paddingBottom:"8px",borderBottom:h<4?"1px solid rgba(255,255,255,0.1)":"none"},children:[f.jsx("div",{onClick:()=>{l(u),d(!0)},style:{color:"white",fontSize:"11px",fontWeight:"bold",cursor:"pointer",textDecoration:"underline",textDecorationColor:"#00ff00"},children:u.name}),f.jsx("div",{style:{color:"#aaa",fontSize:"10px",marginBottom:"4px"},children:u.title}),u.role&&f.jsx("div",{style:{color:"#888",fontSize:"9px",fontStyle:"italic"},children:u.role})]},h))})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("div",{style:{color:"#ffff00",fontSize:"12px",marginBottom:"8px",fontWeight:"bold"},children:" China Co-Chair:"}),f.jsx("div",{onClick:()=>{l({name:"Zheng Shanjie",title:"Chairman, National Development and Reform Commission (NDRC)",role:"",country:"china",imageFileName:"zheng-shanjie.jpg"}),d(!0)},style:{color:"white",fontSize:"13px",marginBottom:"10px",fontWeight:"bold",cursor:"pointer",textDecoration:"underline",textDecorationColor:"#ffff00"},children:"Zheng Shanjie"}),f.jsx("div",{style:{color:"#aaa",fontSize:"11px",marginBottom:"10px"},children:"Chairman, National Development and Reform Commission (NDRC)"}),f.jsx("button",{onClick:()=>s(!r),style:{background:"rgba(255, 255, 0, 0.2)",border:"1px solid #ffff00",color:"#ffff00",padding:"6px 12px",borderRadius:"3px",fontSize:"10px",cursor:"pointer",textTransform:"uppercase",letterSpacing:"0.5px"},children:r?" Hide":" View More Officials"}),r&&f.jsx("div",{style:{marginTop:"15px",background:"rgba(255, 255, 0, 0.05)",padding:"15px",borderRadius:"4px",border:"1px solid rgba(255, 255, 0, 0.2)"},children:[{name:"Li Qiang",title:"Premier of the State Council",role:"Oversees BRI and CPEC at the state level",country:"china",imageFileName:"li-qiang.jpg"},{name:"Zheng Shanjie",title:"Chairman, National Development and Reform Commission (NDRC)",role:"",country:"china",imageFileName:"zheng-shanjie.jpg"},{name:"Zhou Haibing",title:"Vice-Chairman, NDRC",role:"Frequently meets Pakistani counterparts for specific project reviews",country:"china",imageFileName:"zhou-haibing.jpg"},{name:"Sun Weidong",title:"Vice Foreign Minister",role:"Handles diplomatic aspects of CPEC",country:"china",imageFileName:"sun-weidong.jpg"},{name:"Jiang Zaidong",title:"Ambassador of China to Pakistan",role:"",country:"china",imageFileName:"jiang-zaidong.jpg"}].map((u,h)=>f.jsxs("div",{style:{marginBottom:"12px",paddingBottom:"8px",borderBottom:h<4?"1px solid rgba(255,255,255,0.1)":"none"},children:[f.jsx("div",{onClick:()=>{l(u),d(!0)},style:{color:"white",fontSize:"11px",fontWeight:"bold",cursor:"pointer",textDecoration:"underline",textDecorationColor:"#ffff00"},children:u.name}),f.jsx("div",{style:{color:"#aaa",fontSize:"10px",marginBottom:"4px"},children:u.title}),u.role&&f.jsx("div",{style:{color:"#888",fontSize:"9px",fontStyle:"italic"},children:u.role})]},h))})]})]}),f.jsx(zP,{official:o,isVisible:c,onClose:()=>{d(!1),l(null)}})]}):null},$P=(n,e,t)=>{const i={"dragnet71-11-2":850,"magic41-1-2":680,"mako61-12-2":520,"sentry41-2-1":180,"destroyer-cvn-01":1100,"cruiser-cg-01":920,"armor-tank-01":280,"artillery-m777":650,"mlrs-himars-01":780};if(i[n])return i[n];const r=t.join(" ").toLowerCase();let s=400;r.includes("tomahawk")||r.includes("atacms")?s=900:r.includes("bgm-109")?s=800:r.includes("gmlrs")?s=700:r.includes("excalibur")?s=600:r.includes("agm-88")?s=480:r.includes("aim-120")?s=350:r.includes("m829")||r.includes("m830")?s=250:r.includes("surveillance")&&(s=150);const o=r.match(/\((\d+)x\)/g);if(o){const c=o.reduce((d,u)=>{var p;const h=parseInt(((p=u.match(/\d+/))==null?void 0:p[0])||"0");return d+h},0);s+=Math.min(c*2,200)}const l=e.split("").reduce((c,d)=>c+d.charCodeAt(0),0);return s+=l%50,s},HP=n=>[{id:"dragnet71-11-2",name:"Dragnet71-11-2",type:"E-8C",category:"air",match:"TOP MATCH",matchColor:"#00ff00",munitions:["BGM-109 (24x)","AIM-120 (48x)","AIM-9 (12x)"],missionTasks:5,taskType:"XREC - AA",duration:"1h 31m 30s",status:"LIVE",proposed:"5 PROPOSED"},{id:"magic41-1-2",name:"Magic41-1-2",type:"E-3",category:"air",match:"FAIR MATCH",matchColor:"#ffaa00",munitions:["BGM-109 (4x)","AIM-120 (8x)","AIM-9 (2x)"],missionTasks:4,taskType:"CAS - AA",duration:"1h 31m 30s",status:"LIVE",proposed:"3 PROPOSED",approved:"1 APPROVED"},{id:"mako61-12-2",name:"Mako61-12-2",type:"F-16CM-50",category:"air",subType:"(2x)",match:"FAIR MATCH",matchColor:"#ffaa00",munitions:["BGM-109 (8x)","AIM-120 (4x)","AIM-9 (4x)","AGM-88 (4x)"],missionTasks:3,taskType:"XDCA - AA",duration:"1h 37m 21s",status:"LIVE",proposed:"3 PROPOSED"},{id:"sentry41-2-1",name:"Sentry41-2-1",type:"AWACS",category:"air",match:"FAIR MATCH",matchColor:"#ffaa00",munitions:["Surveillance Package"],missionTasks:2,taskType:"ISR - Recon",duration:"2h 15m 00s",status:"LIVE",proposed:"2 PROPOSED"},{id:"destroyer-cvn-01",name:"USS Nimitz",type:"CVN-68",category:"surface",match:"FAIR MATCH",matchColor:"#ffaa00",munitions:["Tomahawk (24x)","SM-2 (48x)","ESSM (32x)"],missionTasks:6,taskType:"SAG - Naval",duration:"4h 15m 00s",status:"LIVE",proposed:"4 PROPOSED"},{id:"cruiser-cg-01",name:"USS Gettysburg",type:"CG-64",category:"surface",match:"TOP MATCH",matchColor:"#00ff00",munitions:["Tomahawk (16x)","SM-3 (24x)","ASROC (8x)"],missionTasks:4,taskType:"BMD - Naval",duration:"3h 45m 00s",status:"LIVE",proposed:"3 PROPOSED",approved:"1 APPROVED"},{id:"armor-tank-01",name:"Thunder-1-Alpha",type:"M1A2 Abrams",category:"land",subType:"(4x)",match:"FAIR MATCH",matchColor:"#ffaa00",munitions:["M829A4 (40x)","M830A1 (20x)",".50 Cal (2000x)"],missionTasks:3,taskType:"Armor - Ground",duration:"2h 30m 00s",status:"LIVE",proposed:"2 PROPOSED"},{id:"artillery-m777",name:"Steel Rain Battery",type:"M777A2",category:"land",subType:"(6x)",match:"TOP MATCH",matchColor:"#00ff00",munitions:["Excalibur (48x)","M795 HE (200x)","M864 DPICM (100x)"],missionTasks:5,taskType:"Artillery - Fire Support",duration:"1h 45m 00s",status:"LIVE",proposed:"4 PROPOSED"},{id:"mlrs-himars-01",name:"Hellfire-2-Bravo",type:"M142 HIMARS",category:"land",subType:"(2x)",match:"FAIR MATCH",matchColor:"#ffaa00",munitions:["GMLRS (12x)","ATACMS (2x)"],missionTasks:4,taskType:"MLRS - Deep Strike",duration:"2h 00m 00s",status:"LIVE",proposed:"3 PROPOSED",approved:"1 APPROVED"}],UP=n=>[{id:"39RTP 27388 69923",coords:"39RTP 27388 69923"},{id:"39RTP 27264 69910",coords:"39RTP 27264 69910"},{id:"39RTP 27333 69857",coords:"39RTP 27333 69857"}],GP=({isVisible:n,onClose:e,unit:t,onAssetSelected:i})=>{const[r]=$.useState("17:00Z"),[s,o]=$.useState(null),[l,c]=$.useState(""),[d,u]=$.useState("all"),[h,p]=$.useState(220),[m,C]=$.useState(!1),v=$.useRef(0),A=$.useRef(0),y=HP((t==null?void 0:t.name)||""),S=$.useCallback(E=>{const T=s===E?null:E;if(o(T),i)if(T){const _=y.find(P=>P.id===T);if(_){const P=$P(_.id,_.type,_.munitions);i(T,P)}}else i(null,500)},[s,i,y]),w=$.useCallback(E=>{E.preventDefault(),C(!0),v.current=E.clientY,A.current=h},[h]);if($.useEffect(()=>{const E=_=>{if(!m)return;const P=v.current-_.clientY,N=Math.min(Math.max(A.current+P,100),500);p(N)},T=()=>{C(!1)};return m&&(document.addEventListener("mousemove",E),document.addEventListener("mouseup",T)),()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",T)}},[m]),!n||!t)return null;const k=UP(t.name);return f.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:2e3,display:"flex",flexDirection:"column",background:"transparent",fontFamily:"'Segoe UI', 'Roboto', sans-serif",pointerEvents:"none"},children:[f.jsxs("div",{style:{height:"50px",background:"linear-gradient(180deg, #1a1a2e 0%, #0f0f1a 100%)",borderBottom:"1px solid #2a2a4a",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 20px",pointerEvents:"auto"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[f.jsx(K4,{style:{color:"#00e5ff",fontSize:"24px"}}),f.jsx("span",{style:{color:"#00e5ff",fontWeight:"bold",fontSize:"16px",letterSpacing:"2px"},children:"INTEL WORKSPACE"})]}),f.jsxs("div",{style:{background:"rgba(255, 0, 100, 0.2)",border:"1px solid #ff0064",padding:"4px 12px",borderRadius:"4px",color:"#ff0064",fontSize:"12px",fontWeight:"bold"},children:[f.jsx($4,{style:{marginRight:"6px"}}),t.name]})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[f.jsxs("div",{style:{color:"#888",fontSize:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{color:"#00ff00"},children:""}),"LIVE FEED"]}),f.jsxs("div",{style:{color:"#aaa",fontSize:"14px"},children:["AUG 03 2023 ",r]}),f.jsxs("button",{onClick:e,style:{background:"rgba(255, 0, 0, 0.2)",border:"1px solid #ff3333",borderRadius:"4px",color:"#ff3333",padding:"6px 12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"12px",fontWeight:"bold"},children:[f.jsx(G4,{})," EXIT WORKSPACE"]})]})]}),f.jsxs("div",{style:{display:"flex",flex:1,overflow:"hidden"},children:[f.jsxs("div",{style:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden"},children:[f.jsxs("div",{style:{display:"flex",flex:1,overflow:"hidden"},children:[f.jsxs("div",{style:{width:"320px",background:"#0d0d15",borderRight:"1px solid #2a2a4a",display:"flex",flexDirection:"column",overflow:"hidden",pointerEvents:"auto"},children:[f.jsxs("div",{style:{padding:"12px 15px",borderBottom:"1px solid #2a2a4a",background:"#111120"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#888",fontSize:"12px",marginBottom:"8px"},children:[f.jsx($4,{style:{color:"#ff0064"}}),"Selected target:"]}),f.jsxs("div",{style:{background:"rgba(255, 0, 100, 0.1)",border:"1px solid rgba(255, 0, 100, 0.3)",borderRadius:"6px",padding:"10px 12px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[f.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#ff0064",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx(My,{style:{color:"white",fontSize:"12px"}})}),f.jsxs("div",{children:[f.jsx("div",{style:{color:"white",fontWeight:"bold",fontSize:"14px"},children:t.name}),f.jsxs("div",{style:{color:"#888",fontSize:"11px"},children:[t.type," - Multi-Aimpoint Target"]})]}),f.jsx("span",{style:{marginLeft:"auto",color:"#666",fontSize:"10px",background:"#1a1a2e",padding:"2px 6px",borderRadius:"3px"},children:"P5"})]}),f.jsxs("div",{style:{marginTop:"10px"},children:[f.jsxs("div",{style:{color:"#888",fontSize:"11px",marginBottom:"6px",display:"flex",alignItems:"center",gap:"4px"},children:[f.jsx(C5,{style:{fontSize:"8px"}}),"Aimpoints (",k.length,")"]}),f.jsx("div",{style:{color:"#00e5ff",fontSize:"10px",fontFamily:"monospace",display:"flex",flexWrap:"wrap",gap:"8px"},children:k.map((E,T)=>f.jsx("span",{children:E.coords},T))})]})]}),f.jsxs("div",{style:{marginTop:"8px",padding:"6px 10px",background:"rgba(0, 229, 255, 0.1)",border:"1px solid rgba(0, 229, 255, 0.3)",borderRadius:"4px",color:"#00e5ff",fontSize:"11px",display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx(X4,{})," SMACK Tasking Queue",f.jsx("span",{style:{marginLeft:"auto",color:"#888"},children:"MTS/MNF"})]})]}),f.jsxs("div",{style:{padding:"12px 15px",borderBottom:"1px solid #2a2a4a"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px"},children:[f.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"13px"},children:"Assets"}),f.jsx("span",{style:{color:"#888",fontSize:"12px"},children:"Package Template"})]}),f.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"10px"},children:[f.jsx("input",{type:"text",placeholder:"Search Assets or Munitions...",style:{flex:1,padding:"8px 12px",background:"#1a1a2e",border:"1px solid #2a2a4a",borderRadius:"4px",color:"white",fontSize:"12px",outline:"none"}}),f.jsx("button",{style:{background:"#00e5ff",border:"none",borderRadius:"4px",padding:"0 12px",cursor:"pointer"},children:""})]}),f.jsxs("div",{style:{display:"flex",gap:"12px",fontSize:"11px",color:"#888",borderBottom:"1px solid #2a2a4a",paddingBottom:"8px"},children:[f.jsx("span",{onClick:()=>u("all"),style:{color:d==="all"?"#00e5ff":"#888",cursor:"pointer",padding:"4px 8px",borderRadius:"4px",background:d==="all"?"rgba(0, 229, 255, 0.1)":"transparent",border:d==="all"?"1px solid rgba(0, 229, 255, 0.3)":"1px solid transparent",transition:"all 0.2s ease"},children:" All Assets"}),f.jsx("span",{onClick:()=>u("air"),style:{cursor:"pointer",padding:"4px 8px",borderRadius:"4px",color:d==="air"?"#00e5ff":"#888",background:d==="air"?"rgba(0, 229, 255, 0.1)":"transparent",border:d==="air"?"1px solid rgba(0, 229, 255, 0.3)":"1px solid transparent",transition:"all 0.2s ease"},children:" Air"}),f.jsx("span",{onClick:()=>u("surface"),style:{cursor:"pointer",padding:"4px 8px",borderRadius:"4px",color:d==="surface"?"#00e5ff":"#888",background:d==="surface"?"rgba(0, 229, 255, 0.1)":"transparent",border:d==="surface"?"1px solid rgba(0, 229, 255, 0.3)":"1px solid transparent",transition:"all 0.2s ease"},children:" Surface"}),f.jsx("span",{onClick:()=>u("land"),style:{cursor:"pointer",padding:"4px 8px",borderRadius:"4px",color:d==="land"?"#00e5ff":"#888",background:d==="land"?"rgba(0, 229, 255, 0.1)":"transparent",border:d==="land"?"1px solid rgba(0, 229, 255, 0.3)":"1px solid transparent",transition:"all 0.2s ease"},children:" Land"})]})]}),f.jsx("div",{style:{flex:1,overflowY:"auto",padding:"8px 0"},children:y.filter(E=>d==="all"||E.category===d).map(E=>f.jsxs("div",{onClick:()=>S(E.id),style:{padding:"10px 15px",borderBottom:"1px solid #1a1a2e",cursor:"pointer",background:s===E.id?"rgba(0, 229, 255, 0.1)":"transparent",borderLeft:s===E.id?"3px solid #00e5ff":"3px solid transparent"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"6px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:E.category==="air"?"#2a2a6a":E.category==="surface"?"#2a4a5a":"#3a4a2a",border:`2px solid ${E.category==="air"?"#4444aa":E.category==="surface"?"#447788":"#558844"}`,display:"flex",alignItems:"center",justifyContent:"center",color:"#888",fontSize:"14px"},children:E.category==="air"?"":E.category==="surface"?"":""}),f.jsxs("div",{children:[f.jsx("div",{style:{color:"white",fontWeight:"bold",fontSize:"13px"},children:E.name}),f.jsxs("div",{style:{color:"#888",fontSize:"11px"},children:[E.type," ",E.subType||"(1x)"]})]})]}),f.jsxs("span",{style:{background:E.match==="TOP MATCH"?"rgba(0, 255, 0, 0.2)":"rgba(255, 170, 0, 0.2)",color:E.matchColor,fontSize:"9px",fontWeight:"bold",padding:"3px 6px",borderRadius:"3px",border:`1px solid ${E.matchColor}`},children:[E.match," "]})]}),f.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px",marginBottom:"8px"},children:E.munitions.map((T,_)=>f.jsx("span",{style:{background:"#1a1a2e",color:"#00e5ff",fontSize:"9px",padding:"2px 6px",borderRadius:"3px"},children:T},_))}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"11px",color:"#888"},children:[f.jsxs("span",{children:["MISSION & TASKS (",E.missionTasks,")"]}),f.jsxs("div",{style:{display:"flex",gap:"6px"},children:[f.jsx("span",{style:{background:"rgba(0, 229, 255, 0.2)",color:"#00e5ff",padding:"2px 6px",borderRadius:"3px",fontSize:"9px"},children:E.proposed}),E.approved&&f.jsx("span",{style:{background:"rgba(0, 255, 0, 0.2)",color:"#00ff00",padding:"2px 6px",borderRadius:"3px",fontSize:"9px"},children:E.approved})]})]}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"6px",fontSize:"11px"},children:[f.jsxs("span",{style:{color:"#888"},children:[" ",E.taskType," ",f.jsx("span",{style:{color:"#666"},children:E.duration})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsxs("span",{style:{color:"#00ff00",display:"flex",alignItems:"center",gap:"4px",fontSize:"10px"},children:[" ",E.status,f.jsx("span",{style:{color:"#666"},children:"(updated 4s ago)"})]}),f.jsx("span",{style:{color:"#666"},children:"CC"})]})]})]},E.id))})]}),f.jsxs("div",{style:{flex:1,position:"relative",background:"transparent",pointerEvents:"none"},children:[f.jsxs("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",textAlign:"center",pointerEvents:"none"},children:[f.jsx("div",{style:{color:"#ff0064",fontSize:"14px",fontWeight:"bold",letterSpacing:"2px",textShadow:"0 0 10px rgba(0,0,0,0.8), 0 0 20px rgba(255, 0, 100, 0.5)",animation:"pulse-text 2s ease-in-out infinite",background:"rgba(0, 0, 0, 0.7)",padding:"6px 16px",borderRadius:"4px",border:"1px solid rgba(255, 0, 100, 0.5)",backdropFilter:"blur(4px)"},children:" TARGET LOCKED"}),f.jsxs("div",{style:{color:"#fff",fontSize:"12px",marginTop:"5px",textShadow:"0 0 10px rgba(0,0,0,0.8)",background:"rgba(0,0,0,0.7)",padding:"4px 12px",borderRadius:"4px",backdropFilter:"blur(4px)"},children:[t.name,"  ",t.locationName]})]}),f.jsxs("div",{style:{position:"absolute",top:"15px",left:"50%",transform:"translateX(-50%)",background:"rgba(0, 0, 0, 0.8)",border:"1px solid #2a2a4a",borderRadius:"6px",padding:"8px 20px",display:"flex",alignItems:"center",gap:"15px",pointerEvents:"auto"},children:[f.jsx("span",{style:{color:"#888",fontSize:"12px"},children:"ASSIGN ASSET:"}),f.jsxs("span",{style:{color:"#ff0064",display:"flex",alignItems:"center",gap:"6px",fontSize:"13px",fontWeight:"bold"},children:[f.jsx(My,{})," ",t.name]}),f.jsxs("span",{style:{color:"#666",fontSize:"12px"},children:[">"," Select an Asset to start pairing"]}),f.jsx(G4,{style:{color:"#888",cursor:"pointer"}})]})]})]}),f.jsxs("div",{style:{height:`${h}px`,background:"#0a0a12",borderTop:"1px solid #2a2a4a",display:"flex",flexDirection:"column",pointerEvents:"auto",position:"relative",flexShrink:0},children:[f.jsx("div",{onMouseDown:w,style:{position:"absolute",top:"-12px",left:"50%",transform:"translateX(-50%)",width:"80px",height:"24px",background:"linear-gradient(180deg, #1a1a2e 0%, #0d0d15 100%)",border:"1px solid #2a2a4a",borderBottom:"none",borderRadius:"8px 8px 0 0",display:"flex",alignItems:"center",justifyContent:"center",cursor:"ns-resize",zIndex:10,transition:m?"none":"background 0.2s ease"},onMouseEnter:E=>{m||(E.currentTarget.style.background="linear-gradient(180deg, #2a2a4a 0%, #1a1a2e 100%)")},onMouseLeave:E=>{m||(E.currentTarget.style.background="linear-gradient(180deg, #1a1a2e 0%, #0d0d15 100%)")},children:f.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0px",lineHeight:"1"},children:[f.jsx(UT,{style:{color:m?"#00e5ff":"#666",fontSize:"10px",transition:"color 0.2s ease",marginBottom:"-2px"}}),f.jsx(HT,{style:{color:m?"#00e5ff":"#666",fontSize:"10px",transition:"color 0.2s ease",marginTop:"-2px"}})]})}),f.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #2a2a4a",background:"#0d0d15"},children:[f.jsxs("div",{style:{width:"120px",padding:"8px 12px",borderRight:"1px solid #2a2a4a",display:"flex",flexDirection:"column",justifyContent:"center"},children:[f.jsx("div",{style:{color:"#888",fontSize:"11px",fontWeight:"bold"},children:"AUG 3 2023"}),f.jsxs("div",{style:{color:"#00e5ff",fontSize:"12px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"4px"},children:["16 ",f.jsx("span",{style:{background:"#00e5ff",color:"#000",padding:"1px 4px",borderRadius:"2px",fontSize:"10px"},children:"17:00Z"})]})]}),f.jsxs("div",{style:{flex:1,display:"flex",justifyContent:"space-between",padding:"8px 20px",alignItems:"center"},children:[f.jsx("span",{style:{color:"#00e5ff",fontSize:"11px",fontWeight:"bold"},children:"18:00Z"}),f.jsx("span",{style:{color:"#666",fontSize:"11px"},children:"19:00Z"}),f.jsx("span",{style:{color:"#666",fontSize:"11px"},children:"20:00Z"}),f.jsx("span",{style:{color:"#666",fontSize:"11px"},children:"21:00Z"})]}),f.jsxs("div",{style:{width:"220px",padding:"8px 12px",borderLeft:"1px solid #2a2a4a",background:"#111120"},children:[f.jsx("div",{style:{color:"#fff",fontSize:"12px",fontWeight:"bold"},children:"Proposed Tasking"}),f.jsxs("div",{style:{color:"#00e5ff",fontSize:"10px",marginTop:"2px"},children:["AUG 03 2023 17:55:27Z ",f.jsx("span",{style:{marginLeft:"8px"},children:""})]})]})]}),f.jsxs("div",{style:{flex:1,display:"flex",overflow:"hidden"},children:[f.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:s?f.jsxs(f.Fragment,{children:[y.filter(E=>E.id===s).map(E=>f.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #1a1a2e",minHeight:"50px"},children:[f.jsxs("div",{style:{width:"120px",padding:"8px 12px",borderRight:"1px solid #2a2a4a",display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:E.category==="air"?"#00e5ff":E.category==="surface"?"#4488aa":"#88aa44"}}),f.jsxs("div",{children:[f.jsx("div",{style:{color:"#888",fontSize:"10px"},children:"Flight"}),f.jsx("div",{style:{color:"#fff",fontSize:"11px",fontWeight:"bold"},children:E.name})]})]}),f.jsxs("div",{style:{flex:1,position:"relative",padding:"8px 20px"},children:[f.jsx("div",{style:{position:"absolute",left:"10%",top:"8px",width:"25%",height:"18px",background:"rgba(255, 170, 0, 0.3)",border:"1px solid #ffaa00",borderRadius:"3px",display:"flex",alignItems:"center",padding:"0 6px",fontSize:"9px",color:"#ffaa00"},children:"Proposed SMACK Tasking"}),f.jsxs("div",{style:{position:"absolute",left:"5%",top:"32px",width:"20%",height:"14px",background:"rgba(0, 229, 255, 0.2)",border:"1px solid #00e5ff",borderRadius:"3px",display:"flex",alignItems:"center",padding:"0 6px",fontSize:"8px",color:"#00e5ff"},children:[E.taskType,f.jsx("span",{style:{marginLeft:"4px",color:"#666"},children:E.duration})]})]})]},E.id)),y.filter(E=>E.id===s).map(E=>f.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #1a1a2e",minHeight:"40px",background:"#0c0c14"},children:[f.jsxs("div",{style:{width:"120px",padding:"8px 12px",borderRight:"1px solid #2a2a4a",display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#666"}}),f.jsxs("div",{children:[f.jsx("div",{style:{color:"#666",fontSize:"10px"},children:E.type}),f.jsx("div",{style:{color:"#888",fontSize:"10px"},children:E.name})]})]}),f.jsx("div",{style:{flex:1,position:"relative",padding:"8px 20px"},children:f.jsx("div",{style:{position:"absolute",left:"35%",top:"12px",width:"20%",height:"16px",background:"rgba(255, 170, 0, 0.2)",border:"1px dashed #ffaa00",borderRadius:"3px",display:"flex",alignItems:"center",padding:"0 6px",fontSize:"8px",color:"#ffaa00"},children:"Proposed SMACK Tasking"})})]},`${E.id}-aircraft`))]}):f.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:"#444",fontSize:"12px"},children:"Select an asset to view timeline"})}),f.jsxs("div",{style:{width:"220px",borderLeft:"1px solid #2a2a4a",padding:"10px 12px",background:"#0d0d15",display:"flex",flexDirection:"column",gap:"8px"},children:[f.jsxs("div",{children:[f.jsx("div",{style:{color:"#666",fontSize:"9px",marginBottom:"2px"},children:"Classification"}),f.jsx("div",{style:{color:"#888",fontSize:"10px"},children:"Verify details at MTS/MNF"})]}),f.jsxs("div",{children:[f.jsx("div",{style:{color:"#666",fontSize:"9px",marginBottom:"2px"},children:"Task"}),f.jsxs("select",{style:{width:"100%",padding:"4px 6px",background:"#1a1a2e",border:"1px solid #2a2a4a",borderRadius:"3px",color:"white",fontSize:"10px"},children:[f.jsx("option",{children:"SMACK"}),f.jsx("option",{children:"STRIKE"}),f.jsx("option",{children:"RECON"})]})]}),f.jsxs("div",{children:[f.jsx("div",{style:{color:"#666",fontSize:"9px",marginBottom:"2px"},children:"Time on Target"}),f.jsx("div",{style:{color:"#fff",fontSize:"10px"},children:"AUG 03 2023 18:55Z"})]}),f.jsxs("div",{children:[f.jsx("div",{style:{color:"#666",fontSize:"9px",marginBottom:"2px"},children:"Guidance"}),f.jsx("input",{type:"text",value:l,onChange:E=>c(E.target.value),placeholder:"Enter guidance...",style:{width:"100%",padding:"4px 6px",background:"#1a1a2e",border:"1px solid #2a2a4a",borderRadius:"3px",color:"white",fontSize:"10px"}})]})]})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"10px 16px",borderTop:"1px solid #2a2a4a",background:"linear-gradient(180deg, #0d0d15 0%, #111120 100%)",gap:"16px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",flex:1},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:"rgba(0, 229, 255, 0.1)",border:"1px solid rgba(0, 229, 255, 0.3)",borderRadius:"4px"},children:[f.jsx(YT,{style:{color:"#00e5ff",fontSize:"14px"}}),f.jsxs("div",{children:[f.jsx("div",{style:{color:"#888",fontSize:"9px"},children:"ISR COVERAGE"}),f.jsx("div",{style:{color:"#00e5ff",fontSize:"12px",fontWeight:"bold"},children:"3 ASSETS ON STATION"})]})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:"rgba(255, 170, 0, 0.1)",border:"1px solid rgba(255, 170, 0, 0.3)",borderRadius:"4px"},children:[f.jsx(w5,{style:{color:"#ffaa00",fontSize:"14px"}}),f.jsxs("div",{children:[f.jsx("div",{style:{color:"#888",fontSize:"9px"},children:"SEAD WINDOW"}),f.jsx("div",{style:{color:"#ffaa00",fontSize:"12px",fontWeight:"bold"},children:"T-45 MIN"})]})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:"rgba(0, 255, 0, 0.1)",border:"1px solid rgba(0, 255, 0, 0.3)",borderRadius:"4px"},children:[f.jsx($T,{style:{color:"#00ff00",fontSize:"14px"}}),f.jsxs("div",{children:[f.jsx("div",{style:{color:"#888",fontSize:"9px"},children:"STRIKE PKG"}),f.jsx("div",{style:{color:"#00ff00",fontSize:"12px",fontWeight:"bold"},children:"READY"})]})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:"rgba(255, 68, 68, 0.1)",border:"1px solid rgba(255, 68, 68, 0.3)",borderRadius:"4px",animation:"pulse-text 2s ease-in-out infinite"},children:[f.jsx(H4,{style:{color:"#ff4444",fontSize:"14px"}}),f.jsxs("div",{children:[f.jsx("div",{style:{color:"#888",fontSize:"9px"},children:"THREAT ALERT"}),f.jsx("div",{style:{color:"#ff4444",fontSize:"12px",fontWeight:"bold"},children:"S-400 ACTIVE"})]})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:"#1a1a2e",border:"1px solid #2a2a4a",borderRadius:"4px"},children:[f.jsx(K4,{style:{color:"#00ff00",fontSize:"14px"}}),f.jsxs("div",{children:[f.jsx("div",{style:{color:"#888",fontSize:"9px"},children:"SATCOM LINK"}),f.jsx("div",{style:{color:"#00ff00",fontSize:"12px",fontWeight:"bold"},children:"5x5 CLEAR"})]})]})]}),f.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",paddingLeft:"16px",borderLeft:"1px solid #2a2a4a"},children:[f.jsxs("button",{style:{padding:"8px 16px",background:"rgba(255, 68, 68, 0.2)",border:"1px solid #ff4444",borderRadius:"4px",color:"#ff4444",fontSize:"11px",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx(H4,{})," ABORT"]}),f.jsxs("button",{style:{padding:"8px 20px",background:s?"linear-gradient(180deg, #00e5ff 0%, #0099aa 100%)":"linear-gradient(180deg, #444 0%, #333 100%)",border:"none",borderRadius:"4px",color:s?"#000":"#666",fontSize:"12px",fontWeight:"bold",cursor:s?"pointer":"not-allowed",display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx(qT,{})," EXECUTE TASKING (",s?"1":"0",")"]})]})]})]})]}),f.jsxs("div",{style:{width:"300px",background:"#0d0d15",borderLeft:"1px solid #2a2a4a",display:"flex",flexDirection:"column",overflow:"hidden",pointerEvents:"auto"},children:[f.jsxs("div",{style:{padding:"12px 14px",borderBottom:"1px solid #2a2a4a",background:"#111120",flexShrink:0},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px"},children:[f.jsx("span",{style:{color:"#00e5ff",fontWeight:"bold",fontSize:"14px",letterSpacing:"1px"},children:"MISSION CONTROL"}),f.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center"},children:[f.jsx("span",{style:{background:"#00ff00",width:"10px",height:"10px",borderRadius:"50%",animation:"pulse-text 1s ease-in-out infinite"}}),f.jsx("span",{style:{color:"#00ff00",fontSize:"11px",fontWeight:"bold"},children:"SYNC"})]})]}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"8px",fontSize:"11px"},children:[f.jsxs("div",{style:{background:"#1a1a2e",padding:"6px 8px",borderRadius:"4px",textAlign:"center"},children:[f.jsx("div",{style:{color:"#888"},children:"QUEUE"}),f.jsx("div",{style:{color:"#ffaa00",fontWeight:"bold",fontSize:"14px"},children:"7"})]}),f.jsxs("div",{style:{background:"#1a1a2e",padding:"6px 8px",borderRadius:"4px",textAlign:"center"},children:[f.jsx("div",{style:{color:"#888"},children:"ACTIVE"}),f.jsx("div",{style:{color:"#00ff00",fontWeight:"bold",fontSize:"14px"},children:"3"})]}),f.jsxs("div",{style:{background:"#1a1a2e",padding:"6px 8px",borderRadius:"4px",textAlign:"center"},children:[f.jsx("div",{style:{color:"#888"},children:"PENDING"}),f.jsx("div",{style:{color:"#00e5ff",fontWeight:"bold",fontSize:"14px"},children:"12"})]})]})]}),f.jsxs("div",{style:{flex:1,overflowY:"auto",overflowX:"hidden"},children:[f.jsxs("div",{style:{padding:"12px 14px",borderBottom:"1px solid #2a2a4a"},children:[f.jsx("div",{style:{color:"#ff4444",fontSize:"12px",fontWeight:"bold",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:" THREAT ASSESSMENT"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"6px",fontSize:"11px"},children:[f.jsxs("div",{style:{background:"rgba(255, 68, 68, 0.1)",border:"1px solid rgba(255, 68, 68, 0.3)",padding:"8px",borderRadius:"4px"},children:[f.jsx("div",{style:{color:"#aaa",marginBottom:"2px"},children:"SAM Coverage"}),f.jsx("div",{style:{color:"#ff4444",fontWeight:"bold",fontSize:"12px"},children:"HIGH (S-400)"})]}),f.jsxs("div",{style:{background:"rgba(255, 170, 0, 0.1)",border:"1px solid rgba(255, 170, 0, 0.3)",padding:"8px",borderRadius:"4px"},children:[f.jsx("div",{style:{color:"#aaa",marginBottom:"2px"},children:"Air Defense"}),f.jsx("div",{style:{color:"#ffaa00",fontWeight:"bold",fontSize:"12px"},children:"MODERATE"})]}),f.jsxs("div",{style:{background:"rgba(0, 255, 0, 0.1)",border:"1px solid rgba(0, 255, 0, 0.3)",padding:"8px",borderRadius:"4px"},children:[f.jsx("div",{style:{color:"#aaa",marginBottom:"2px"},children:"EW Activity"}),f.jsx("div",{style:{color:"#00ff00",fontWeight:"bold",fontSize:"12px"},children:"LOW"})]}),f.jsxs("div",{style:{background:"rgba(255, 68, 68, 0.1)",border:"1px solid rgba(255, 68, 68, 0.3)",padding:"8px",borderRadius:"4px"},children:[f.jsx("div",{style:{color:"#aaa",marginBottom:"2px"},children:"IADS Status"}),f.jsx("div",{style:{color:"#ff4444",fontWeight:"bold",fontSize:"12px"},children:"ACTIVE"})]})]})]}),f.jsxs("div",{style:{padding:"12px 14px",borderBottom:"1px solid #2a2a4a"},children:[f.jsx("div",{style:{color:"#aaa",fontSize:"12px",fontWeight:"bold",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:" TARGET PARAMETERS"}),f.jsxs("div",{style:{fontSize:"11px",display:"flex",flexDirection:"column",gap:"6px"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[f.jsx("span",{style:{color:"#888"},children:"BE Number:"}),f.jsx("span",{style:{color:"#00e5ff",fontFamily:"monospace",fontSize:"12px"},children:"BE-7742-NK-0093"})]}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[f.jsx("span",{style:{color:"#888"},children:"Cat Code:"}),f.jsx("span",{style:{color:"#fff"},children:"21140 - C2 FACILITY"})]}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[f.jsx("span",{style:{color:"#888"},children:"Collateral:"}),f.jsx("span",{style:{color:"#ffaa00",fontWeight:"bold"},children:"CDE LVL 3"})]}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[f.jsx("span",{style:{color:"#888"},children:"NSL Auth:"}),f.jsx("span",{style:{color:"#00ff00",fontWeight:"bold"},children:"PRE-APPROVED"})]})]})]}),f.jsxs("div",{style:{padding:"12px 14px",borderBottom:"1px solid #2a2a4a"},children:[f.jsxs("div",{style:{color:"#aaa",fontSize:"12px",fontWeight:"bold",marginBottom:"8px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[f.jsx("span",{children:" WEAPONEERING"}),f.jsx("span",{style:{color:"#00e5ff",fontSize:"10px"},children:"AUTO-CALC"})]}),f.jsxs("div",{style:{background:"#1a1a2e",borderRadius:"4px",padding:"10px",fontSize:"11px"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px"},children:[f.jsx("span",{style:{color:"#888"},children:"Recommended:"}),f.jsx("span",{style:{color:"#00e5ff",fontWeight:"bold"},children:"GBU-31 JDAM (2x)"})]}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px"},children:[f.jsx("span",{style:{color:"#888"},children:"Alt Option:"}),f.jsx("span",{style:{color:"#aaa"},children:"BGM-109 TLAM (1x)"})]}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px"},children:[f.jsx("span",{style:{color:"#888"},children:"Pk (Single):"}),f.jsx("span",{style:{color:"#00ff00",fontWeight:"bold",fontSize:"12px"},children:"0.87"})]}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[f.jsx("span",{style:{color:"#888"},children:"Pk (Salvo):"}),f.jsx("span",{style:{color:"#00ff00",fontWeight:"bold",fontSize:"12px"},children:"0.98"})]}),f.jsxs("div",{style:{marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #2a2a4a",display:"flex",justifyContent:"space-between"},children:[f.jsx("span",{style:{color:"#888"},children:"CEP:"}),f.jsx("span",{style:{color:"#fff",fontWeight:"bold"},children:"3.2m"})]})]})]}),f.jsxs("div",{style:{padding:"12px 14px",borderBottom:"1px solid #2a2a4a"},children:[f.jsx("div",{style:{color:"#00e5ff",fontSize:"12px",fontWeight:"bold",marginBottom:"10px",display:"flex",alignItems:"center",gap:"6px"},children:" TASKING ORDER"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginBottom:"10px"},children:[f.jsxs("div",{children:[f.jsx("div",{style:{color:"#888",fontSize:"10px",marginBottom:"4px"},children:"TASK TYPE"}),f.jsxs("select",{style:{width:"100%",padding:"6px 8px",background:"#1a1a2e",border:"1px solid #2a2a4a",borderRadius:"4px",color:"white",fontSize:"12px"},children:[f.jsx("option",{children:"SMACK"}),f.jsx("option",{children:"STRIKE"}),f.jsx("option",{children:"SEAD"}),f.jsx("option",{children:"CAS"})]})]}),f.jsxs("div",{children:[f.jsx("div",{style:{color:"#888",fontSize:"10px",marginBottom:"4px"},children:"PRIORITY"}),f.jsxs("select",{style:{width:"100%",padding:"6px 8px",background:"#1a1a2e",border:"1px solid #2a2a4a",borderRadius:"4px",color:"#ff4444",fontSize:"12px",fontWeight:"bold"},children:[f.jsx("option",{children:"CRITICAL"}),f.jsx("option",{children:"HIGH"}),f.jsx("option",{children:"MEDIUM"}),f.jsx("option",{children:"LOW"})]})]})]}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginBottom:"10px"},children:[f.jsxs("div",{children:[f.jsx("div",{style:{color:"#888",fontSize:"10px",marginBottom:"4px"},children:"TOT (Zulu)"}),f.jsx("input",{type:"text",value:"18:55:00Z",readOnly:!0,style:{width:"100%",padding:"6px 8px",background:"#1a1a2e",border:"1px solid #2a2a4a",borderRadius:"4px",color:"#00e5ff",fontSize:"12px",fontFamily:"monospace"}})]}),f.jsxs("div",{children:[f.jsx("div",{style:{color:"#888",fontSize:"10px",marginBottom:"4px"},children:"NLT"}),f.jsx("input",{type:"text",value:"19:30:00Z",readOnly:!0,style:{width:"100%",padding:"6px 8px",background:"#1a1a2e",border:"1px solid #2a2a4a",borderRadius:"4px",color:"#ffaa00",fontSize:"12px",fontFamily:"monospace"}})]})]}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("div",{style:{color:"#888",fontSize:"10px",marginBottom:"4px"},children:"INGRESS ROUTE"}),f.jsxs("div",{style:{background:"#1a1a2e",padding:"8px 10px",borderRadius:"4px",fontSize:"11px",color:"#888",display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{style:{color:"#00e5ff",fontWeight:"bold"},children:"IP-ALPHA"}),f.jsx("span",{children:""}),f.jsx("span",{style:{color:"#ffaa00",fontWeight:"bold"},children:"WP-1"}),f.jsx("span",{children:""}),f.jsx("span",{style:{color:"#ff4444",fontWeight:"bold"},children:"TGT"}),f.jsx("span",{children:""}),f.jsx("span",{style:{color:"#00ff00",fontWeight:"bold"},children:"EGRESS-S"})]})]}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("div",{style:{color:"#888",fontSize:"10px",marginBottom:"4px"},children:"GUIDANCE / ROE"}),f.jsx("textarea",{value:l,onChange:E=>c(E.target.value),placeholder:"Mission guidance, ROE restrictions...",style:{width:"100%",height:"55px",padding:"8px",background:"#1a1a2e",border:"1px solid #2a2a4a",borderRadius:"4px",color:"white",fontSize:"11px",resize:"none"}})]}),f.jsxs("div",{style:{background:"rgba(0, 229, 255, 0.05)",border:"1px solid rgba(0, 229, 255, 0.2)",borderRadius:"4px",padding:"8px 10px",fontSize:"11px"},children:[f.jsx("div",{style:{color:"#00e5ff",marginBottom:"6px",fontWeight:"bold",fontSize:"11px"},children:"COORD CHECKLIST"}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#aaa"},children:[f.jsx("input",{type:"checkbox",defaultChecked:!0,style:{accentColor:"#00ff00",width:"14px",height:"14px"}}),f.jsx("span",{children:"JFACC Approved"}),f.jsx("span",{style:{marginLeft:"auto",color:"#00ff00",fontWeight:"bold"},children:""})]}),f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#aaa"},children:[f.jsx("input",{type:"checkbox",defaultChecked:!0,style:{accentColor:"#00ff00",width:"14px",height:"14px"}}),f.jsx("span",{children:"Airspace Deconflict"}),f.jsx("span",{style:{marginLeft:"auto",color:"#00ff00",fontWeight:"bold"},children:""})]}),f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#aaa"},children:[f.jsx("input",{type:"checkbox",style:{accentColor:"#00ff00",width:"14px",height:"14px"}}),f.jsx("span",{children:"SEAD Scheduled"}),f.jsx("span",{style:{marginLeft:"auto",color:"#ffaa00"},children:""})]}),f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#aaa"},children:[f.jsx("input",{type:"checkbox",style:{accentColor:"#00ff00",width:"14px",height:"14px"}}),f.jsx("span",{children:"BDA Assets Tasked"}),f.jsx("span",{style:{marginLeft:"auto",color:"#666"},children:"-"})]})]})]})]})]}),f.jsxs("div",{style:{padding:"12px 14px",background:"#111120",flexShrink:0},children:[f.jsxs("button",{style:{width:"100%",padding:"12px",background:s?"linear-gradient(180deg, #00e5ff 0%, #0099aa 100%)":"linear-gradient(180deg, #444 0%, #333 100%)",border:"none",borderRadius:"4px",color:s?"#000":"#666",fontSize:"13px",fontWeight:"bold",cursor:s?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[f.jsx(X4,{})," SUBMIT TASKING (",s?"1":"0",")"]}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"8px",fontSize:"10px",color:"#888"},children:[f.jsx("span",{children:"Classification: SECRET//NOFORN"}),f.jsx("span",{children:"REL TO: USA, FVEY"})]})]})]})]}),f.jsx("style",{children:`
          @keyframes pulse-ring {
            0%, 100% { box-shadow: 0 0 60px rgba(255, 0, 100, 0.3), inset 0 0 60px rgba(255, 0, 100, 0.1); }
            50% { box-shadow: 0 0 100px rgba(255, 0, 100, 0.5), inset 0 0 80px rgba(255, 0, 100, 0.2); }
          }
          @keyframes pulse-text {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
          }
        `})]})};function VP(){const[n,e]=$.useState(""),[t,i]=$.useState(!1),[r,s]=$.useState(null),[o,l]=$.useState(!1),[c,d]=$.useState(!1),[u,h]=$.useState(!1),[p,m]=$.useState(null),[C,v]=$.useState(!1),[A,y]=$.useState(""),[S,w]=$.useState(!1),[k,E]=$.useState(!1),[T,_]=$.useState(""),[P,N]=$.useState(""),[B,D]=$.useState(!1),[I,F]=$.useState(null),[M,U]=$.useState(!1),[z,W]=$.useState(""),R=$.useRef(null),L=async()=>{v(!0);const X=["INITIALIZING SATELLITE CONNECTION...","ACCESSING CLASSIFIED DATABASE...","TRIANGULATING CPEC COORDINATES...","DECRYPTING GEOSPATIAL DATA...","SYNCHRONIZING WITH GROUND STATIONS...","ESTABLISHING SECURE LINK...","CPEC INTELLIGENCE ACTIVATED"];for(let te=0;te<X.length;te++)y(X[te]),await new Promise(Be=>setTimeout(Be,800));v(!1),y("")},H=async()=>{w(!0);const X=["FINDING OFFICIALS...","FINDING OFFICIALS...","FINDING OFFICIALS...","FINDING OFFICIALS...","FINDING OFFICIALS...","FINDING OFFICIALS...","KEY OFFICIALS DATABASE UNLOCKED"];for(let te=0;te<X.length;te++)N(X[te]),await new Promise(Be=>setTimeout(Be,800));w(!1),N("")},ie=async()=>{E(!0);const X=["ESTABLISHING SECURE NAVAL UPLINK...","SCANNING ORMARA COASTAL DEFENSES...","ACCESSING JINNAH NAVAL BASE RECORDS...","TRIANGULATING MARITIME ASSETS...","SYNCHRONIZING SENSOR FEED...","ORMARA INTELLIGENCE SYSTEM BYPASS READY","ACCESS GRANTED: ORMARA SECTOR"];for(let te=0;te<X.length;te++)_(X[te]),await new Promise(Be=>setTimeout(Be,800));E(!1),_("")},G=async()=>{U(!0);const X=["INITIALIZING INTEL WORKSPACE...","ESTABLISHING SECURE UPLINK...","ACCESSING TACTICAL DATABASE...","LOADING SENSOR NETWORKS...","CALIBRATING TARGET ACQUISITION...","SYNCHRONIZING ASSET POSITIONS...","DECRYPTING MISSION DATA...","LOADING ISR FEEDS...","INTEL WORKSPACE READY"];for(let te=0;te<X.length;te++)W(X[te]),await new Promise(Be=>setTimeout(Be,400));U(!1),W("")},ne=async X=>{if(X.preventDefault(),!!n.trim()){i(!0),s(null);try{if(R.current&&R.current.searchUnit(n)){l(!1),i(!1);return}const te=await k_.search(n);te?te.isCPEC&&R.current?(i(!1),await L(),R.current.showCPECRoute(),l(!0),te.bbox?R.current.flyToBounds(te.bbox):R.current.flyTo(te.lon,te.lat,2e6)):te.isOrmara&&R.current?(i(!1),await ie(),h(!0),R.current.flyTo(te.lon,te.lat,5e4),R.current.addTargetEntity(te.lon,te.lat,"Ormara Intelligence Target")):R.current&&(R.current.hideCPECRoute(),l(!1),te.bbox?R.current.flyToBounds(te.bbox):R.current.flyTo(te.lon,te.lat)):(s("Location not found"),l(!1))}catch(te){s("Error searching location"),console.error(te)}finally{i(!1)}}};return f.jsxs("div",{style:{position:"relative",width:"100%",height:"100vh"},children:[" ","      ",!B&&f.jsxs("div",{style:{position:"absolute",top:20,left:20,zIndex:1e3,background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",padding:"15px",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",display:"flex",flexDirection:"column",gap:"10px",maxWidth:"300px"},children:[f.jsxs("form",{onSubmit:ne,style:{display:"flex",gap:"8px"},children:[" ",f.jsx("input",{type:"text",value:n,onChange:X=>e(X.target.value),placeholder:"Search location...","aria-label":"Search location",style:{padding:"10px 12px",borderRadius:"8px",border:"1px solid rgba(0, 255, 255, 0.3)",background:"rgba(0, 0, 0, 0.3)",color:"white",flex:1,fontSize:"14px",fontFamily:"monospace",outline:"none"},onFocus:X=>{X.target.style.border="1px solid rgba(0, 255, 255, 0.6)",X.target.style.boxShadow="0 0 10px rgba(0, 255, 255, 0.2)"},onBlur:X=>{X.target.style.border="1px solid rgba(0, 255, 255, 0.3)",X.target.style.boxShadow="none"}}),f.jsx("button",{type:"submit",disabled:t,style:{padding:"10px 16px",background:t?"rgba(0, 255, 255, 0.3)":"rgba(0, 255, 255, 0.8)",color:t?"#666":"#000",border:"1px solid rgba(0, 255, 255, 0.6)",borderRadius:"8px",cursor:t?"wait":"pointer",fontSize:"14px",fontFamily:"monospace",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px",transition:"all 0.3s ease"},children:t?"...":"Go"})]})," ",r&&f.jsx("div",{style:{color:"#ff6b6b",fontSize:"12px",fontFamily:"monospace",textAlign:"center",background:"rgba(255, 107, 107, 0.1)",padding:"8px",borderRadius:"6px",border:"1px solid rgba(255, 107, 107, 0.3)"},children:r})]}),"      ",f.jsx(A_,{ref:R,onEnterIntelWorkspace:async X=>{F(X),l(!1),d(!1),await G(),D(!0),R.current&&X.coordinates&&(R.current.flyToUnit(X.coordinates.lon,X.coordinates.lat,8e3),R.current.addTargetEntity(X.coordinates.lon,X.coordinates.lat,X.name))}}),f.jsx(_P,{isVisible:u&&!B,onClose:()=>h(!1),onViewKeyOfficials:()=>{h(!1),d(!0)},onZoomTarget:(X,te,Be)=>{R.current&&R.current.flyTo(X,te,Be)}}),f.jsx(GP,{isVisible:B,unit:I,onClose:()=>{D(!1),F(null),R.current&&R.current.removeTargetEntity()},onAssetSelected:(X,te)=>{R.current&&R.current.updateTargetRings(te),console.log(`Asset ${X||"none"} selected, destruction radius: ${te}m`)}}),C&&f.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.95)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:5e3,fontFamily:"monospace"},children:[f.jsx("div",{style:{color:"#00ffff",fontSize:"24px",marginBottom:"30px",letterSpacing:"3px",textTransform:"uppercase"},children:"CPEC INTELLIGENCE SYSTEM"}),f.jsx("div",{style:{color:"#00ff00",fontSize:"16px",marginBottom:"40px",animation:"pulse 1.5s ease-in-out infinite alternate",textAlign:"center",minHeight:"20px"},children:A}),f.jsx("div",{style:{width:"300px",height:"2px",background:"rgba(0, 255, 255, 0.3)",borderRadius:"1px",overflow:"hidden",position:"relative"},children:f.jsx("div",{style:{width:"100px",height:"100%",background:"linear-gradient(90deg, transparent, #00ffff, transparent)",animation:"loading 2s linear infinite"}})}),f.jsx("div",{style:{color:"#666",fontSize:"10px",marginTop:"20px",letterSpacing:"1px"},children:"CLASSIFIED - AUTHORIZED PERSONNEL ONLY"})," "]}),S&&f.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.95)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:5e3,fontFamily:"monospace"},children:[f.jsx("div",{style:{color:"#ff6600",fontSize:"24px",marginBottom:"30px",letterSpacing:"3px",textTransform:"uppercase"},children:"OFFICIAL PERSONNEL RECORDS"}),f.jsx("div",{style:{color:"#ffff00",fontSize:"16px",marginBottom:"40px",animation:"pulse 1.5s ease-in-out infinite alternate",textAlign:"center",minHeight:"20px"},children:P}),f.jsx("div",{style:{width:"300px",height:"2px",background:"rgba(255, 102, 0, 0.3)",borderRadius:"1px",overflow:"hidden",position:"relative"},children:f.jsx("div",{style:{width:"100px",height:"100%",background:"linear-gradient(90deg, transparent, #ff6600, transparent)",animation:"loading 2s linear infinite"}})}),f.jsx("div",{style:{color:"#666",fontSize:"10px",marginTop:"20px",letterSpacing:"1px"},children:"            TOP SECRET - INTELLIGENCE PERSONNEL ONLY"})]}),k&&f.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 5, 10, 0.98)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:5500,fontFamily:"monospace"},children:[f.jsx("div",{style:{position:"absolute",width:"100%",height:"100%",background:"radial-gradient(circle at center, rgba(0, 255, 170, 0.05) 0%, transparent 70%)",pointerEvents:"none"}}),f.jsxs("div",{style:{color:"#00ffaa",fontSize:"24px",marginBottom:"30px",letterSpacing:"4px",textTransform:"uppercase",display:"flex",alignItems:"center",gap:"15px"},children:[f.jsx("div",{style:{animation:"rotate 2s linear infinite"},children:""}),"ORMARA INTELLIGENCE NETWORK"]}),f.jsx("div",{style:{color:"#fff",fontSize:"14px",marginBottom:"40px",textAlign:"center",minHeight:"20px",letterSpacing:"1px",background:"rgba(0, 255, 170, 0.1)",padding:"10px 20px",border:"1px solid rgba(0, 255, 170, 0.3)",borderRadius:"4px"},children:T}),f.jsx("div",{style:{width:"350px",height:"2px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"1px",overflow:"hidden",position:"relative"},children:f.jsx("div",{style:{width:"120px",height:"100%",background:"linear-gradient(90deg, transparent, #00ffaa, transparent)",animation:"loading 1.5s linear infinite"}})}),f.jsx("div",{style:{color:"#444",fontSize:"10px",marginTop:"20px",letterSpacing:"2px"},children:"RESTRICTED ACCESS  NAVAL SECTOR 7"})]}),M&&f.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.98)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:5e3,fontFamily:"monospace"},children:[f.jsx("div",{style:{position:"absolute",top:20,color:"#ff0000",fontSize:"12px",letterSpacing:"4px",textTransform:"uppercase",borderTop:"1px solid #ff0000",borderBottom:"1px solid #ff0000",padding:"8px 30px",animation:"pulse 1s ease-in-out infinite alternate"},children:" TOP SECRET // NOFORN // ORCON "}),f.jsx("div",{style:{position:"absolute",width:"100%",height:"100%",backgroundImage:`
                linear-gradient(rgba(0, 150, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 150, 255, 0.03) 1px, transparent 1px)
              `,backgroundSize:"50px 50px",animation:"gridMove 20s linear infinite"}}),f.jsxs("div",{style:{position:"relative",width:"150px",height:"150px",marginBottom:"40px"},children:[f.jsx("div",{style:{position:"absolute",width:"150px",height:"150px",border:"2px solid rgba(0, 150, 255, 0.5)",borderRadius:"50%",animation:"rotate 8s linear infinite"},children:[0,45,90,135,180,225,270,315].map(X=>f.jsx("div",{style:{position:"absolute",width:"2px",height:"10px",background:"#0096ff",top:"0",left:"50%",transformOrigin:"50% 75px",transform:`translateX(-50%) rotate(${X}deg)`}},X))}),f.jsx("div",{style:{position:"absolute",width:"100px",height:"100px",top:"25px",left:"25px",border:"1px solid rgba(0, 150, 255, 0.4)",borderRadius:"50%",animation:"rotateReverse 6s linear infinite"}}),f.jsx("div",{style:{position:"absolute",width:"50px",height:"50px",top:"50px",left:"50px",border:"1px solid rgba(0, 150, 255, 0.6)",borderRadius:"50%",animation:"rotate 4s linear infinite"}}),f.jsx("div",{style:{position:"absolute",width:"10px",height:"10px",top:"70px",left:"70px",background:"#0096ff",borderRadius:"50%",boxShadow:"0 0 20px #0096ff, 0 0 40px #0096ff",animation:"pulse 1s ease-in-out infinite alternate"}}),f.jsx("div",{style:{position:"absolute",width:"150px",height:"2px",top:"74px",left:"0",background:"linear-gradient(90deg, transparent, rgba(0, 150, 255, 0.5) 30%, transparent 50%, rgba(0, 150, 255, 0.5) 70%, transparent)"}}),f.jsx("div",{style:{position:"absolute",width:"2px",height:"150px",top:"0",left:"74px",background:"linear-gradient(180deg, transparent, rgba(0, 150, 255, 0.5) 30%, transparent 50%, rgba(0, 150, 255, 0.5) 70%, transparent)"}})]}),f.jsx("div",{style:{color:"#0096ff",fontSize:"28px",marginBottom:"15px",letterSpacing:"8px",textTransform:"uppercase",textShadow:"0 0 20px rgba(0, 150, 255, 0.5)"},children:"INTEL WORKSPACE"}),f.jsx("div",{style:{color:"#00ff88",fontSize:"12px",marginBottom:"30px",letterSpacing:"3px",textTransform:"uppercase"},children:"TACTICAL OPERATIONS CENTER"}),f.jsx("div",{style:{color:"#ffffff",fontSize:"14px",marginBottom:"30px",animation:"pulse 0.5s ease-in-out infinite alternate",textAlign:"center",minHeight:"20px",letterSpacing:"2px",textShadow:"0 0 10px rgba(255, 255, 255, 0.3)"},children:z}),f.jsx("div",{style:{width:"350px",height:"3px",background:"rgba(0, 150, 255, 0.2)",borderRadius:"2px",overflow:"hidden",position:"relative",border:"1px solid rgba(0, 150, 255, 0.3)"},children:f.jsx("div",{style:{width:"120px",height:"100%",background:"linear-gradient(90deg, transparent, #0096ff, #00ff88, #0096ff, transparent)",animation:"loading 1.5s linear infinite"}})}),f.jsxs("div",{style:{marginTop:"40px",display:"flex",gap:"40px",fontSize:"10px",color:"#666",letterSpacing:"1px"},children:[f.jsxs("div",{style:{textAlign:"center"},children:[f.jsx("div",{style:{color:"#0096ff",marginBottom:"4px"},children:"LINK STATUS"}),f.jsx("div",{style:{color:"#00ff88"},children:" ACTIVE"})]}),f.jsxs("div",{style:{textAlign:"center"},children:[f.jsx("div",{style:{color:"#0096ff",marginBottom:"4px"},children:"ENCRYPTION"}),f.jsx("div",{style:{color:"#00ff88"},children:"AES-256"})]}),f.jsxs("div",{style:{textAlign:"center"},children:[f.jsx("div",{style:{color:"#0096ff",marginBottom:"4px"},children:"CLEARANCE"}),f.jsx("div",{style:{color:"#ffaa00"},children:"TS/SCI"})]})]}),f.jsxs("div",{style:{position:"absolute",bottom:30,color:"#444",fontSize:"10px",letterSpacing:"2px",textAlign:"center"},children:["UNAUTHORIZED ACCESS IS PROHIBITED",f.jsx("br",{}),f.jsx("span",{style:{color:"#666"},children:"ALL ACTIVITIES ARE MONITORED AND RECORDED"})]})]}),"      ",f.jsx(__,{isVisible:o&&!B,onClose:()=>l(!1),onViewKeyOfficials:async()=>{await H(),d(!0)},selectedRoute:p,onRouteSelect:X=>{m(X),R.current&&(X===null?R.current.showAllRoutes():R.current.showSingleRoute(X))}}),f.jsx(WP,{isVisible:c&&!B,onClose:()=>d(!1)}),"      ",f.jsx("style",{children:`
          @keyframes pulse {
            from { opacity: 1; }
            to { opacity: 0.4; }
          }
          
          @keyframes loading {
            0% { transform: translateX(-120px); }
            100% { transform: translateX(350px); }
          }
          
          @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
          
          @keyframes rotateReverse {
            from { transform: rotate(360deg); }
            to { transform: rotate(0deg); }
          }
          
          @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
          }
        `})]})}P2.createRoot(document.getElementById("root")).render(f.jsx(VP,{}));
